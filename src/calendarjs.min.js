function calendarJs(Cb,Db,Eb){function fa(a){p=k(a)?a:new Date;var b=(new Date(p.getFullYear(),p.getMonth(),1)).getDay();a=Ta(p.getFullYear(),p.getMonth());0===b&&(b=7);xa();if(!ib){var c=U(jb);c.className="calendar";Fb(c);Gb(c);Hb(c);Ib(c);var e=f("div"),g=d.dayHeaderNames.length;e.className="row header-days";c.appendChild(e);for(var h=0;h<g;h++){var l=d.dayHeaderNames[h],m=f("div");m.className="cell";m.innerHTML=l;e.appendChild(m)}for(e=0;6>e;e++)for(g=f("div"),g.className="row",c.appendChild(g),
h=0;7>h;h++)l=7*e+(h+1),m=f("div"),m.className="cell",m.id="calendar-day-"+l,g.appendChild(m);ib=!0}h=b;if(1<h)for(c=new Date(p),c.setMonth(c.getMonth()-1),e=Ta(c.getFullYear(),c.getMonth()),g=1,h=e-h+1;h<e;h++)Ua(h+1,g,c.getMonth(),c.getFullYear(),!0),g++;for(e=c=0;e<a;e++)c=b+e,Ua(e+1,c,p.getMonth(),p.getFullYear(),!1);if(42>c)for(a=1,b=new Date(p),b.setMonth(b.getMonth()+1),c+=1;43>c;c++)Ua(a,c,b.getMonth(),b.getFullYear(),!0),a++;O();null===z&&(z=f("div"),z.className="disabled-background");null===
P&&(P=f("div"),P.className="calender-event-editor-dialog",r.body.appendChild(P),b=f("div"),b.className="view",P.appendChild(b),ha=f("div"),ha.className="disabled-area",b.appendChild(ha),ia=f("div"),ia.className="title-bar",b.appendChild(ia),a=f("div"),a.className="contents",b.appendChild(a),b=f("p"),b.innerText=d.fromText,a.appendChild(b),b=f("div"),b.className="split",a.appendChild(b),A=f("input"),A.onchange=Va,b.appendChild(A),ya(A,"date"),B=f("input"),b.appendChild(B),ya(B,"time"),b=f("label"),
b.className="checkbox",b.innerText=d.isAllDayEventText,a.appendChild(b),H=f("input"),H.type="checkbox",H.onchange=Va,b.appendChild(H),c=f("span"),c.className="check-mark",b.appendChild(c),b=f("p"),b.innerText=d.toText,a.appendChild(b),b=f("div"),b.className="split",a.appendChild(b),C=f("input"),b.appendChild(C),ya(C,"date"),D=f("input"),b.appendChild(D),ya(D,"time"),b=f("p"),b.innerText=d.titleText,a.appendChild(b),Q=f("input"),Q.type="text",a.appendChild(Q),b=f("p"),b.innerText=d.descriptionText,
a.appendChild(b),V=f("textarea"),V.className="custom-scroll-bars",a.appendChild(V),W=f("p"),W.className="error",a.appendChild(W),b=f("div"),b.className="split",a.appendChild(b),I=f("input"),I.className="ok",I.type="button",I.value=d.addText,I.onclick=Jb,b.appendChild(I),c=f("input"),c.className="cancel",c.type="button",c.value=d.cancelText,c.onclick=Wa,b.appendChild(c),J=f("input"),J.className="remove",J.type="button",J.value=d.removeEventText,J.onclick=Kb,a.appendChild(J));null===K&&(K=f("div"),
K.className="calender-confirmation-dialog",r.body.appendChild(K),za=f("div"),za.className="title-bar",K.appendChild(za),a=f("div"),a.className="contents",K.appendChild(a),Aa=f("div"),Aa.className="message",a.appendChild(Aa),b=f("div"),b.className="split",a.appendChild(b),R=f("input"),R.className="yes",R.type="button",R.value=d.yesText,b.appendChild(R),S=f("input"),S.className="no",S.type="button",S.value=d.noText,b.appendChild(S));null===L&&(L=f("div"),L.className="calender-select-export-type-dialog",
r.body.appendChild(L),Ba=f("div"),Ba.className="title-bar",Ba.innerHTML=d.selectExportTypeTitle,L.appendChild(Ba),b=f("div"),b.className="contents",L.appendChild(b),Xa=Ca(b,"CSV","ExportType"),kb=Ca(b,"XML","ExportType"),lb=Ca(b,"JSON","ExportType"),mb=Ca(b,"TEXT","ExportType"),a=f("div"),a.className="split",b.appendChild(a),b=f("input"),b.className="ok",b.type="button",b.value=d.okText,b.onclick=Lb,a.appendChild(b),b=f("input"),b.className="cancel",b.type="button",b.value=d.cancelText,b.onclick=
nb,a.appendChild(b));null===q&&(q=f("div"),r.body.appendChild(q),Da=f("div"),Da.className="title",ja=f("div"),ja.className="date",X=f("div"),X.className="description",document.body.addEventListener("mousemove",ob));Ea.innerHTML=d.monthNames[p.getMonth()]+", "+p.getFullYear()+" \u25be"}function Ib(a){v=f("div");v.className="header-date";a.appendChild(v);d.fullScreenModeEnabled&&(v.ondblclick=function(){Fa(a)});var b=f("div");b.className="arrow previous-month";b.onclick=pb;v.appendChild(b);t(b,d.previousMonthTooltipText);
b=f("div");b.className="today";b.onclick=qb;v.appendChild(b);t(b,d.todayTooltipText);b=f("div");b.className="refresh";b.onclick=Ya;v.appendChild(b);t(b,d.refreshTooltipText);b=f("div");b.className="arrow next-month";b.onclick=rb;v.appendChild(b);t(b,d.nextMonthTooltipText);d.manualEditingEnabled&&(b=f("div"),b.className="add-event",b.onclick=Ga,v.appendChild(b),t(b,d.addEventTooltipText));d.exportEventsEnabled&&(Y=f("div"),Y.className="export-events",v.appendChild(Y),t(Y,d.exportEventsTooltipText),
Y.onclick=function(){Ha()});b=f("div");b.className="list-all-events";b.onclick=sb;v.appendChild(b);t(b,d.listAllEventsTooltipText);b=f("div");b.className="list-week-events";b.onclick=tb;v.appendChild(b);t(b,d.listWeekEventsTooltipText);b=f("div");b.className="title-container";v.appendChild(b);Ea=f("span");b.appendChild(Ea);Mb(b)}function Mb(a){if(null===y){var b=new Date(1900,1,1),c=(new Date).getFullYear()-b.getFullYear()+d.extraSelectableYearsAhead;y=f("div");y.className="years-drop-down";a.appendChild(y);
a=f("div");a.className="contents custom-scroll-bars";y.appendChild(a);for(var e=0;e<c;e++)Nb(a,b.getFullYear()),b.setFullYear(b.getFullYear()+1);Ea.onclick=function(g){"block"!==y.style.display&&(Ia(g),y.style.display="block")};r.body.addEventListener("click",xa);Ja.addEventListener("resize",xa)}}function Nb(a,b){var c=f("div");c.innerText=b.toString();a.appendChild(c);c.onclick=function(){p.setFullYear(b);fa(p);xa()}}function ka(a){a.isAllDayEvent&&(a.from=new Date(a.from.getFullYear(),a.from.getMonth(),
a.from.getDate(),0,0),a.to=new Date(a.from.getFullYear(),a.from.getMonth(),a.from.getDate(),23,59));return a}function la(a,b){var c=new Date(a.getFullYear(),a.getMonth(),a.getDate()),e=new Date(b.getFullYear(),b.getMonth(),b.getDate());return Math.ceil(Math.abs(e-c)/864E5)}function xa(){null!==y&&"none"!==y.style.display&&(y.style.display="none")}function ma(a){if(null!==d&&Za(d[a]))d[a]()}function Ka(a,b){if(null!==d&&Za(d[a]))d[a](b)}function ub(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==
b&&20!==b||a.push("-");var c=Math.floor(16*Math.random()).toString(16);a.push(c)}return a.join("")}function Fa(a){0>=a.className.indexOf(" full-screen-view")?(a.className+=" full-screen-view",vb=a.style.cssText,a.removeAttribute("style")):(a.className=a.className.replace(" full-screen-view",""),a.style.cssText=vb)}function O(){Ob();null!==na&&0<d.autoRefreshTimerDelay&&(clearTimeout(na),na=null);for(var a in n)if(n.hasOwnProperty(a)){var b=[],c;for(c in n[a])n[a].hasOwnProperty(c)&&b.push(ka(n[a][c]));
b.sort(function(l,m){return l.from-m.from});for(var e=b.length,g=0;g<e;g++){var h=b[g];null!==$a(h.from)&&Pb(h)}b=[]}Qb();Rb()}function Pb(a){wb(a.from,a);if(a.from.getDate()!==a.to.getDate()){var b=la(a.from,a.to);if(0<b)for(var c=new Date(a.from),e=0;e<b;e++)c.setDate(c.getDate()+1),null!==$a(c)&&wb(c,a)}}function wb(a,b){var c=$a(a);if(null!==c&&c.getElementsByClassName(d.manualEditingEnabled?"event":"event-no-hover").length<d.maximumEventsPerDayDisplay){var e=f("div"),g=b.title;d.showTimesInMainCalendarEvents&&
!b.isAllDayEvent&&b.from.getDate()===b.to.getDate()&&(g=oa(b.from,b.to)+": "+g);e.className=d.manualEditingEnabled?"event":"event-no-hover";e.innerHTML=g;c.appendChild(e);e.onmousemove=function(h){xb(h,b)};b.to<new Date&&(e.className+=" expired");b.isAllDayEvent&&(e.className+=" all-day-event");d.dragAndDropForEventsEnabled&&d.manualEditingEnabled&&e.setAttribute("draggable",!0);d.manualEditingEnabled&&(e.onclick=function(){Z(b)});d.dragAndDropForEventsEnabled&&d.manualEditingEnabled&&(e.ondragstart=
function(){w=b})}}function Qb(){var a=0,b;for(b in n)if(n.hasOwnProperty(b))for(var c in n[b])if(n[b].hasOwnProperty(c)){a++;break}d.exportEventsEnabled&&(Y.style.display=0===a?"none":"block")}function $a(a){var b=new Date(p.getFullYear(),p.getMonth(),1),c=new Date(p),e=new Date(p),g=null,h=0;c.setMonth(c.getMonth()+1);e.setMonth(e.getMonth()-1);a.getMonth()===c.getMonth()&&a.getFullYear()===c.getFullYear()?(b=b.getDay()+Ta(p.getFullYear(),p.getMonth()),h=a.getDate()+b-1):a.getMonth()===e.getMonth()&&
a.getFullYear()===e.getFullYear()?h=b.getDay()-la(a,p):a.getMonth()===p.getMonth()&&a.getFullYear()===p.getFullYear()&&(b=b.getDay(),h=a.getDate()+b-1);0<h&&(g=U("calendar-day-"+h));return g}function Ob(){for(var a=0;6>a;a++)for(var b=0;7>b;b++)for(var c=U("calendar-day-"+(7*a+(b+1))).getElementsByClassName(d.manualEditingEnabled?"event":"event-no-hover");c[0];)c[0].parentNode.removeChild(c[0])}function Hb(a){if(null===E){E=f("div");E.className="full-day-view";a.appendChild(E);var b=f("div");b.className=
"title-bar";E.appendChild(b);d.fullScreenModeEnabled&&(b.ondblclick=function(){Fa(a)});T=f("div");T.className="title";b.appendChild(T);var c=f("div");c.className="close";b.appendChild(c);t(c,d.closeTooltipText);c.onclick=function(){ab(E);La=null};d.manualEditingEnabled&&(c=f("div"),c.className="add-event",c.onclick=Ga,b.appendChild(c),t(c,d.addEventTooltipText));d.exportEventsEnabled&&(aa=f("div"),aa.className="export-events",b.appendChild(aa),t(aa,d.exportEventsTooltipText),aa.onclick=function(){Ha(Ma)});
pa=f("div");pa.className="contents custom-scroll-bars";E.appendChild(pa)}}function yb(a){bb(E);T.innerText="";pa.innerHTML="";La=a;Ma=[];var b=f("span");b.innerText=a.getDate();T.appendChild(b);d.showDayNumberOrdinals&&(b=f("sup"),b.innerText=cb(a.getDate()),T.appendChild(b));b=f("span");b.innerText=" "+d.monthNames[a.getMonth()]+" "+a.getFullYear();T.appendChild(b);for(var c in n)if(n.hasOwnProperty(c)){b=[];for(var e in n[c])if(n[c].hasOwnProperty(e))for(var g=ka(n[c][e]),h=la(g.from,g.to)+1,l=
new Date(g.from),m=0;m<h;m++)l.getFullYear()===a.getFullYear()&&l.getMonth()===a.getMonth()&&l.getDate()===a.getDate()&&b.push(g),l.setDate(l.getDate()+1);b.sort(function(u,M){return u.from-M.from});g=b.length;for(h=0;h<g;h++)Sb(b[h])}d.exportEventsEnabled&&(aa.style.display=0===Ma.length?"none":"block")}function Sb(a){var b=f("div");b.className=d.manualEditingEnabled?"event":"event-no-hover";pa.appendChild(b);var c=f("div");c.className="title";c.innerHTML=a.title;b.appendChild(c);c=f("div");c.className=
"date";b.appendChild(c);a.from.getDate()===a.to.getDate()?c.innerHTML=a.isAllDayEvent?d.allDayEventText:oa(a.from,a.to):Na(c,a.from,a.to);a.to<new Date&&(b.className+=" expired");a.isAllDayEvent&&(b.className+=" all-day-event");""!==a.description&&(c=f("div"),c.className="description",c.innerHTML=a.description,b.appendChild(c));d.manualEditingEnabled&&(b.onclick=function(){Z(a)});Ma.push(a)}function Fb(a){if(null===F){F=f("div");F.className="list-all-events-view";a.appendChild(F);var b=f("div");b.className=
"title-bar";F.appendChild(b);d.fullScreenModeEnabled&&(b.ondblclick=function(){Fa(a)});var c=f("div");c.className="title";c.innerHTML=d.allEventsText;b.appendChild(c);c=f("div");c.className="close";b.appendChild(c);t(c,d.closeTooltipText);c.onclick=function(){ab(F)};d.manualEditingEnabled&&(c=f("div"),c.className="add-event",c.onclick=Ga,b.appendChild(c),t(c,d.addEventTooltipText));d.exportEventsEnabled&&(qa=f("div"),qa.className="export-events",b.appendChild(qa),t(qa,d.exportEventsTooltipText),qa.onclick=
function(){Ha()});ra=f("div");ra.className="contents custom-scroll-bars";F.appendChild(ra)}}function sb(){bb(F);ra.innerHTML="";var a=[];for(c in n)if(n.hasOwnProperty(c))for(var b in n[c])n[c].hasOwnProperty(b)&&a.push(ka(n[c][b]));a.sort(function(h,l){return h.from-l.from});var c=a.length;for(b=0;b<c;b++){var e=a[b],g=Tb(e.from);Ub(e,g)}}function Ub(a,b){var c=f("div");c.className=d.manualEditingEnabled?"event":"event-no-hover";b.appendChild(c);var e=f("div");e.className="title";e.innerHTML=a.title;
c.appendChild(e);e=f("div");e.className="date";c.appendChild(e);a.from.getDate()===a.to.getDate()?a.isAllDayEvent?Oa(e,a.from,null," - "+d.allDayEventText):Oa(e,a.from,null," - "+oa(a.from,a.to)):Na(e,a.from,a.to);a.to<new Date&&(c.className+=" expired");a.isAllDayEvent&&(c.className+=" all-day-event");""!==a.description&&(e=f("div"),e.className="description",e.innerHTML=a.description,c.appendChild(e));d.manualEditingEnabled&&(c.onclick=function(){Z(a)})}function Tb(a){var b="month-"+a.getMonth()+
"-"+a.getFullYear(),c=U(b);if(null===c){var e=f("div");e.className="month";ra.appendChild(e);c=f("div");c.className="header";c.innerHTML=d.monthNames[a.getMonth()]+" "+a.getFullYear();e.appendChild(c);c=f("div");c.id=b;c.className="events";e.appendChild(c)}return c}function Gb(a){if(null===G){G=f("div");G.className="list-all-week-events-view";a.appendChild(G);var b=f("div");b.className="title-bar";G.appendChild(b);d.fullScreenModeEnabled&&(b.ondblclick=function(){Fa(a)});var c=f("div");c.className=
"title";c.innerHTML=d.allWeekEventsText;b.appendChild(c);c=f("div");c.className="close";b.appendChild(c);t(c,d.closeTooltipText);c.onclick=function(){ab(G)};d.manualEditingEnabled&&(c=f("div"),c.className="add-event",c.onclick=Ga,b.appendChild(c),t(c,d.addEventTooltipText));d.exportEventsEnabled&&(ba=f("div"),ba.className="export-events",b.appendChild(ba),t(ba,d.exportEventsTooltipText),ba.onclick=function(){Ha(Pa)});sa=f("div");sa.className="contents custom-scroll-bars";G.appendChild(sa)}}function tb(){bb(G);
sa.innerHTML="";Pa=[];var a=[],b=new Date,c=b.getDate()-b.getDay()+1,e=c+6;c=new Date(b.setDate(c));b=new Date(b.setDate(e));c.setHours(0,0,0,0);b.setHours(0,0,0,0);for(var g in n)if(n.hasOwnProperty(g))for(var h in n[g])n[g].hasOwnProperty(h)&&a.push(ka(n[g][h]));a.sort(function(Vb,Wb){return Vb.from-Wb.from});g=a.length;for(h=0;h<g;h++){e=a[h];for(var l=la(e.from,e.to)+1,m=new Date(e.from),u=!1,M=0;M<l;M++)m>=c&&m<=b&&(u=Xb(m),Yb(e,u),u=!0),m.setDate(m.getDate()+1);u&&Pa.push(e)}d.exportEventsEnabled&&
(ba.style.display=0===Pa.length?"none":"block")}function Yb(a,b){var c=f("div");c.className=d.manualEditingEnabled?"event":"event-no-hover";b.appendChild(c);var e=f("div");e.className="title";e.innerHTML=a.title;c.appendChild(e);e=f("div");e.className="date";c.appendChild(e);a.from.getDate()===a.to.getDate()?e.innerHTML=a.isAllDayEvent?d.allDayEventText:oa(a.from,a.to):Na(e,a.from,a.to);a.to<new Date&&(c.className+=" expired");a.isAllDayEvent&&(c.className+=" all-day-event");""!==a.description&&(e=
f("div"),e.className="description",e.innerHTML=a.description,c.appendChild(e));d.manualEditingEnabled&&(c.onclick=function(){Z(a)})}function Xb(a){var b=0>a.getDay()-1?6:a.getDay()-1,c="day-"+b,e=U(c);if(null===e){var g=f("div");g.className="day";sa.appendChild(g);e=f("div");e.className="header";g.appendChild(e);Oa(e,a,d.dayNames[b]+", ");e=f("div");e.id=c;e.className="events";g.appendChild(e)}return e}function oa(a,b){return db(a)+" "+d.toTimeText+" "+db(b)}function db(a){return x(a.getHours())+
":"+x(a.getMinutes())}function Na(a,b,c){a.innerHTML="";var e=f("span");e.innerText=d.startsAtText+" ";a.appendChild(e);zb(a,b);b=f("span");b.innerText=" "+d.andFinishesAtText+" ";a.appendChild(b);zb(a,c)}function zb(a,b,c){c=k(c)?c:!0;Oa(a,b);var e=f("span");e.innerText=" "+d.monthNames[b.getMonth()]+" "+b.getFullYear();a.appendChild(e);c&&(c=f("span"),c.innerText=" "+db(b),a.appendChild(c))}function Oa(a,b,c,e){if(k(c)){var g=f("span");g.innerText=c;a.appendChild(g)}c=f("span");c.innerText=b.getDate();
a.appendChild(c);d.showDayNumberOrdinals&&(c=f("sup"),c.innerText=cb(b.getDate()),a.appendChild(c));k(e)&&(b=f("span"),b.innerText=e,a.appendChild(b))}function Ua(a,b,c,e,g){var h=new Date;h=a===h.getDate()&&p.getFullYear()===h.getFullYear()&&p.getMonth()===h.getMonth();b=U("calendar-day-"+b);var l=f("span");b.className="cell"+(h?" today":"");b.innerHTML="";l.className=g?"day-muted":"";l.innerText=a;d.showDayNumberOrdinals&&(g=f("sup"),g.innerText=cb(a),l.appendChild(g));b.appendChild(l);d.fullDayViewEnabled&&
(g=f("div"),g.className="expand-day",b.appendChild(g),t(g,d.expandDayTooltipText),g.onclick=function(){yb(new Date(e,c,a))});d.manualEditingEnabled&&(b.ondblclick=function(){Z(null,new Date(e,c,a))},d.manualEditingEnabled&&(b.ondragover=function(m){Ia(m)},b.ondrop=function(m){Ia(m);if(null!==w){m=la(w.from,w.to);var u=new Date(e,c,a,w.from.getHours(),w.from.getMinutes()),M=new Date(e,c,a,w.to.getHours(),w.to.getMinutes());0<m&&M.setDate(M.getDate()+m);ta.updateEvent(w.id,{from:u,to:M,title:w.title,
description:w.description,isAllDayEvent:w.isAllDayEvent})}}))}function Ta(a,b){return(new Date(a,b+1,0)).getDate()}function cb(a){var b=d.thText;if(31===a||21===a||1===a)b=d.stText;else if(22===a||2===a)b=d.ndText;else if(23===a||3===a)b=d.rdText;return b}function ya(a,b){try{a.type=b}catch(c){a.type="text"}}function Ga(){Z(null,La)}function Va(){var a=!1;H.checked&&(C.value=A.value,B.value="00:00",D.value="23:59",a=!0);C.disabled=a;B.disabled=a;D.disabled=a}function Z(a,b){try{r.body.appendChild(z)}catch(h){console.warn(h.message)}P.style.display=
"block";W.style.display="none";A.focus();if(k(a))I.value=d.updateText,J.style.display="block",ia.innerHTML=d.editEventTitle,ca=a,A.value=Qa(a.from),B.value=Ra(a.from),C.value=Qa(a.to),D.value=Ra(a.to),H.checked=a.isAllDayEvent,Q.value=a.title,V.value=a.description;else{var c=new Date,e=k(b)?b:c,g=new Date;e.getDate()===g.getDate()&&e.getFullYear()===g.getFullYear()&&e.getMonth()===g.getMonth()&&(e.setHours(c.getHours()),e.setMinutes(c.getMinutes()));I.value=d.addText;J.style.display="none";ia.innerHTML=
d.addEventTitle;ca=null;A.value=Qa(e);B.value=Ra(e);C.value=Qa(e);D.value=Ra(e);H.checked=!1;Q.value="";V.value=""}Va()}function Jb(){var a=new Date(A.value),b=new Date(C.value),c=B.value.split(":"),e=D.value.split(":"),g=Q.value.replace(/^\s+|\s+$/g,""),h=V.value.replace(/^\s+|\s+$/g,"");0>=c.length?Sa(d.fromTimeErrorMessage,B):0>=e.length?Sa(d.toTimeErrorMessage,D):b<a?Sa(d.toSmallerThanFromErrorMessage,C):""===g?Sa(d.titleErrorMessage,Q):(Wa(),a.setHours(parseInt(c[0])),a.setMinutes(parseInt(c[1])),
b.setHours(parseInt(e[0])),b.setMinutes(parseInt(e[1])),a={from:a,to:b,title:g,description:h,isAllDayEvent:H.checked},null!==ca?ta.updateEvent(ca.id,a,!1):ta.addEvent(a,!1),O(),eb())}function Wa(){P.style.display="none";try{r.body.removeChild(z)}catch(a){console.warn(a.message)}}function Kb(){ha.style.display="block";var a=function(){ha.style.display="none"};Zb(d.confirmEventRemoveTitle,d.confirmEventRemoveMessage,function(){a();Wa();null!==ca&&(ta.removeEvent(ca.id,!0),eb())},a)}function Qa(a){var b=
("0"+a.getDate()).slice(-2),c=("0"+(a.getMonth()+1)).slice(-2);return a.getFullYear()+"-"+c+"-"+b}function Ra(a){return x(a.getHours())+":"+x(a.getMinutes())}function x(a){a=a.toString();return 1===a.length?"0"+a:a}function Sa(a,b){W.innerHTML=a;W.style.display="block";b.focus()}function eb(){ua(E)&&yb(La);ua(F)&&sb();ua(G)&&tb()}function Zb(a,b,c,e){K.style.display="block";za.innerHTML=a;Aa.innerHTML=b;R.onclick=Ab;S.onclick=Ab;R.addEventListener("click",c);Za(e)&&S.addEventListener("click",e)}function Ab(){K.style.display=
"none"}function Ca(a,b,c){var e=f("label");e.className="radioButton";e.innerText=b;a.appendChild(e);a=f("input");a.type="radio";a.name=c;e.appendChild(a);c=f("span");c.className="check-mark";e.appendChild(c);return a}function Ha(a){try{r.body.appendChild(z)}catch(b){console.warn(b.message)}L.style.display="block";va=a;Xa.checked=!0}function nb(){try{r.body.removeChild(z)}catch(a){console.warn(a.message)}L.style.display="none"}function Lb(){nb();Xa.checked?wa(va,"csv"):kb.checked?wa(va,"xml"):lb.checked?
wa(va,"json"):mb.checked&&wa(va,"text")}function xb(a,b,c){Ia(a);null!==N&&(clearTimeout(N),N=null);ob();"block"!==q.style.display&&(N=setTimeout(function(){if(!r.body.contains(z)){c=k(c)?c:"";q.className=""===c?"calender-tooltip-event":"calender-tooltip";q.style.display="block";""!==c?q.innerHTML=c:(q.innerHTML="",q.appendChild(Da),q.appendChild(ja),Da.innerHTML=b.title,""!==b.description?(X.innerHTML=b.description,q.appendChild(X)):(X.innerHTML="",q.removeChild(X)),b.from.getDate()===b.to.getDate()?
ja.innerHTML=b.isAllDayEvent?d.allDayEventText:oa(b.from,b.to):Na(ja,b.from,b.to));var e=a.clientX,g=a.clientY;e+q.offsetWidth>Ja.innerWidth?e-=q.offsetWidth:e++;g+q.offsetHeight>Ja.innerHeight?g-=q.offsetHeight:g++;q.style.left=e+"px";q.style.top=g+"px"}},d.eventTooltipDelay))}function ob(){null!==N&&(clearTimeout(N),N=null);"none"!==q.style.display&&(q.style.display="none")}function t(a,b){a.onmousemove=function(c){xb(c,null,b)}}function Rb(){null===na&&0<d.autoRefreshTimerDelay&&(na=setInterval(function(){Ya()},
d.autoRefreshTimerDelay))}function Ya(){"block"===q.style.display||null!==N||r.body.contains(z)||(eb(),O())}function bb(a){ua(a)||(a.className+=" overlay-shown")}function ab(a){ua(a)&&(a.className=a.className.replace(" overlay-shown",""))}function ua(a){return-1<a.className.indexOf("overlay-shown")}function f(a){a=a.toLowerCase();var b="text"===a;fb.hasOwnProperty(a)||(fb[a]=b?r.createTextNode(""):r.createElement(a));return fb[a].cloneNode(!1)}function U(a){da.hasOwnProperty(a)&&null!==da[a]||(da[a]=
r.getElementById(a));r.body.contains(da[a])||(da[a]=r.getElementById(a));return da[a]}function Ia(a){a.preventDefault();a.cancelBubble=!0}function k(a){return void 0!==a&&null!==a&&""!==a}function Za(a){return k(a)&&"function"===typeof a}function wa(a,b){b=k(b)?b.toLowerCase():"csv";var c="",e=$b(a);if("csv"===b){var g=[d.fromText,d.toText,d.isAllDayEventText,d.titleText,d.descriptionText],h=g.length;c=[];for(var l=[],m=0;m<h;m++)c.push(ea(g[m]));l.push(c.join(","));g=e.length;for(h=0;h<g;h++){c=
l;m=e[h];var u=[];u.push(ea(gb(m.from)));u.push(ea(gb(m.to)));u.push(ea(m.isAllDayEvent?d.yesText:d.noText));u.push(ea(m.title.toString()));u.push(ea(m.description.toString()));c.push(u.join(","))}c=l.join("\n")}else if("xml"===b){g=[];g.push('<?xml version="1.0" ?>');g.push("<Events>");h=e.length;for(c=0;c<h;c++){m=e[c];g.push("<Event>");for(l in m)m.hasOwnProperty(l)&&(u=Bb(l),g.push("<"+u+">"+hb(m[l])+"</"+u+">"));g.push("</Event>")}g.push("</Events>");c=g.join("\n")}else if("json"===b){l=[];l.push("{");
l.push('"events:": [');h=e.length;for(c=0;c<h;c++){m=e[c];l.push("{");for(g in m)m.hasOwnProperty(g)&&l.push('"'+g+'":"'+hb(m[g])+'",');m=l[l.length-1];l[l.length-1]=m.substring(0,m.length-1);l.push("},")}l[l.length-1]="}";l.push("]");l.push("}");c=l.join("\n")}else if("text"===b){l=[];g=e.length;for(c=0;c<g;c++){m=e[c];for(h in m)m.hasOwnProperty(h)&&l.push(Bb(h)+": "+hb(m[h]));l.push("")}l.pop();c=l.join("\n")}""!==c&&(e=f("a"),g="text"===b?"plain":b,l="text"===b?"txt":b,e.style.display="none",
e.setAttribute("target","_blank"),e.setAttribute("href","data:text/"+g+";charset=utf-8,"+encodeURIComponent(c)),g=e.setAttribute,c=new Date,h=x(c.getDate())+"-"+x(c.getMonth())+"-"+c.getFullYear(),c=x(c.getHours())+"-"+x(c.getMinutes()),g.call(e,"download",d.exportStartFilename+h+"_"+c+"."+l),r.body.appendChild(e),e.click(),r.body.removeChild(e),ma("onEventsExported"))}function $b(a){var b=[];if(k(a))for(var c=a.length,e=0;e<c;e++)b.push(a[e]);else for(c in n)if(n.hasOwnProperty(c))for(e in n[c])n[c].hasOwnProperty(e)&&
b.push(n[c][e]);b.sort(function(g,h){return g.from-h.from});return b}function gb(a){var b=x(a.getDate())+"/"+x(a.getMonth())+"/"+a.getFullYear();a=x(a.getHours())+":"+x(a.getMinutes());return b+" "+a}function Bb(a){return a.charAt(0).toUpperCase()+a.slice(1)}function hb(a){var b=a;"boolean"===typeof a?b=a?d.yesText:d.noText:"object"===typeof a&&(b=gb(a));return b}function ea(a){a=a.replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ");a=a.replace(/"/g,'""');return'"'+a+'"'}function pb(){var a=new Date(p);
a.setMonth(a.getMonth()-1);a.setDate(1);fa(a);ma("onPreviousMonth")}function rb(){var a=new Date(p);a.setMonth(a.getMonth()+1);a.setDate(1);fa(a);ma("onNextMonth")}function qb(){fa();ma("onToday")}var d={},ta=this,p,fb={},da={},r=null,Ja=null,jb=null,ib=!1,n={},na=null,w=null,vb=null,v=null,Ea=null,y=null,Y=null,z=null,P=null,ha=null,ia=null,A=null,B=null,C=null,D=null,H=null,Q=null,V=null,W=null,ca=null,I=null,J=null,E=null,T=null,pa=null,La=null,Ma=[],aa=null,F=null,qa=null,ra=null,G=null,ba=null,
sa=null,Pa=[],K=null,za=null,Aa=null,R=null,S=null,L=null,Ba=null,Xa=null,kb=null,lb=null,mb=null,va=null,q=null,Da=null,ja=null,X=null,N=null;this.moveToPreviousMonth=function(){pb()};this.moveToNextMonth=function(){rb()};this.moveToToday=function(){qb()};this.exportAllEvents=function(a){d.exportEventsEnabled&&(a=k(a)?a:"csv",wa(null,a))};this.refresh=function(){Ya()};this.addEvents=function(a,b,c){b=k(b)?b:!0;c=k(c)?c:!0;for(var e=a.length,g=0;g<e;g++)this.addEvent(a[g],!1,!1);c&&Ka("onEventAdded",
a);b&&O()};this.addEvent=function(a,b,c){var e=!1;if(a.from<=a.to){var g=a.from;g=g.getFullYear()+"-"+g.getMonth()+"-"+g.getDate();var h=ub();n.hasOwnProperty(g)||(n[g]={});n[g].hasOwnProperty(h)||(b=k(b)?b:!0,c=k(c)?c:!0,a.id=h,n[g][h]=ka(a),e=!0,c&&Ka("onEventAdded",a),b&&O())}return e};this.updateEvent=function(a,b,c,e){if(a=this.removeEvent(a,!1,!1))c=k(c)?c:!0,e=k(e)?e:!0,b.id=ub(),(a=this.addEvent(b,c,!1))&&e&&Ka("onEventUpdated",b);return a};this.removeEvent=function(a,b,c){var e=!1,g;for(g in n)if(n.hasOwnProperty(g))for(var h in n[g])if(n[g].hasOwnProperty(h)&&
h===a){b=k(b)?b:!0;c=k(c)?c:!0;delete n[g][h];e=!0;c&&Ka("onEventRemoved",n[g][h]);b&&O();break}return e};this.clearEvents=function(a){a=k(a)?a:!0;n={};ma("onEventsCleared");a&&O()};this.setOptions=function(a){d=null!==a&&"object"===typeof a?a:{};k(d.previousMonthTooltipText)||(d.previousMonthTooltipText="Previous Month");k(d.nextMonthTooltipText)||(d.nextMonthTooltipText="Next Month");k(d.addEventTooltipText)||(d.addEventTooltipText="Add Event");k(d.closeTooltipText)||(d.closeTooltipText="Close");
k(d.exportEventsTooltipText)||(d.exportEventsTooltipText="Export Events");k(d.todayTooltipText)||(d.todayTooltipText="Today");k(d.refreshTooltipText)||(d.refreshTooltipText="Refresh");k(d.expandDayTooltipText)||(d.expandDayTooltipText="Expand Day");k(d.listAllEventsTooltipText)||(d.listAllEventsTooltipText="View All Events");k(d.listWeekEventsTooltipText)||(d.listWeekEventsTooltipText="View Week Events");k(d.dayHeaderNames)||(d.dayHeaderNames="Mo Tu We Th Fr Sa Su".split(" "));k(d.dayNames)||(d.dayNames=
"Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "));k(d.fromText)||(d.fromText="From:");k(d.toText)||(d.toText="To:");k(d.isAllDayEventText)||(d.isAllDayEventText="Is All Day Event");k(d.titleText)||(d.titleText="Title:");k(d.descriptionText)||(d.descriptionText="Description:");k(d.addText)||(d.addText="Add");k(d.updateText)||(d.updateText="Update");k(d.cancelText)||(d.cancelText="Cancel");k(d.removeEventText)||(d.removeEventText="Remove Event");k(d.addEventTitle)||(d.addEventTitle=
"Add Event");k(d.editEventTitle)||(d.editEventTitle="Edit Event");k(d.monthNames)||(d.monthNames="January February March April May June July August September October November December".split(" "));k(d.showDayNumberOrdinals)||(d.showDayNumberOrdinals=!0);k(d.dragAndDropForEventsEnabled)||(d.dragAndDropForEventsEnabled=!0);k(d.exportStartFilename)||(d.exportStartFilename="exported_events_");k(d.fromTimeErrorMessage)||(d.fromTimeErrorMessage="Please select a valid 'From' time.");k(d.toTimeErrorMessage)||
(d.toTimeErrorMessage="Please select a valid 'To' time.");k(d.toSmallerThanFromErrorMessage)||(d.toSmallerThanFromErrorMessage="Please select a 'To' date that is larger than the 'From' date.");k(d.titleErrorMessage)||(d.titleErrorMessage="Please enter a value in the 'Title' field (no empty space).");k(d.stText)||(d.stText="st");k(d.ndText)||(d.ndText="nd");k(d.rdText)||(d.rdText="rd");k(d.thText)||(d.thText="th");k(d.fullDayViewEnabled)||(d.fullDayViewEnabled=!0);k(d.maximumEventsPerDayDisplay)||
(d.maximumEventsPerDayDisplay=3);k(d.yesText)||(d.yesText="Yes");k(d.noText)||(d.noText="No");k(d.extraSelectableYearsAhead)||(d.extraSelectableYearsAhead=51);k(d.allDayEventText)||(d.allDayEventText="All Day Event");k(d.allEventsText)||(d.allEventsText="All Events");k(d.allWeekEventsText)||(d.allWeekEventsText="All Week Events");k(d.exportEventsEnabled)||(d.exportEventsEnabled=!0);k(d.manualEditingEnabled)||(d.manualEditingEnabled=!0);k(d.showTimesInMainCalendarEvents)||(d.showTimesInMainCalendarEvents=
!1);k(d.startsAtText)||(d.startsAtText="Starts at");k(d.andFinishesAtText)||(d.andFinishesAtText="and finishes at");k(d.toTimeText)||(d.toTimeText="to");k(d.autoRefreshTimerDelay)||(d.autoRefreshTimerDelay=5E3);k(d.confirmEventRemoveTitle)||(d.confirmEventRemoveTitle="Confirm Event Removal");k(d.confirmEventRemoveMessage)||(d.confirmEventRemoveMessage="Removing this event cannot be undone.  Do you want to continue?");k(d.okText)||(d.okText="OK");k(d.selectExportTypeTitle)||(d.selectExportTypeTitle=
"Select Export Type");k(d.fullScreenModeEnabled)||(d.fullScreenModeEnabled=!0);k(d.eventTooltipDelay)||(d.eventTooltipDelay=1E3)};(function(a,b){r=a;Ja=b;jb=Cb;ta.setOptions(Db);fa(Eb)})(document,window)};