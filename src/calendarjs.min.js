function calendarJs(Tb,Ub,Vb){function oa(a){p=h(a)?a:new Date;var b=(new Date(p.getFullYear(),p.getMonth(),1)).getDay();a=cb(p.getFullYear(),p.getMonth());0===b&&(b=7);db();if(!yb){var c=S(zb);c.className="calendar";Wb(c);Xb(c);Yb(c);Zb(c);var e=f("div"),g=d.dayHeaderNames.length;e.className="row header-days";c.appendChild(e);for(var k=0;k<g;k++){var m=d.dayHeaderNames[k],l=f("div");l.className="cell";l.innerHTML=m;e.appendChild(l)}for(e=0;6>e;e++)for(g=f("div"),g.className="row",c.appendChild(g),
k=0;7>k;k++)m=7*e+(k+1),l=f("div"),l.className="cell",l.id="calendar-day-"+m,g.appendChild(l);yb=!0}k=b;if(1<k)for(c=new Date(p),c.setMonth(c.getMonth()-1),e=cb(c.getFullYear(),c.getMonth()),g=1,k=e-k+1;k<e;k++)eb(k+1,g,c.getMonth(),c.getFullYear(),!0),g++;for(e=c=0;e<a;e++)c=b+e,eb(e+1,c,p.getMonth(),p.getFullYear(),!1);if(42>c)for(a=1,b=new Date(p),b.setMonth(b.getMonth()+1),c+=1;43>c;c++)eb(a,c,b.getMonth(),b.getFullYear(),!0),a++;T();null===E&&(E=f("div"),E.className="disabled-background");null===
U&&(U=f("div"),U.className="calender-event-editor-dialog",r.body.appendChild(U),b=f("div"),b.className="view",U.appendChild(b),pa=f("div"),pa.className="disabled-area",b.appendChild(pa),qa=f("div"),qa.className="title-bar",b.appendChild(qa),a=f("div"),a.className="contents",b.appendChild(a),b=f("p"),b.innerText=d.fromText,a.appendChild(b),b=f("div"),b.className="split",a.appendChild(b),A=f("input"),A.onchange=fb,b.appendChild(A),Ha(A,"date"),F=f("input"),b.appendChild(F),Ha(F,"time"),b=f("label"),
b.className="checkbox",b.innerText=d.isAllDayEventText,a.appendChild(b),L=f("input"),L.type="checkbox",L.onchange=fb,b.appendChild(L),c=f("span"),c.className="check-mark",b.appendChild(c),b=f("p"),b.innerText=d.toText,a.appendChild(b),b=f("div"),b.className="split",a.appendChild(b),B=f("input"),b.appendChild(B),Ha(B,"date"),G=f("input"),b.appendChild(G),Ha(G,"time"),b=f("p"),b.innerText=d.titleText,a.appendChild(b),V=f("input"),V.type="text",a.appendChild(V),b=f("p"),b.innerText=d.locationText,a.appendChild(b),
fa=f("input"),fa.type="text",a.appendChild(fa),b=f("p"),b.innerText=d.descriptionText,a.appendChild(b),ha=f("textarea"),ha.className="custom-scroll-bars",a.appendChild(ha),ia=f("p"),ia.className="error",a.appendChild(ia),b=f("div"),b.className="split",a.appendChild(b),M=f("input"),M.className="ok",M.type="button",M.value=d.addText,M.onclick=$b,b.appendChild(M),c=f("input"),c.className="cancel",c.type="button",c.value=d.cancelText,c.onclick=gb,b.appendChild(c),N=f("input"),N.className="remove",N.type=
"button",N.value=d.removeEventText,N.onclick=ac,a.appendChild(N));null===O&&(O=f("div"),O.className="calender-confirmation-dialog",r.body.appendChild(O),Ia=f("div"),Ia.className="title-bar",O.appendChild(Ia),a=f("div"),a.className="contents",O.appendChild(a),Ja=f("div"),Ja.className="message",a.appendChild(Ja),b=f("div"),b.className="split",a.appendChild(b),W=f("input"),W.className="yes",W.type="button",W.value=d.yesText,b.appendChild(W),X=f("input"),X.className="no",X.type="button",X.value=d.noText,
b.appendChild(X));null===P&&(P=f("div"),P.className="calender-select-export-type-dialog",r.body.appendChild(P),a=f("div"),a.className="title-bar",a.innerHTML=d.selectExportTypeTitle,P.appendChild(a),b=f("div"),b.className="contents",P.appendChild(b),hb=Ka(b,"CSV","ExportType"),Ab=Ka(b,"XML","ExportType"),Bb=Ka(b,"JSON","ExportType"),Cb=Ka(b,"TEXT","ExportType"),a=f("div"),a.className="split",b.appendChild(a),b=f("input"),b.className="ok",b.type="button",b.value=d.okText,b.onclick=bc,a.appendChild(b),
b=f("input"),b.className="cancel",b.type="button",b.value=d.cancelText,b.onclick=Db,a.appendChild(b));null===v&&(v=f("div"),r.body.appendChild(v),La=f("div"),La.className="title",ra=f("div"),ra.className="date",ja=f("div"),ja.className="description",ka=f("div"),ka.className="location",document.body.addEventListener("mousemove",ib));cc();sa.innerHTML=d.monthNames[p.getMonth()]+", "+p.getFullYear()+" \u25be"}function Zb(a){w=f("div");w.className="header-date";a.appendChild(w);d.fullScreenModeEnabled&&
(w.ondblclick=function(){Ma(a)});var b=f("div");b.className="ib-arrow-left-full";b.onclick=Eb;b.ondblclick=q;w.appendChild(b);u(b,d.previousMonthTooltipText);b=f("div");b.className="ib-pin";b.onclick=Fb;b.ondblclick=q;w.appendChild(b);u(b,d.todayTooltipText);b=f("div");b.className="ib-refresh";b.onclick=jb;b.ondblclick=q;w.appendChild(b);u(b,d.refreshTooltipText);b=f("div");b.className="ib-arrow-right-full";b.onclick=Gb;b.ondblclick=q;w.appendChild(b);u(b,d.nextMonthTooltipText);d.manualEditingEnabled&&
(b=f("div"),b.className="ib-plus",b.onclick=Na,b.ondblclick=q,w.appendChild(b),u(b,d.addEventTooltipText));d.exportEventsEnabled&&(Y=f("div"),Y.className="ib-arrow-down-full-line",Y.ondblclick=q,w.appendChild(Y),u(Y,d.exportEventsTooltipText),Y.onclick=function(){Oa()});b=f("div");b.className="ib-eye";b.onclick=Hb;b.ondblclick=q;w.appendChild(b);u(b,d.listAllEventsTooltipText);b=f("div");b.className="ib-hamburger";b.ondblclick=q;w.appendChild(b);b.onclick=function(){kb()};u(b,d.listWeekEventsTooltipText);
b=f("div");b.className="title-container";w.appendChild(b);sa=f("span");sa.ondblclick=q;b.appendChild(sa);dc(b)}function dc(a){if(null===y){var b=new Date(1900,1,1),c=(new Date).getFullYear()-b.getFullYear()+d.extraSelectableYearsAhead;y=f("div");y.className="years-drop-down";a.appendChild(y);ta=f("div");ta.className="contents custom-scroll-bars";y.appendChild(ta);for(a=0;a<c;a++)ec(b.getFullYear()),b.setFullYear(b.getFullYear()+1);sa.onclick=fc;r.body.addEventListener("click",Pa);r.body.addEventListener("contextmenu",
Pa);Qa.addEventListener("resize",Pa)}}function ec(a){var b=f("div");b.innerText=a.toString();b.id="year-selected-"+a.toString();ta.appendChild(b);b.onclick=function(){p.setFullYear(a);oa(p);db()}}function ua(a){a.isAllDayEvent&&(a.from=new Date(a.from.getFullYear(),a.from.getMonth(),a.from.getDate(),0,0),a.to=new Date(a.from.getFullYear(),a.from.getMonth(),a.from.getDate(),23,59));return a}function va(a,b){var c=new Date(a.getFullYear(),a.getMonth(),a.getDate()),e=new Date(b.getFullYear(),b.getMonth(),
b.getDate());return Math.ceil(Math.abs(e-c)/864E5)}function fc(a){if("block"!==y.style.display){q(a);a=y.getElementsByClassName("current-year-selected");if(null!==a&&1<=a.length)for(var b=a.length,c=0;c<b;c++)a[c].removeAttribute("class");a=S("year-selected-"+p.getFullYear());null!==a&&(a.className="current-year-selected");y.style.display="block";ta.scrollTop=a.offsetTop-y.offsetHeight/2}}function db(){lb()&&(y.style.display="none")}function lb(){return null!==y&&"block"===y.style.display}function wa(a){if(null!==
d&&mb(d[a]))d[a]()}function Ra(a,b){if(null!==d&&mb(d[a]))d[a](b)}function Ib(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var c=Math.floor(16*Math.random()).toString(16);a.push(c)}return a.join("")}function Ma(a){0>=a.className.indexOf(" full-screen-view")?(a.className+=" full-screen-view",Jb=a.style.cssText,a.removeAttribute("style")):(a.className=a.className.replace(" full-screen-view",""),a.style.cssText=Jb)}function Pa(){nb()&&(C.style.display="none");db();ib()}function T(){gc();
null!==xa&&0<d.autoRefreshTimerDelay&&(clearTimeout(xa),xa=null);for(var a in n)if(n.hasOwnProperty(a)){var b=[],c;for(c in n[a])n[a].hasOwnProperty(c)&&b.push(ua(n[a][c]));b.sort(function(m,l){return m.from-l.from});for(var e=b.length,g=0;g<e;g++){var k=b[g];null!==ob(k.from)&&hc(k)}b=[]}ic();jc()}function hc(a){Kb(a.from,a);if(a.from.getDate()!==a.to.getDate()){var b=va(a.from,a.to);if(0<b)for(var c=new Date(a.from),e=0;e<b;e++)c.setDate(c.getDate()+1),null!==ob(c)&&Kb(c,a)}}function Kb(a,b){var c=
ob(a);if(null!==c&&c.getElementsByClassName(d.manualEditingEnabled?"event":"event-no-hover").length<d.maximumEventsPerDayDisplay){var e=f("div"),g=b.title;d.showTimesInMainCalendarEvents&&!b.isAllDayEvent&&b.from.getDate()===b.to.getDate()&&(g=ya(b.from,b.to)+": "+g);e.className=d.manualEditingEnabled?"event":"event-no-hover";e.innerHTML=g;c.appendChild(e);e.onmousemove=function(k){Lb(k,b)};b.to<new Date&&(e.className+=" expired");b.isAllDayEvent&&(e.className+=" all-day-event");d.dragAndDropForEventsEnabled&&
d.manualEditingEnabled&&e.setAttribute("draggable",!0);d.manualEditingEnabled&&(e.onclick=function(){Z(b)});d.dragAndDropForEventsEnabled&&d.manualEditingEnabled&&(e.ondragstart=function(){x=b})}}function ic(){var a=0,b;for(b in n)if(n.hasOwnProperty(b))for(var c in n[b])if(n[b].hasOwnProperty(c)){a++;break}d.exportEventsEnabled&&(Y.style.display=0===a?"none":"block")}function ob(a){var b=new Date(p.getFullYear(),p.getMonth(),1),c=new Date(p),e=new Date(p),g=null,k=0;c.setMonth(c.getMonth()+1);e.setMonth(e.getMonth()-
1);a.getMonth()===c.getMonth()&&a.getFullYear()===c.getFullYear()?(b=b.getDay()+cb(p.getFullYear(),p.getMonth()),k=a.getDate()+b-1):a.getMonth()===e.getMonth()&&a.getFullYear()===e.getFullYear()?k=b.getDay()-va(a,p):a.getMonth()===p.getMonth()&&a.getFullYear()===p.getFullYear()&&(b=b.getDay(),k=a.getDate()+b-1);0<k&&(g=S("calendar-day-"+k));return g}function gc(){for(var a=0;6>a;a++)for(var b=0;7>b;b++)for(var c=S("calendar-day-"+(7*a+(b+1))).getElementsByClassName(d.manualEditingEnabled?"event":
"event-no-hover");c[0];)c[0].parentNode.removeChild(c[0])}function Yb(a){if(null===H){H=f("div");H.className="full-day-view";a.appendChild(H);var b=f("div");b.className="title-bar";H.appendChild(b);d.fullScreenModeEnabled&&(b.ondblclick=function(){Ma(a)});za=f("div");za.className="title";b.appendChild(za);var c=f("div");c.className="ib-close";c.ondblclick=q;b.appendChild(c);u(c,d.closeTooltipText);c.onclick=function(){pb(H);Sa=null};d.manualEditingEnabled&&(c=f("div"),c.className="ib-plus",c.onclick=
Na,c.ondblclick=q,b.appendChild(c),u(c,d.addEventTooltipText));d.exportEventsEnabled&&(aa=f("div"),aa.className="ib-arrow-down-full-line",aa.ondblclick=q,b.appendChild(aa),u(aa,d.exportEventsTooltipText),aa.onclick=function(){Oa(Ta)});Aa=f("div");Aa.className="contents custom-scroll-bars";H.appendChild(Aa)}}function qb(a){rb(H);za.innerText="";Aa.innerHTML="";Sa=a;Ta=[];ba(za,a,!1,!0,!0);for(var b in n)if(n.hasOwnProperty(b)){var c=[],e;for(e in n[b])if(n[b].hasOwnProperty(e))for(var g=ua(n[b][e]),
k=va(g.from,g.to)+1,m=new Date(g.from),l=0;l<k;l++)m.getFullYear()===a.getFullYear()&&m.getMonth()===a.getMonth()&&m.getDate()===a.getDate()&&c.push(g),m.setDate(m.getDate()+1);c.sort(function(t,Q){return t.from-Q.from});g=c.length;for(k=0;k<g;k++)kc(c[k])}d.exportEventsEnabled&&(aa.style.display=0===Ta.length?"none":"block")}function kc(a){var b=f("div");b.className=d.manualEditingEnabled?"event":"event-no-hover";Aa.appendChild(b);var c=f("div");c.className="title";c.innerHTML=a.title;b.appendChild(c);
c=f("div");c.className="date";b.appendChild(c);a.from.getDate()===a.to.getDate()?c.innerHTML=a.isAllDayEvent?d.allDayEventText:ya(a.from,a.to):Ua(c,a.from,a.to);a.to<new Date&&(b.className+=" expired");a.isAllDayEvent&&(b.className+=" all-day-event");I(a.location)&&""!==a.location&&(c=f("div"),c.className="location",c.innerHTML=a.location,b.appendChild(c));I(a.description)&&""!==a.description&&(c=f("div"),c.className="description",c.innerHTML=a.description,b.appendChild(c));d.manualEditingEnabled&&
(b.onclick=function(){Z(a)});Ta.push(a)}function Wb(a){if(null===J){J=f("div");J.className="list-all-events-view";a.appendChild(J);var b=f("div");b.className="title-bar";J.appendChild(b);d.fullScreenModeEnabled&&(b.ondblclick=function(){Ma(a)});var c=f("div");c.className="title";c.innerHTML=d.allEventsText;b.appendChild(c);c=f("div");c.className="ib-close";c.ondblclick=q;b.appendChild(c);u(c,d.closeTooltipText);c.onclick=function(){pb(J)};d.manualEditingEnabled&&(c=f("div"),c.className="ib-plus",
c.onclick=Na,c.ondblclick=q,b.appendChild(c),u(c,d.addEventTooltipText));d.exportEventsEnabled&&(la=f("div"),la.className="ib-arrow-down-full-line",la.ondblclick=q,b.appendChild(la),u(la,d.exportEventsTooltipText),la.onclick=function(){Oa()});Ba=f("div");Ba.className="contents custom-scroll-bars";J.appendChild(Ba)}}function Hb(){rb(J);Ba.innerHTML="";var a=[];for(c in n)if(n.hasOwnProperty(c))for(var b in n[c])n[c].hasOwnProperty(b)&&a.push(ua(n[c][b]));a.sort(function(k,m){return k.from-m.from});
var c=a.length;for(b=0;b<c;b++){var e=a[b],g=lc(e.from);mc(e,g)}}function mc(a,b){var c=f("div");c.className=d.manualEditingEnabled?"event":"event-no-hover";b.appendChild(c);var e=f("div");e.className="title";e.innerHTML=a.title;c.appendChild(e);e=f("div");e.className="date";c.appendChild(e);a.from.getDate()===a.to.getDate()?a.isAllDayEvent?Va(e,a.from,null," - "+d.allDayEventText):Va(e,a.from,null," - "+ya(a.from,a.to)):Ua(e,a.from,a.to);a.to<new Date&&(c.className+=" expired");a.isAllDayEvent&&
(c.className+=" all-day-event");I(a.location)&&""!==a.location&&(e=f("div"),e.className="location",e.innerHTML=a.location,c.appendChild(e));I(a.description)&&""!==a.description&&(e=f("div"),e.className="description",e.innerHTML=a.description,c.appendChild(e));d.manualEditingEnabled&&(c.onclick=function(){Z(a)})}function lc(a){var b="month-"+a.getMonth()+"-"+a.getFullYear(),c=S(b);if(null===c){var e=f("div");e.className="month";Ba.appendChild(e);c=f("div");c.className="header";c.innerHTML=d.monthNames[a.getMonth()]+
" "+a.getFullYear();e.appendChild(c);c=f("div");c.id=b;c.className="events";e.appendChild(c)}return c}function Xb(a){if(null===K){K=f("div");K.className="list-all-week-events-view";a.appendChild(K);var b=f("div");b.className="title-bar";K.appendChild(b);d.fullScreenModeEnabled&&(b.ondblclick=function(){Ma(a)});D=f("div");D.className="title";b.appendChild(D);var c=f("div");c.className="ib-close";c.ondblclick=q;b.appendChild(c);u(c,d.closeTooltipText);c.onclick=function(){pb(K)};d.manualEditingEnabled&&
(c=f("div"),c.className="ib-plus",c.onclick=Na,c.ondblclick=q,b.appendChild(c),u(c,d.addEventTooltipText));d.exportEventsEnabled&&(ca=f("div"),ca.className="ib-arrow-down-full-line",ca.ondblclick=q,b.appendChild(ca),u(ca,d.exportEventsTooltipText),ca.onclick=function(){Oa(Wa)});Ca=f("div");Ca.className="contents custom-scroll-bars";K.appendChild(Ca)}}function kb(a){rb(K);Ca.innerHTML="";Wa=[];Mb=a;var b=[],c=nc(a);a=c[0];c=c[1];oc(a,c);for(var e in n)if(n.hasOwnProperty(e))for(var g in n[e])n[e].hasOwnProperty(g)&&
b.push(ua(n[e][g]));b.sort(function(pc,qc){return pc.from-qc.from});e=b.length;for(g=0;g<e;g++){for(var k=b[g],m=va(k.from,k.to)+1,l=new Date(k.from),t=!1,Q=0;Q<m;Q++)l>=a&&l<=c&&(t=rc(l),sc(k,t),t=!0),l.setDate(l.getDate()+1);t&&Wa.push(k)}d.exportEventsEnabled&&(ca.style.display=0===Wa.length?"none":"block")}function oc(a,b){D.innerHTML="";if(a.getFullYear()===b.getFullYear()){ba(D,a,!1,!1);var c=f("span");c.innerHTML=" - ";D.appendChild(c);ba(D,b,!1,!1);c=f("span");c.innerHTML=", "+a.getFullYear();
D.appendChild(c)}else ba(D,a,!1,!0),c=f("span"),c.innerHTML=" - ",D.appendChild(c),ba(D,b,!1,!0)}function sc(a,b){var c=f("div");c.className=d.manualEditingEnabled?"event":"event-no-hover";b.appendChild(c);var e=f("div");e.className="title";e.innerHTML=a.title;c.appendChild(e);e=f("div");e.className="date";c.appendChild(e);a.from.getDate()===a.to.getDate()?e.innerHTML=a.isAllDayEvent?d.allDayEventText:ya(a.from,a.to):Ua(e,a.from,a.to);a.to<new Date&&(c.className+=" expired");a.isAllDayEvent&&(c.className+=
" all-day-event");I(a.location)&&""!==a.location&&(e=f("div"),e.className="location",e.innerHTML=a.location,c.appendChild(e));I(a.description)&&""!==a.description&&(e=f("div"),e.className="description",e.innerHTML=a.description,c.appendChild(e));d.manualEditingEnabled&&(c.onclick=function(){Z(a)})}function rc(a){var b=Nb(a),c="day-"+b,e=S(c);if(null===e){var g=f("div");g.className="day";Ca.appendChild(g);e=f("div");e.className="header";g.appendChild(e);Va(e,a,d.dayNames[b]+", ");e=f("div");e.id=c;
e.className="events";g.appendChild(e)}return e}function Nb(a){return 0>a.getDay()-1?6:a.getDay()-1}function nc(a){a=h(a)?a:new Date;var b=0===a.getDay()?7:a.getDay();b=a.getDate()-b+1;var c=b+6,e=new Date(a);a=new Date(a);e.setDate(b);e.setHours(0,0,0,0);a.setDate(c);a.setHours(23,59,59,99);return[e,a]}function ya(a,b){return sb(a)+" "+d.toTimeText+" "+sb(b)}function sb(a){return z(a.getHours())+":"+z(a.getMinutes())}function Ua(a,b,c){a.innerHTML="";var e=f("span");e.innerText=d.startsOnText+" ";
a.appendChild(e);ba(a,b);b=f("span");b.innerText=" "+d.andFinishesOnText+" ";a.appendChild(b);ba(a,c)}function ba(a,b,c,e,g){c=h(c)?c:!0;e=h(e)?e:!0;if(g=h(g)?g:!1){g=Nb(b);var k=f("span");k.innerText=d.dayNames[g]+", ";a.appendChild(k)}Va(a,b);g=f("span");g.innerText=" "+d.monthNames[b.getMonth()];a.appendChild(g);e&&(e=f("span"),e.innerText=" "+b.getFullYear(),a.appendChild(e));c&&(c=f("span"),c.innerText=" "+sb(b),a.appendChild(c))}function Va(a,b,c,e){if(h(c)){var g=f("span");g.innerText=c;a.appendChild(g)}c=
f("span");c.innerText=b.getDate();a.appendChild(c);d.showDayNumberOrdinals&&(c=f("sup"),c.innerText=Ob(b.getDate()),a.appendChild(c));h(e)&&(b=f("span"),b.innerText=e,a.appendChild(b))}function eb(a,b,c,e,g){var k=new Date;k=a===k.getDate()&&e===k.getFullYear()&&c===k.getMonth();b=S("calendar-day-"+b);var m=f("span");b.className="cell"+(k?" today":"");b.innerHTML="";m.className=g?"day-muted":"";m.innerText=a;b.oncontextmenu=function(l){Xa=new Date(e,c,a);Pa();q(l);Pb(l,C)};d.showDayNumberOrdinals&&
(g=f("sup"),g.innerText=Ob(a),m.appendChild(g));b.appendChild(m);d.fullDayViewEnabled&&(g=f("div"),g.className="expand-day",b.appendChild(g),u(g,d.expandDayTooltipText),g.onclick=function(){qb(new Date(e,c,a))});d.manualEditingEnabled&&(b.ondblclick=function(){Z(null,new Date(e,c,a))},d.manualEditingEnabled&&(b.ondragover=function(l){q(l)},b.ondrop=function(l){q(l);if(null!==x){l=va(x.from,x.to);var t=new Date(e,c,a,x.from.getHours(),x.from.getMinutes()),Q=new Date(e,c,a,x.to.getHours(),x.to.getMinutes());
0<l&&Q.setDate(Q.getDate()+l);Da.updateEvent(x.id,{from:t,to:Q,title:x.title,description:x.description,location:x.location,isAllDayEvent:x.isAllDayEvent})}}))}function cb(a,b){return(new Date(a,b+1,0)).getDate()}function Ob(a){var b=d.thText;if(31===a||21===a||1===a)b=d.stText;else if(22===a||2===a)b=d.ndText;else if(23===a||3===a)b=d.rdText;return b}function cc(){C=f("div");C.className="calender-drop-down-menu";r.body.appendChild(C);var a=f("div");a.className="item";a.innerHTML=d.addEventTitle;C.appendChild(a);
a.onclick=function(){Z(null,Xa)};a=f("div");a.className="separator";C.appendChild(a);a=f("div");a.className="item";a.innerHTML=d.expandDayTooltipText;C.appendChild(a);a.onclick=function(){qb(Xa)};a=f("div");a.className="separator";C.appendChild(a);a=f("div");a.className="item";a.innerHTML=d.listWeekEventsTooltipText;C.appendChild(a);a.onclick=function(){kb(Xa)}}function nb(){return"block"===C.style.display}function Ha(a,b){try{a.type=b}catch(c){a.type="text"}}function Na(){Z(null,Sa)}function fb(){var a=
!1;L.checked&&(B.value=A.value,F.value="00:00",G.value="23:59",a=!0);B.disabled=a;F.disabled=a;G.disabled=a}function Z(a,b){Ya(r.body,E);U.style.display="block";ia.style.display="none";A.focus();if(h(a))M.value=d.updateText,N.style.display="block",qa.innerHTML=d.editEventTitle,ma=a,A.value=Za(a.from,A.type),F.value=$a(a.from),B.value=Za(a.to,B.type),G.value=$a(a.to),L.checked=a.isAllDayEvent,V.value=da(a.title),ha.value=da(a.description),fa.value=da(a.location);else{var c=new Date,e=h(b)?b:c,g=new Date;
e.getDate()===g.getDate()&&e.getFullYear()===g.getFullYear()&&e.getMonth()===g.getMonth()&&(e.setHours(c.getHours()),e.setMinutes(c.getMinutes()));M.value=d.addText;N.style.display="none";qa.innerHTML=d.addEventTitle;ma=null;A.value=Za(e,A.type);F.value=$a(e);B.value=Za(e,B.type);G.value=$a(e);L.checked=!1;V.value="";ha.value="";fa.value=""}fb()}function $b(){var a=Qb(A),b=Qb(B),c=F.value.split(":"),e=G.value.split(":"),g=tb(V.value),k=tb(ha.value),m=tb(fa.value);0>=c.length?ab(d.fromTimeErrorMessage,
F):0>=e.length?ab(d.toTimeErrorMessage,G):b<a?ab(d.toSmallerThanFromErrorMessage,B):""===g?ab(d.titleErrorMessage,V):(gb(),a.setHours(parseInt(c[0])),a.setMinutes(parseInt(c[1])),b.setHours(parseInt(e[0])),b.setMinutes(parseInt(e[1])),a={from:a,to:b,title:g,description:k,location:m,isAllDayEvent:L.checked},null!==ma?Da.updateEvent(ma.id,a,!1):Da.addEvent(a,!1),T(),ub())}function Qb(a){var b=new Date;if("date"===a.type)b=new Date(a.value);else if(a=a.value.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/))a=
new Date(a[3],a[2]-1,a[1]),a instanceof Date&&!isNaN(a)&&(b=a);return b}function gb(){U.style.display="none";bb(r.body,E)}function ac(){pa.style.display="block";var a=function(){pa.style.display="none"};tc(d.confirmEventRemoveTitle,d.confirmEventRemoveMessage,function(){a();gb();null!==ma&&(Da.removeEvent(ma.id,!0),ub())},a)}function Za(a,b){var c=("0"+a.getDate()).slice(-2),e=("0"+(a.getMonth()+1)).slice(-2);return"date"===b?a.getFullYear()+"-"+e+"-"+c:c+"/"+e+"/"+a.getFullYear()}function $a(a){return z(a.getHours())+
":"+z(a.getMinutes())}function z(a){a=a.toString();return 1===a.length?"0"+a:a}function ab(a,b){ia.innerHTML=a;ia.style.display="block";b.focus()}function tb(a){return a.replace(/^\s+|\s+$/g,"")}function ub(){Ea(H)&&qb(Sa);Ea(J)&&Hb();Ea(K)&&kb(Mb)}function tc(a,b,c,e){O.style.display="block";Ia.innerHTML=a;Ja.innerHTML=b;W.onclick=Rb;X.onclick=Rb;W.addEventListener("click",c);mb(e)&&X.addEventListener("click",e)}function Rb(){O.style.display="none"}function Ka(a,b,c){var e=f("label");e.className=
"radioButton";e.innerText=b;a.appendChild(e);a=f("input");a.type="radio";a.name=c;e.appendChild(a);c=f("span");c.className="check-mark";e.appendChild(c);return a}function Oa(a){Ya(r.body,E);P.style.display="block";Fa=a;hb.checked=!0}function Db(){bb(r.body,E);P.style.display="none"}function bc(){Db();hb.checked?Ga(Fa,"csv"):Ab.checked?Ga(Fa,"xml"):Bb.checked?Ga(Fa,"json"):Cb.checked&&Ga(Fa,"text")}function Lb(a,b,c){q(a);null!==R&&(clearTimeout(R),R=null);ib();"block"!==v.style.display&&(R=setTimeout(function(){r.body.contains(E)||
lb()||nb()||(c=h(c)?c:"",v.className=""===c?"calender-tooltip-event":"calender-tooltip",""!==c?v.innerHTML=c:(v.innerHTML="",v.appendChild(La),v.appendChild(ra),La.innerHTML=b.title,I(b.location)&&""!==b.location?(ka.innerHTML=b.location,Ya(v,ka)):(ka.innerHTML="",bb(v,ka)),I(b.description)&&""!==b.description?(ja.innerHTML=b.description,Ya(v,ja)):(ja.innerHTML="",bb(v,ja)),b.from.getDate()===b.to.getDate()?ra.innerHTML=b.isAllDayEvent?d.allDayEventText:ya(b.from,b.to):Ua(ra,b.from,b.to)),Pb(a,v))},
d.eventTooltipDelay))}function ib(){null!==R&&(clearTimeout(R),R=null);"none"!==v.style.display&&(v.style.display="none")}function u(a,b){a.onmousemove=function(c){Lb(c,null,b)}}function jc(){null===xa&&0<d.autoRefreshTimerDelay&&(xa=setInterval(function(){jb()},d.autoRefreshTimerDelay))}function jb(){"block"===v.style.display||null!==R||r.body.contains(E)||lb()||nb()||(ub(),T())}function rb(a){Ea(a)||(a.className+=" overlay-shown")}function pb(a){Ea(a)&&(a.className=a.className.replace(" overlay-shown",
""))}function Ea(a){return-1<a.className.indexOf("overlay-shown")}function f(a){a=a.toLowerCase();var b="text"===a;vb.hasOwnProperty(a)||(vb[a]=b?r.createTextNode(""):r.createElement(a));return vb[a].cloneNode(!1)}function S(a){na.hasOwnProperty(a)&&null!==na[a]||(na[a]=r.getElementById(a));r.body.contains(na[a])||(na[a]=r.getElementById(a));return na[a]}function Ya(a,b){try{a.contains(b)||a.appendChild(b)}catch(c){console.warn(c.message)}}function bb(a,b){try{a.contains(b)&&a.removeChild(b)}catch(c){console.warn(c.message)}}
function q(a){a.preventDefault();a.cancelBubble=!0}function Pb(a,b){var c=a.clientX,e=a.clientY;b.style.display="block";c+b.offsetWidth>Qa.innerWidth?c-=b.offsetWidth:c++;e+b.offsetHeight>Qa.innerHeight?e-=b.offsetHeight:e++;b.style.left=c+"px";b.style.top=e+"px"}function h(a){return void 0!==a&&null!==a&&""!==a}function mb(a){return h(a)&&"function"===typeof a}function I(a){return h(a)&&"string"===typeof a}function Ga(a,b){b=h(b)?b.toLowerCase():"csv";var c="",e=uc(a);if("csv"===b){var g=[d.fromText,
d.toText,d.isAllDayEventText,d.titleText,d.descriptionText,d.locationText],k=g.length;c=[];for(var m=[],l=0;l<k;l++)c.push(ea(g[l]));m.push(c.join(","));g=e.length;for(k=0;k<g;k++){c=m;l=e[k];var t=[];t.push(ea(wb(l.from)));t.push(ea(wb(l.to)));t.push(ea(l.isAllDayEvent?d.yesText:d.noText));t.push(ea(da(l.title)));t.push(ea(da(l.description)));t.push(ea(da(l.location)));c.push(t.join(","))}c=m.join("\n")}else if("xml"===b){g=[];g.push('<?xml version="1.0" ?>');g.push("<Events>");k=e.length;for(c=
0;c<k;c++){l=e[c];g.push("<Event>");for(m in l)l.hasOwnProperty(m)&&(t=Sb(m),g.push("<"+t+">"+xb(l[m])+"</"+t+">"));g.push("</Event>")}g.push("</Events>");c=g.join("\n")}else if("json"===b){m=[];m.push("{");m.push('"events:": [');k=e.length;for(c=0;c<k;c++){l=e[c];m.push("{");for(g in l)l.hasOwnProperty(g)&&m.push('"'+g+'":"'+xb(l[g])+'",');l=m[m.length-1];m[m.length-1]=l.substring(0,l.length-1);m.push("},")}m[m.length-1]="}";m.push("]");m.push("}");c=m.join("\n")}else if("text"===b){m=[];g=e.length;
for(c=0;c<g;c++){l=e[c];for(k in l)l.hasOwnProperty(k)&&m.push(Sb(k)+": "+xb(l[k]));m.push("")}m.pop();c=m.join("\n")}""!==c&&(e=f("a"),g="text"===b?"plain":b,m="text"===b?"txt":b,e.style.display="none",e.setAttribute("target","_blank"),e.setAttribute("href","data:text/"+g+";charset=utf-8,"+encodeURIComponent(c)),g=e.setAttribute,c=new Date,k=z(c.getDate())+"-"+z(c.getMonth())+"-"+c.getFullYear(),c=z(c.getHours())+"-"+z(c.getMinutes()),g.call(e,"download",d.exportStartFilename+k+"_"+c+"."+m),r.body.appendChild(e),
e.click(),r.body.removeChild(e),wa("onEventsExported"))}function uc(a){var b=[];if(h(a))for(var c=a.length,e=0;e<c;e++)b.push(a[e]);else for(c in n)if(n.hasOwnProperty(c))for(e in n[c])n[c].hasOwnProperty(e)&&b.push(n[c][e]);b.sort(function(g,k){return g.from-k.from});return b}function wb(a){var b=z(a.getDate())+"/"+z(a.getMonth())+"/"+a.getFullYear();a=z(a.getHours())+":"+z(a.getMinutes());return b+" "+a}function da(a){return I(a)?a:""}function Sb(a){return a.charAt(0).toUpperCase()+a.slice(1)}function xb(a){var b=
da(a);"boolean"===typeof a?b=a?d.yesText:d.noText:"object"===typeof a&&(b=wb(a));return b}function ea(a){a=a.replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ");a=a.replace(/"/g,'""');return'"'+a+'"'}function Eb(){var a=new Date(p);a.setMonth(a.getMonth()-1);a.setDate(1);oa(a);wa("onPreviousMonth")}function Gb(){var a=new Date(p);a.setMonth(a.getMonth()+1);a.setDate(1);oa(a);wa("onNextMonth")}function Fb(){oa();wa("onToday")}var d={},Da=this,p,vb={},na={},r=null,Qa=null,zb=null,yb=!1,n={},xa=null,
x=null,Jb=null,w=null,sa=null,y=null,ta=null,Y=null,E=null,U=null,pa=null,qa=null,A=null,F=null,B=null,G=null,L=null,V=null,ha=null,fa=null,ia=null,ma=null,M=null,N=null,H=null,za=null,Aa=null,Sa=null,Ta=[],aa=null,J=null,la=null,Ba=null,K=null,D=null,ca=null,Ca=null,Wa=[],Mb=null,O=null,Ia=null,Ja=null,W=null,X=null,P=null,hb=null,Ab=null,Bb=null,Cb=null,Fa=null,v=null,La=null,ra=null,ja=null,ka=null,R=null,C=null,Xa=null;this.moveToPreviousMonth=function(){Eb()};this.moveToNextMonth=function(){Gb()};
this.moveToToday=function(){Fb()};this.exportAllEvents=function(a){d.exportEventsEnabled&&(a=h(a)?a:"csv",Ga(null,a))};this.refresh=function(){jb()};this.addEvents=function(a,b,c){b=h(b)?b:!0;c=h(c)?c:!0;for(var e=a.length,g=0;g<e;g++)this.addEvent(a[g],!1,!1);c&&Ra("onEventAdded",a);b&&T()};this.addEvent=function(a,b,c){var e=!1;if(a.from<=a.to){var g=a.from;g=g.getFullYear()+"-"+g.getMonth()+"-"+g.getDate();var k=Ib();n.hasOwnProperty(g)||(n[g]={});n[g].hasOwnProperty(k)||(b=h(b)?b:!0,c=h(c)?c:
!0,h(a.id)?k=a.id:a.id=k,n[g][k]=ua(a),e=!0,c&&Ra("onEventAdded",a),b&&T())}return e};this.updateEvent=function(a,b,c,e){if(a=this.removeEvent(a,!1,!1))c=h(c)?c:!0,e=h(e)?e:!0,b.id=Ib(),(a=this.addEvent(b,c,!1))&&e&&Ra("onEventUpdated",b);return a};this.removeEvent=function(a,b,c){var e=!1,g;for(g in n)if(n.hasOwnProperty(g))for(var k in n[g])if(n[g].hasOwnProperty(k)&&k===a){b=h(b)?b:!0;c=h(c)?c:!0;delete n[g][k];e=!0;c&&Ra("onEventRemoved",n[g][k]);b&&T();break}return e};this.clearEvents=function(a){a=
h(a)?a:!0;n={};wa("onEventsCleared");a&&T()};this.setOptions=function(a){d=null!==a&&"object"===typeof a?a:{};h(d.previousMonthTooltipText)||(d.previousMonthTooltipText="Previous Month");h(d.nextMonthTooltipText)||(d.nextMonthTooltipText="Next Month");h(d.addEventTooltipText)||(d.addEventTooltipText="Add Event");h(d.closeTooltipText)||(d.closeTooltipText="Close");h(d.exportEventsTooltipText)||(d.exportEventsTooltipText="Export Events");h(d.todayTooltipText)||(d.todayTooltipText="Today");h(d.refreshTooltipText)||
(d.refreshTooltipText="Refresh");h(d.expandDayTooltipText)||(d.expandDayTooltipText="Expand Day");h(d.listAllEventsTooltipText)||(d.listAllEventsTooltipText="View All Events");h(d.listWeekEventsTooltipText)||(d.listWeekEventsTooltipText="View Current Week Events");h(d.dayHeaderNames)||(d.dayHeaderNames="Mo Tu We Th Fr Sa Su".split(" "));h(d.dayNames)||(d.dayNames="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "));h(d.fromText)||(d.fromText="From:");h(d.toText)||(d.toText="To:");
h(d.isAllDayEventText)||(d.isAllDayEventText="Is All Day Event");h(d.titleText)||(d.titleText="Title:");h(d.descriptionText)||(d.descriptionText="Description:");h(d.locationText)||(d.locationText="Location:");h(d.addText)||(d.addText="Add");h(d.updateText)||(d.updateText="Update");h(d.cancelText)||(d.cancelText="Cancel");h(d.removeEventText)||(d.removeEventText="Remove Event");h(d.addEventTitle)||(d.addEventTitle="Add Event");h(d.editEventTitle)||(d.editEventTitle="Edit Event");h(d.monthNames)||(d.monthNames=
"January February March April May June July August September October November December".split(" "));h(d.showDayNumberOrdinals)||(d.showDayNumberOrdinals=!0);h(d.dragAndDropForEventsEnabled)||(d.dragAndDropForEventsEnabled=!0);h(d.exportStartFilename)||(d.exportStartFilename="exported_events_");h(d.fromTimeErrorMessage)||(d.fromTimeErrorMessage="Please select a valid 'From' time.");h(d.toTimeErrorMessage)||(d.toTimeErrorMessage="Please select a valid 'To' time.");h(d.toSmallerThanFromErrorMessage)||
(d.toSmallerThanFromErrorMessage="Please select a 'To' date that is larger than the 'From' date.");h(d.titleErrorMessage)||(d.titleErrorMessage="Please enter a value in the 'Title' field (no empty space).");h(d.stText)||(d.stText="st");h(d.ndText)||(d.ndText="nd");h(d.rdText)||(d.rdText="rd");h(d.thText)||(d.thText="th");h(d.fullDayViewEnabled)||(d.fullDayViewEnabled=!0);h(d.maximumEventsPerDayDisplay)||(d.maximumEventsPerDayDisplay=3);h(d.yesText)||(d.yesText="Yes");h(d.noText)||(d.noText="No");
h(d.extraSelectableYearsAhead)||(d.extraSelectableYearsAhead=51);h(d.allDayEventText)||(d.allDayEventText="All Day Event");h(d.allEventsText)||(d.allEventsText="All Events");h(d.exportEventsEnabled)||(d.exportEventsEnabled=!0);h(d.manualEditingEnabled)||(d.manualEditingEnabled=!0);h(d.showTimesInMainCalendarEvents)||(d.showTimesInMainCalendarEvents=!1);h(d.startsOnText)||(d.startsOnText="Starts on the");h(d.andFinishesOnText)||(d.andFinishesOnText="and finishes on the");h(d.toTimeText)||(d.toTimeText=
"to");h(d.autoRefreshTimerDelay)||(d.autoRefreshTimerDelay=5E3);h(d.confirmEventRemoveTitle)||(d.confirmEventRemoveTitle="Confirm Event Removal");h(d.confirmEventRemoveMessage)||(d.confirmEventRemoveMessage="Removing this event cannot be undone.  Do you want to continue?");h(d.okText)||(d.okText="OK");h(d.selectExportTypeTitle)||(d.selectExportTypeTitle="Select Export Type");h(d.fullScreenModeEnabled)||(d.fullScreenModeEnabled=!0);h(d.eventTooltipDelay)||(d.eventTooltipDelay=1E3)};(function(a,b){r=
a;Qa=b;zb=Tb;Da.setOptions(Ub);oa(Vb)})(document,window)};