function calendarJs(Zd,$d,ae){function G(a,c){t=h(a)?a:new Date;t.setDate(1);t.setHours(0,0,0,0);var b=t,e=new Date;Zc=b.getFullYear()===e.getFullYear()&&b.getMonth()===e.getMonth();c=h(c)?c:!1;e=(new Date(t.getFullYear(),t.getMonth(),1)).getDay();b=Mb(t.getFullYear(),t.getMonth());0===e&&(e=7);ua();if(!Nb){A=Ma($c);A.className="calendar";A.innerHTML="";be();ce();de();ee();var f=g("div","row header-days"),k=d.dayHeaderNames.length;A.appendChild(f);for(var l=0;l<k;l++){var m=d.dayHeaderNames[l],n=
    g("div","cell");n.innerHTML=m;f.appendChild(n)}for(f=0;6>f;f++)for(k=g("div","row"),A.appendChild(k),l=0;7>l;l++)m=7*f+(l+1),n=g("div","cell"),n.id="calendar-day-"+m,k.appendChild(n),0<d.minimumDayHeight&&(n.style.height=d.minimumDayHeight+"px");fe();Nb=!0}m=e;if(1<m)for(f=new Date(t),f.setMonth(f.getMonth()-1),k=Mb(f.getFullYear(),f.getMonth()),l=1,m=k-m+1;m<k;m++)vc(m+1,l,f.getMonth(),f.getFullYear(),!0),l++;for(k=f=0;k<b;k++)f=e+k,vc(k+1,f,t.getMonth(),t.getFullYear(),!1);if(42>f){e=1;b=new Date(t);
    b.setMonth(b.getMonth()+1);for(f+=1;43>f;f++)vc(e,f,b.getMonth(),b.getFullYear(),!0),e++;e=Mb(b.getFullYear(),b.getMonth());e=Math.round(e/2);wc=new Date(b.getFullYear(),b.getMonth(),e)}else wc=null;da();c&&(null===R&&(R=g("div","disabled-background")),null!==va&&B(q.body,va),va=g("div","calendar-dialog event-editor"),q.body.appendChild(va),e=g("div","view"),va.appendChild(e),ea=g("div","disabled-area"),e.appendChild(ea),Ob=g("div","title-bar"),e.appendChild(Ob),b=g("div","contents"),e.appendChild(b),
    e=g("p"),e.innerText=d.titleText,b.appendChild(e),e=g("div","input-title-container"),b.appendChild(e),wa=g("input",null,"text"),e.appendChild(wa),f=g("input","select-colors","button"),f.value="...",f.onclick=ge,e.appendChild(f),e=g("p"),e.innerText=d.fromText.replace(":","")+"/"+d.toText,b.appendChild(e),e=g("div","split"),b.appendChild(e),M=g("input"),M.onchange=Pb,e.appendChild(M),fa(M,"date"),S=g("input"),e.appendChild(S),fa(S,"time"),e=g("div","split"),b.appendChild(e),H=g("input"),H.onchange=
    Pb,e.appendChild(H),fa(H,"date"),T=g("input"),e.appendChild(T),fa(T,"time"),gb=I(b,d.isAllDayText,Pb)[0],e=g("p"),e.innerText=d.repeatsText,b.appendChild(e),e=g("div","radioButtonsContainer"),b.appendChild(e),xa=U(e,d.repeatsNever,"RepeatType",Na),Qb=U(e,d.repeatsEveryDayText,"RepeatType",Na),Rb=U(e,d.repeatsEveryWeekText,"RepeatType",Na),Sb=U(e,d.repeatsEveryMonthText,"RepeatType",Na),Tb=U(e,d.repeatsEveryYearText,"RepeatType",Na),Oa=g("input","repeat-options","button"),Oa.value="...",Oa.onclick=
    he,e.appendChild(Oa),e=g("p"),e.innerText=d.locationText,b.appendChild(e),hb=g("input",null,"text"),b.appendChild(hb),e=g("p"),e.innerText=d.descriptionText,b.appendChild(e),ib=g("textarea","custom-scroll-bars"),b.appendChild(ib),jb=g("p","error"),b.appendChild(jb),e=g("div","split"),b.appendChild(e),Pa=g("input","ok","button"),Pa.value=d.addText,Pa.onclick=ie,e.appendChild(Pa),f=g("input","cancel","button"),f.value=d.cancelText,f.onclick=xc,e.appendChild(f),Qa=g("input","remove","button"),Qa.value=
    d.removeEventText,Qa.onclick=je,b.appendChild(Qa),null!==ha&&B(q.body,ha),ha=g("div","calendar-dialog event-editor-colors"),q.body.appendChild(ha),b=g("div","title-bar"),b.innerHTML=d.selectColorsText,ha.appendChild(b),b=g("div","contents"),ha.appendChild(b),e=g("p"),e.innerText=d.backgroundColorText,b.appendChild(e),Ra=g("input"),b.appendChild(Ra),fa(Ra,"color"),e=g("p"),e.innerText=d.textColorText,b.appendChild(e),Sa=g("input"),b.appendChild(Sa),fa(Sa,"color"),e=g("p"),e.innerText=d.borderColorText,
    b.appendChild(e),Ta=g("input"),b.appendChild(Ta),fa(Ta,"color"),e=g("div","split"),b.appendChild(e),b=g("input","ok","button"),b.value=d.okText,b.onclick=ke,e.appendChild(b),b=g("input","cancel","button"),b.value=d.cancelText,b.onclick=ad,e.appendChild(b),null!==ia&&B(q.body,ia),ia=g("div","calendar-dialog event-editor-repeat-options"),q.body.appendChild(ia),b=g("div","title-bar"),b.innerHTML=d.repeatOptionsTitle,ia.appendChild(b),b=g("div","contents"),ia.appendChild(b),e=g("p"),e.innerText=d.daysToExcludeText,
    b.appendChild(e),Ub=I(b,d.dayNames[0])[0],Vb=I(b,d.dayNames[1])[0],Wb=I(b,d.dayNames[2])[0],Xb=I(b,d.dayNames[3])[0],Yb=I(b,d.dayNames[4])[0],Zb=I(b,d.dayNames[5])[0],$b=I(b,d.dayNames[6])[0],e=g("p"),e.innerText=d.repeatEndsText,b.appendChild(e),ya=g("input"),b.appendChild(ya),fa(ya,"date"),e=g("div","split"),b.appendChild(e),b=g("input","ok","button"),b.value=d.okText,b.onclick=le,e.appendChild(b),b=g("input","cancel","button"),b.value=d.cancelText,b.onclick=bd,e.appendChild(b),null!==ja&&B(q.body,
    ja),ja=g("div","calendar-dialog confirmation"),q.body.appendChild(ja),yc=g("div","title-bar"),ja.appendChild(yc),b=g("div","contents"),ja.appendChild(b),zc=g("div","message"),b.appendChild(zc),e=I(b,d.removeAllEventsInSeriesText),ac=e[0],Ac=e[1],e=g("div","split"),b.appendChild(e),kb=g("input","yes","button"),kb.value=d.yesText,e.appendChild(kb),lb=g("input","no","button"),lb.value=d.noText,e.appendChild(lb),null!==ka&&B(q.body,ka),ka=g("div","calendar-dialog select-export-type"),q.body.appendChild(ka),
    b=g("div","title-bar"),b.innerHTML=d.selectExportTypeTitle,ka.appendChild(b),e=g("div","contents"),ka.appendChild(e),b=g("div","radioButtonsContainer"),e.appendChild(b),Bc=U(b,"CSV","ExportType"),cd=U(b,"XML","ExportType"),dd=U(b,"JSON","ExportType"),ed=U(b,"TEXT","ExportType"),fd=U(b,"iCAL","ExportType"),b=g("div","split"),e.appendChild(b),e=g("input","ok","button"),e.value=d.okText,e.onclick=me,b.appendChild(e),e=g("input","cancel","button"),e.value=d.cancelText,e.onclick=gd,b.appendChild(e),null!==
    z&&B(q.body,z),z=g("div","calendar-dialog search"),q.body.appendChild(z),b=g("div","title-bar"),b.innerHTML=d.searchEventsTitle,b.onmousedown=ne,b.onmouseup=oe,z.appendChild(b),e=g("div","ib-close"),e.onclick=pe,b.appendChild(e),r(e,d.closeTooltipText),la=g("div","ib-minus"),la.onclick=hd,b.appendChild(la),r(la,d.minimizedTooltipText),K=g("div","contents"),z.appendChild(K),b=g("p"),b.innerText=d.forText,K.appendChild(b),V=g("input",null,"text"),V.oninput=za,V.onpropertychange=za,V.onkeypress=qe,K.appendChild(V),
    id=I(K,d.matchCaseText,za)[0],b=g("p"),b.innerText=d.includeText,K.appendChild(b),b=g("div","checkboxContainer"),K.appendChild(b),jd=I(b,d.titleText.replace(":",""),za)[0],kd=I(b,d.locationText.replace(":",""),za)[0],ld=I(b,d.descriptionText.replace(":",""),za)[0],b=g("div","split"),K.appendChild(b),Ua=g("input","previous","button"),Ua.value=d.previousText,Ua.onclick=re,b.appendChild(Ua),Aa=g("input","next","button"),Aa.value=d.nextText,Aa.onclick=md,b.appendChild(Aa),q.body.addEventListener("mousemove",
    se),null===w&&(w=g("div"),q.body.appendChild(w),Cc=g("div","title"),bc=g("div","date"),mb=g("div","repeats"),nb=g("div","description"),ob=g("div","location"),document.body.addEventListener("mousemove",Dc)),te(),ue());pb.innerHTML=d.monthNames[t.getMonth()]+", "+t.getFullYear()+" \u25be"}function qb(){var a=[];rb(function(c){a.push(c)});return a}function rb(a){for(var c in L)if(L.hasOwnProperty(c))for(var b in L[c])if(L[c].hasOwnProperty(b)){var e=nd(L[c][b]);if(a(e,c,b))return}}function Ba(a,c){c=
    h(c)?c:!0;a=a.sort(function(b,e){return b.from-e.from});c&&(a=a.sort(function(b,e){return od(e.isAllDay)-od(b.isAllDay)}));return a}function ee(){C=g("div","header-date");A.appendChild(C);d.fullScreenModeEnabled&&(C.ondblclick=aa);var a=g("div","ib-arrow-left-full");a.onclick=Ec;a.ondblclick=p;C.appendChild(a);r(a,d.previousMonthTooltipText);a=g("div","ib-pin");a.onclick=Fc;a.ondblclick=p;C.appendChild(a);r(a,d.todayTooltipText);a=g("div","ib-refresh");a.onclick=sb;a.ondblclick=p;C.appendChild(a);
    r(a,d.refreshTooltipText);a=g("div","ib-search");a.onclick=pd;a.ondblclick=p;C.appendChild(a);r(a,d.searchTooltipText);a=g("div","ib-arrow-right-full");a.onclick=Gc;a.ondblclick=p;C.appendChild(a);r(a,d.nextMonthTooltipText);d.manualEditingEnabled&&(a=g("div","ib-plus"),a.onclick=cc,a.ondblclick=p,C.appendChild(a),r(a,d.addEventTooltipText));d.exportEventsEnabled&&(Va=g("div","ib-arrow-down-full-line"),Va.ondblclick=p,C.appendChild(Va),r(Va,d.exportEventsTooltipText),Va.onclick=function(){dc()});
    a=g("div","ib-eye");a.ondblclick=p;C.appendChild(a);a.onclick=function(){qd(!0)};r(a,d.listAllEventsTooltipText);a=g("div","ib-hamburger");a.ondblclick=p;C.appendChild(a);a.onclick=function(){tb(null,!0)};r(a,d.listWeekEventsTooltipText);d.fullScreenModeEnabled&&(Ca=g("div","ib-arrow-expand-left-right"),Ca.ondblclick=p,Ca.onclick=aa,C.appendChild(Ca),r(Ca,d.enableFullScreenTooltipText));a=g("div","title-container");C.appendChild(a);pb=g("span");pb.ondblclick=p;a.appendChild(pb);ve(a)}function ve(a){var c=
    new Date(1900,1,1),b=(new Date).getFullYear()-c.getFullYear()+d.extraSelectableYearsAhead;N=g("div","years-drop-down");a.appendChild(N);ec=g("div","contents custom-scroll-bars");N.appendChild(ec);for(a=0;a<b;a++)we(c.getFullYear()),c.setFullYear(c.getFullYear()+1);pb.onclick=xe}function we(a){var c=g("div");c.innerText=a.toString();c.id="year-selected-"+a.toString();ec.appendChild(c);c.onclick=function(){t.setFullYear(a);G(t);fc()&&(N.style.display="none")}}function nd(a){a.isAllDay&&(a.from=new Date(a.from.getFullYear(),
    a.from.getMonth(),a.from.getDate(),0,0),a.to=new Date(a.from.getFullYear(),a.from.getMonth(),a.from.getDate(),23,59));return a}function xe(a){if("block"!==N.style.display){ua();p(a);a=N.getElementsByClassName("current-year-selected");if(1<=a.length)for(var c=a.length,b=0;b<c;b++)a[b].removeAttribute("class");a=Ma("year-selected-"+t.getFullYear());null!==a&&(a.className="current-year-selected");N.style.display="block";ec.scrollTop=a.offsetTop-N.offsetHeight/2}}function fc(){return null!==N&&"block"===
    N.style.display}function aa(){Wa?rd():sd()}function sd(){!Wa&&d.fullScreenModeEnabled&&(td=A.style.cssText,Wa=!0,A.className+=" full-screen-view",A.removeAttribute("style"),ud("ib-arrow-contract-left-right",d.disableFullScreenTooltipText))}function rd(){Wa&&d.fullScreenModeEnabled&&(Wa=!1,A.className=A.className.replace(" full-screen-view",""),A.style.cssText=td,ud("ib-arrow-expand-left-right",d.enableFullScreenTooltipText))}function ud(a,c){Ca.className=a;Da.className=a;Ea.className=a;Fa.className=
    a;r(Ca,c);r(Da,c);r(Ea,c);r(Fa,c)}function fe(){vd||(q.body.addEventListener("click",ua),q.body.addEventListener("contextmenu",ua),Ga.addEventListener("resize",ua),Ga.addEventListener("resize",wd),q.addEventListener("keydown",function(a){Wa&&xd()&&(37===a.keyCode&&(a.ctrlKey||a.metaKey)?(a.preventDefault(),yd()):39===a.keyCode&&(a.ctrlKey||a.metaKey)?(a.preventDefault(),zd()):70===a.keyCode&&(a.ctrlKey||a.metaKey)?(a.preventDefault(),pd()):27===a.keyCode?aa():37===a.keyCode?Ec():39===a.keyCode?Gc():
    40===a.keyCode?Fc():116===a.keyCode&&sb())}),vd=!0)}function ua(){Hc()&&(J.style.display="none");Ic()&&(O.style.display="none");fc()&&(N.style.display="none");Dc()}function gc(a,c){return a.getDate()===c.getDate()&&a.getMonth()===c.getMonth()&&a.getFullYear()===c.getFullYear()}function Jc(a,c){var b=new Date(a.getFullYear(),a.getMonth(),a.getDate());b.setHours(0,0,0,0);var e=new Date(c.getFullYear(),c.getMonth(),c.getDate());e.setHours(0,0,0,0);return b<=e}function ub(a,c){var b=null;if(h(a)){b=("0"+
    a.getDate()).slice(-2);var e=("0"+(a.getMonth()+1)).slice(-2);b="date"===c?a.getFullYear()+"-"+e+"-"+b:b+"/"+e+"/"+a.getFullYear()}return b}function Xa(a){var c=("0"+a.getDate()).slice(-2),b=("0"+a.getMonth()).slice(-2);return c+"/"+b+"/"+a.getFullYear()}function hc(a){return D(a.getHours())+":"+D(a.getMinutes())}function Kc(a){return 0>a.getDay()-1?6:a.getDay()-1}function ye(a){a=h(a)?a:new Date;var c=0===a.getDay()?7:a.getDay();c=a.getDate()-c+1;var b=c+6,e=new Date(a);a=new Date(a);e.setDate(c);
    e.setHours(0,0,0,0);a.setDate(b);a.setHours(23,59,59,99);return[e,a]}function Mb(a,c){return(new Date(a,c+1,0)).getDate()}function Ad(a){var c=d.thText;if(31===a||21===a||1===a)c=d.stText;else if(22===a||2===a)c=d.ndText;else if(23===a||3===a)c=d.rdText;return c}function Bd(a){var c=a.getHours();a=a.getMinutes();return 60*c+a}function vb(a,c){var b=new Date(a.getFullYear(),a.getMonth(),a.getDate()),e=new Date(c.getFullYear(),c.getMonth(),c.getDate());return Math.ceil(Math.abs(e-b)/864E5)}function da(){ze();
    Cd();for(var a=Ba(qb()),c=a.length,b=0;b<c;b++){var e=a[b];null!==ic(e.from)&&Ae(e);var f=W(e.repeatEvery);0<f&&(1===f?jc(e,function(k){k.setDate(k.getDate()+1)}):2===f?jc(e,function(k){k.setDate(k.getDate()+7)}):3===f?jc(e,function(k){k.setMonth(k.getMonth()+1)}):4===f&&jc(e,function(k){k.setFullYear(k.getFullYear()+1)}))}d.exportEventsEnabled&&(Va.style.display=0===c?"none":"inline-block");Dd()}function jc(a,c){for(var b=new Date(a.from),e=X(a.repeatEveryExcludeDays),f=X(a.seriesIgnoreDates);b<
    wc;){c(b);var k=Xa(b),l=!(!h(a.repeatEnds)||Jc(b,a.repeatEnds));-1!==e.indexOf(b.getDay())||-1!==f.indexOf(k)||l||null!==ic(b)&&Lc(b,a)}}function Ae(a){Lc(a.from,a);if(a.from.getDate()!==a.to.getDate()){var c=vb(a.from,a.to);if(0<c)for(var b=new Date(a.from),e=0;e<c;e++)b.setDate(b.getDate()+1),null!==ic(b)&&Lc(b,a)}}function Lc(a,c){var b=ic(a);if(null!==b){var e=Ya();if(b.getElementsByClassName(e).length<d.maximumEventsPerDayDisplay||0>=d.maximumEventsPerDayDisplay){e=g("div",e);var f=c.title;d.showTimesInMainCalendarEvents&&
    !c.isAllDay&&c.from.getDate()===c.to.getDate()&&(f=wb(c.from,c.to)+": "+f);e.innerHTML=f;b.appendChild(e);Ed(e,c);kc(e,c,Mc(c,a));e.onmousemove=function(l){Fd(l,c)};if(d.manualEditingEnabled){var k=Xa(a);e.oncontextmenu=function(l){lc(l,c,k)}}d.manualEditingEnabled&&(e.onclick=function(){ma(c)})}else Be(b,a)}}function Be(a,c){var b=a.getElementsByClassName("plus-x-events");b=0<b.length?b[0]:null;if(null===b){var e=new Date(c);b=g("div","plus-x-events");b.setAttribute("events","1");b.innerHTML="+1 "+
    d.moreText;b.ondblclick=p;a.appendChild(b);b.onclick=function(){Ha(e,!0)}}else{var f=parseInt(b.getAttribute("events"))+1;b.setAttribute("events",f.toString());b.innerHTML="+"+f+" "+d.moreText}}function ic(a){var c=new Date(t.getFullYear(),t.getMonth(),1);var b=new Date(t);var e=new Date(t),f=null,k=0;c=Kc(c);b.setMonth(b.getMonth()+1);e.setMonth(e.getMonth()-1);a.getMonth()===b.getMonth()&&a.getFullYear()===b.getFullYear()?(b=c+Mb(t.getFullYear(),t.getMonth()),k=a.getDate()+b):a.getMonth()===e.getMonth()&&
    a.getFullYear()===e.getFullYear()?k=c-vb(a,t)+1:a.getMonth()===t.getMonth()&&a.getFullYear()===t.getFullYear()&&(b=c,k=a.getDate()+b);0<k&&(f=Ma("calendar-day-"+k));return f}function ze(){for(var a=0;6>a;a++)for(var c=0;7>c;c++){var b=Ma("calendar-day-"+(7*a+(c+1)));mc(b,Ya());mc(b,"plus-x-events")}}function mc(a,c){for(var b=a.getElementsByClassName(c);b[0];)b[0].parentNode.removeChild(b[0])}function kc(a,c,b){h(b)&&b<new Date&&(a.className+=" expired");P(c.color)?(a.style.backgroundColor=c.color,
    P(c.colorText)&&(a.style.color=c.colorText),P(c.colorBorder)&&(a.style.borderLeftColor=c.colorBorder)):c.isAllDay&&(a.className+=" all-day")}function Mc(a,c){var b=W(a.repeatEvery),e=new Date(a.to);0<b&&(b=new Date(c),b.setHours(e.getHours(),e.getMinutes()),e=b);return e}function Ya(){return d.manualEditingEnabled?"event":"event-no-hover"}function de(){Ia=g("div","full-day-view");A.appendChild(Ia);var a=g("div","title-bar");Ia.appendChild(a);d.fullScreenModeEnabled&&(a.ondblclick=aa);xb=g("div","title");
    a.appendChild(xb);var c=g("div","ib-close");c.ondblclick=p;a.appendChild(c);r(c,d.closeTooltipText);c.onclick=function(){nc(Ia);Y=null};d.manualEditingEnabled&&(c=g("div","ib-plus"),c.onclick=cc,c.ondblclick=p,a.appendChild(c),r(c,d.addEventTooltipText));c=g("div","ib-arrow-right-full");c.onclick=Ce;c.ondblclick=p;a.appendChild(c);r(c,d.nextDayTooltipText);c=g("div","ib-arrow-left-full");c.onclick=De;c.ondblclick=p;a.appendChild(c);r(c,d.previousDayTooltipText);d.exportEventsEnabled&&(Za=g("div",
    "ib-arrow-down-full-line"),Za.ondblclick=p,a.appendChild(Za),r(Za,d.exportEventsTooltipText),Za.onclick=function(){dc(Nc)});d.fullScreenModeEnabled&&(Da=g("div","ib-arrow-expand-left-right"),Da.ondblclick=p,Da.onclick=aa,a.appendChild(Da),r(Da,d.enableFullScreenTooltipText));ba=g("div","contents custom-scroll-bars");Ia.appendChild(ba);Ja=g("div","content-events-all-day");ba.appendChild(Ja);a=g("div","all-day-text");a.innerHTML=d.allDayText;Ja.appendChild(a);yb=g("div","contents-events");ba.appendChild(yb);
    for(a=0;24>a;a++){c=g("div","hour");yb.appendChild(c);var b=g("div","hour-text");b.innerHTML=D(a)+":00";c.appendChild(b);b=g("div","hour-text");b.innerHTML=D(a)+":30";c.appendChild(b)}}function Ha(a,c){c=h(c)?c:!1;xb.innerText="";Y=new Date(a);Nc=[];Ja.style.display="block";mc(ba,Ya());Oc(Ia);Ka(xb,a,!1,!0,!0);var b=Gd(a),e=[];if(null!==b){var f=g("span","holiday");f.innerText=" ("+b+")";xb.appendChild(f)}rb(function(m){for(var n=vb(m.from,m.to)+1,v=new Date(m.from),na=0;na<n;na++){if(gc(v,a)){e.push(m);
    break}v.setDate(v.getDate()+1)}n=W(m.repeatEvery);0<n&&(1===n?oc(m,e,a,function(E){E.setDate(E.getDate()+1)}):2===n?oc(m,e,a,function(E){E.setDate(E.getDate()+7)}):3===n?oc(m,e,a,function(E){E.setMonth(E.getMonth()+1)}):4===n&&oc(m,e,a,function(E){E.setFullYear(E.getFullYear()+1)}))});e=Ba(e);b=e.length;f=null;for(var k=0;k<b;k++){var l=Ee(e[k],a);null===f&&(f=l)}c&&(ba.scrollTop=f-ba.offsetHeight/2);1>=Ja.offsetHeight&&(Ja.style.display="none");d.exportEventsEnabled&&(Za.style.display=0===e.length?
    "none":"inline-block")}function oc(a,c,b,e){for(var f=new Date(a.from),k=X(a.repeatEveryExcludeDays),l=X(a.seriesIgnoreDates);f<b;){e(f);var m=Xa(f),n=!(!h(a.repeatEnds)||Jc(f,a.repeatEnds));if(-1===k.indexOf(f.getDay())&&-1===l.indexOf(m)&&!n&&gc(f,b)){c.push(a);break}}}function Ee(a,c){var b=g("div",Ya());a.isAllDay?Ja.appendChild(b):yb.appendChild(b);if(d.manualEditingEnabled){var e=Xa(c);b.oncontextmenu=function(k){lc(k,a,e)}}kc(b,a,Mc(a,c));var f=g("div","title");f.innerHTML=a.title;b.appendChild(f);
    f=g("div","date");b.appendChild(f);a.from.getDate()===a.to.getDate()?f.innerHTML=a.isAllDay?d.allDayText:wb(a.from,a.to):pc(f,a.from,a.to);zb(a.repeatEvery)&&0<a.repeatEvery&&(f=g("div","repeats"),f.innerHTML=d.repeatsText.replace(":","")+" "+$a(a.repeatEvery),b.appendChild(f));P(a.location)&&(f=g("div","location"),f.innerHTML=a.location,b.appendChild(f));P(a.description)&&(f=g("div","description"),f.innerHTML=a.description,b.appendChild(f));d.manualEditingEnabled&&(b.onclick=function(){ma(a)});f=
    0;a.isAllDay||(f=Fe(c,b,a));return f}function Fe(a,c,b){var e=yb.offsetHeight,f=e/1440,k=d.spacing,l=null;Nc.push(b);if(!b.isAllDay){l=W(b.repeatEvery);if(gc(b.from,a)||0<l)k=f*Bd(b.from);l=gc(b.to,a)?f*Bd(b.to)-k:e;l-=2*d.spacing}c.style.top=k+"px";null!==l&&(c.style.height=l+"px");c.offsetTop+c.offsetHeight>e-d.spacing&&(c.style.height=e-c.offsetTop-3*d.spacing+"px");a=k+ba.offsetHeight/2;a<=ba.offsetHeight&&(a=0);return a}function De(){Y.setDate(Y.getDate()-1);Ha(Y,!0)}function Ce(){Y.setDate(Y.getDate()+
    1);Ha(Y,!0)}function be(){oa=g("div","list-all-events-view");A.appendChild(oa);var a=g("div","title-bar");oa.appendChild(a);d.fullScreenModeEnabled&&(a.ondblclick=aa);var c=g("div","title");c.innerHTML=d.allEventsText;a.appendChild(c);c=g("div","ib-close");c.ondblclick=p;a.appendChild(c);r(c,d.closeTooltipText);c.onclick=function(){nc(oa)};d.manualEditingEnabled&&(c=g("div","ib-plus"),c.onclick=cc,c.ondblclick=p,a.appendChild(c),r(c,d.addEventTooltipText));d.exportEventsEnabled&&(Ab=g("div","ib-arrow-down-full-line"),
    Ab.ondblclick=p,a.appendChild(Ab),r(Ab,d.exportEventsTooltipText),Ab.onclick=function(){dc()});d.fullScreenModeEnabled&&(Ea=g("div","ib-arrow-expand-left-right"),Ea.ondblclick=p,Ea.onclick=aa,a.appendChild(Ea),r(Ea,d.enableFullScreenTooltipText));Bb=g("div","contents custom-scroll-bars");oa.appendChild(Bb)}function qd(a){a=h(a)?a:!1;Oc(oa);Bb.innerHTML="";a&&(Bb.scrollTop=0);a=Ba(qb());for(var c=a.length,b=0;b<c;b++){var e=a[b],f=Ge(e.from);He(e,f)}}function He(a,c){var b=g("div",Ya());c.appendChild(b);
    d.manualEditingEnabled&&(b.oncontextmenu=function(f){lc(f,a)});kc(b,a);var e=g("div","title");e.innerHTML=a.title;b.appendChild(e);e=g("div","date");b.appendChild(e);a.from.getDate()===a.to.getDate()?a.isAllDay?qc(e,a.from,null," - "+d.allDayText):qc(e,a.from,null," - "+wb(a.from,a.to)):pc(e,a.from,a.to);zb(a.repeatEvery)&&0<a.repeatEvery&&(e=g("div","repeats"),e.innerHTML=d.repeatsText.replace(":","")+" "+$a(a.repeatEvery),b.appendChild(e));P(a.location)&&(e=g("div","location"),e.innerHTML=a.location,
    b.appendChild(e));P(a.description)&&(e=g("div","description"),e.innerHTML=a.description,b.appendChild(e));d.manualEditingEnabled&&(b.onclick=function(){ma(a)})}function Ge(a){var c="month-"+a.getMonth()+"-"+a.getFullYear(),b=Ma(c),e=new Date(a);if(null===b){var f=g("div","month");Bb.appendChild(f);b=g("div","header");b.innerHTML=d.monthNames[a.getMonth()]+" "+a.getFullYear();f.appendChild(b);a=g("div","ib-arrow-expand-left-right");a.ondblclick=p;b.appendChild(a);a.onclick=function(){nc(oa);G(e)};
    r(a,d.expandMonthTooltipText);b=g("div","events");b.id=c;f.appendChild(b)}return b}function ce(){La=g("div","list-all-week-events-view");A.appendChild(La);var a=g("div","title-bar");La.appendChild(a);d.fullScreenModeEnabled&&(a.ondblclick=aa);Z=g("div","title");a.appendChild(Z);var c=g("div","ib-close");c.ondblclick=p;a.appendChild(c);r(c,d.closeTooltipText);c.onclick=function(){nc(La)};d.manualEditingEnabled&&(c=g("div","ib-plus"),c.onclick=cc,c.ondblclick=p,a.appendChild(c),r(c,d.addEventTooltipText));
    c=g("div","ib-arrow-right-full");c.onclick=Ie;c.ondblclick=p;a.appendChild(c);r(c,d.nextWeekTooltipText);c=g("div","ib-arrow-left-full");c.onclick=Je;c.ondblclick=p;a.appendChild(c);r(c,d.previousWeekTooltipText);d.exportEventsEnabled&&(ab=g("div","ib-arrow-down-full-line"),ab.ondblclick=p,a.appendChild(ab),r(ab,d.exportEventsTooltipText),ab.onclick=function(){dc(Cb)});d.fullScreenModeEnabled&&(Fa=g("div","ib-arrow-expand-left-right"),Fa.ondblclick=p,Fa.onclick=aa,a.appendChild(Fa),r(Fa,d.enableFullScreenTooltipText));
    Db=g("div","contents custom-scroll-bars");La.appendChild(Db)}function tb(a,c){c=h(c)?c:!1;Oc(La);Db.innerHTML="";bb={};Pc={};Cb=[];pa=null===a?new Date:new Date(a);c&&(Db.scrollTop=0);var b=ye(a),e=b[0];b=b[1];Ke(e,b);Le(e,b);for(var f=Ba(qb()),k=f.length,l=0;l<k;l++){for(var m=f[l],n=vb(m.from,m.to)+1,v=new Date(m.from),na=!1,E=0;E<n;E++)v>=e&&v<=b&&(na=Qc(v),Hd(m,na,v),na=!0),v.setDate(v.getDate()+1);na&&Cb.push(m);n=W(m.repeatEvery);v=!1;0<n&&(1===n?v=rc(m,e,b,function(Q){Q.setDate(Q.getDate()+
    1)}):2===n?v=rc(m,e,b,function(Q){Q.setDate(Q.getDate()+7)}):3===n?v=rc(m,e,b,function(Q){Q.setMonth(Q.getMonth()+1)}):4===n&&(v=rc(m,e,b,function(Q){Q.setFullYear(Q.getFullYear()+1)})));v&&!na&&Cb.push(m)}for(var Id in bb)bb.hasOwnProperty(Id)&&Db.appendChild(bb[Id]);d.exportEventsEnabled&&(ab.style.display=0===Cb.length?"none":"inline-block")}function rc(a,c,b,e){for(var f=new Date(a.from),k=X(a.repeatEveryExcludeDays),l=X(a.seriesIgnoreDates),m=!1;f<b;){e(f);var n=Xa(f),v=!(!h(a.repeatEnds)||Jc(f,
    a.repeatEnds));-1===k.indexOf(f.getDay())&&-1===l.indexOf(n)&&!v&&f>=c&&f<=b&&(m=Qc(f),Hd(a,m,f),m=!0)}return m}function Le(a,c){Z.innerHTML="";if(a.getFullYear()===c.getFullYear()){Ka(Z,a,!1,!1);var b=g("span");b.innerHTML=" - ";Z.appendChild(b);Ka(Z,c,!1,!1);b=g("span");b.innerHTML=", "+a.getFullYear();Z.appendChild(b)}else Ka(Z,a,!1,!0),b=g("span"),b.innerHTML=" - ",Z.appendChild(b),Ka(Z,c,!1,!0)}function Hd(a,c,b){mc(c,"no-events-text");var e=g("div",Ya());c.appendChild(e);if(d.manualEditingEnabled){var f=
    Xa(b);e.oncontextmenu=function(k){lc(k,a,f)}}Ed(e,a);kc(e,a,Mc(a,b));c=g("div","title");c.innerHTML=a.title;e.appendChild(c);c=g("div","date");e.appendChild(c);a.from.getDate()===a.to.getDate()?c.innerHTML=a.isAllDay?d.allDayText:wb(a.from,a.to):pc(c,a.from,a.to);zb(a.repeatEvery)&&0<a.repeatEvery&&(c=g("div","repeats"),c.innerHTML=d.repeatsText.replace(":","")+" "+$a(a.repeatEvery),e.appendChild(c));P(a.location)&&(c=g("div","location"),c.innerHTML=a.location,e.appendChild(c));P(a.description)&&
    (c=g("div","description"),c.innerHTML=a.description,e.appendChild(c));d.manualEditingEnabled&&(e.onclick=function(){ma(a)})}function Ke(a,c){var b=new Date(a);do Qc(b),b.setDate(b.getDate()+1);while(b<c)}function Qc(a){var c=Kc(a),b=a.getFullYear()+a.getMonth()+c,e=null,f=new Date(a);if(bb.hasOwnProperty(b))e=Pc[b];else{var k=g("div","day");bb[b]=k;Jd(k,f.getFullYear(),f.getMonth(),f.getDate());e=g("div","header");k.appendChild(e);qc(e,a,d.dayNames[c]+", ");a=g("div","ib-arrow-expand-left-right");
    a.ondblclick=p;e.appendChild(a);a.onclick=function(){Ha(f,!0)};r(a,d.expandDayTooltipText);e=g("div","events");k.appendChild(e);k=g("div","no-events-text");k.innerHTML=d.noEventsAvailableText;e.appendChild(k);Pc[b]=e}return e}function Je(){pa.setDate(pa.getDate()-7);tb(pa,!0)}function Ie(){pa.setDate(pa.getDate()+7);tb(pa,!0)}function wb(a,c){return Rc(a)+" "+d.toTimeText+" "+Rc(c)}function Rc(a){return D(a.getHours())+":"+D(a.getMinutes())}function pc(a,c,b){a.innerHTML="";var e=g("span");e.innerText=
    d.startsOnText+" ";a.appendChild(e);Ka(a,c);c=g("span");c.innerText=" "+d.andFinishesOnText+" ";a.appendChild(c);Ka(a,b)}function Ka(a,c,b,e,f){b=h(b)?b:!0;e=h(e)?e:!0;if(f=h(f)?f:!1){f=Kc(c);var k=g("span");k.innerText=d.dayNames[f]+", ";a.appendChild(k)}qc(a,c);f=g("span");f.innerText=" "+d.monthNames[c.getMonth()];a.appendChild(f);e&&(e=g("span"),e.innerText=" "+c.getFullYear(),a.appendChild(e));b&&(b=g("span"),b.innerText=" "+Rc(c),a.appendChild(b))}function qc(a,c,b,e){if(h(b)){var f=g("span");
    f.innerText=b;a.appendChild(f)}b=g("span");b.innerText=c.getDate();a.appendChild(b);d.showDayNumberOrdinals&&(b=g("sup"),b.innerText=Ad(c.getDate()),a.appendChild(b));h(e)&&(c=g("span"),c.innerText=e,a.appendChild(c))}function vc(a,c,b,e,f){var k=new Date,l=a===k.getDate()&&e===k.getFullYear()&&b===k.getMonth();c=Ma("calendar-day-"+c);k=g("span");var m=new Date(e,b,a);c.innerHTML="";k.className=f?"day-muted":"";k.className+=l?" today":"";k.innerText=a;if(6===m.getDay()||0===m.getDay()&&"cell"===c.className)c.className=
    "cell weekend-day";c.oncontextmenu=function(v){sc=new Date(m);ua();p(v);Sc(v,J)};d.showDayNumberOrdinals&&(f=g("sup"),f.innerText=Ad(a),k.appendChild(f));c.appendChild(k);f=g("div","ib-arrow-top-right");c.appendChild(f);r(f,d.expandDayTooltipText);l=Gd(m);if(null!==l){var n=g("span","holiday");n.innerText=l;k.appendChild(n)}f.onclick=function(){Ha(m,!0)};d.manualEditingEnabled&&(c.ondblclick=function(){ma(null,m)},Jd(c,e,b,a))}function Gd(a){for(var c=null,b=[],e=d.holidays.length,f=0;f<e;f++){var k=
    d.holidays[f];W(k.day)===a.getDate()&&W(k.month)===a.getMonth()+1&&(k=u(k.title,null),null!==k&&b.push(k))}0<b.length&&(c=b.join(", "));return c}function Ed(a,c){d.dragAndDropForEventsEnabled&&d.manualEditingEnabled&&(a.setAttribute("draggable",!0),a.ondragstart=function(){x=c})}function Jd(a,c,b,e){d.dragAndDropForEventsEnabled&&d.manualEditingEnabled&&(a.ondragover=function(f){p(f);Kd(a)},a.ondragenter=function(f){p(f);Kd(a)},a.ondragleave=function(f){p(f);Ld(a)},a.ondrop=function(f){p(f);if(null!==
    x){f=vb(x.from,x.to);var k=new Date(c,b,e,x.from.getHours(),x.from.getMinutes()),l=new Date(c,b,e,x.to.getHours(),x.to.getMinutes());0<f&&l.setDate(l.getDate()+f);Eb.updateEvent(x.id,{from:k,to:l,title:x.title,description:x.description,location:x.location,isAllDay:x.isAllDay,color:x.color,colorText:x.colorText,colorBorder:x.colorBorder,repeatEvery:x.repeatEvery,repeatEveryExcludeDays:x.repeatEveryExcludeDays});sb()}Ld(a)})}function Kd(a){-1===a.className.indexOf(" drag-over")&&(a.className+=" drag-over")}
    function Ld(a){-1<a.className.indexOf(" drag-over")&&(a.className=a.className.replace(" drag-over",""))}function te(){null!==J&&B(q.body,J);J=g("div","calendar-drop-down-menu");q.body.appendChild(J);if(d.manualEditingEnabled){var a=g("div","item");a.innerHTML=d.addEventTitle;J.appendChild(a);a.onclick=function(){ma(null,sc)};a=g("div","separator");J.appendChild(a)}a=g("div","item");a.innerHTML=d.expandDayTooltipText;J.appendChild(a);a.onclick=function(){Ha(sc,!0)};a=g("div","separator");J.appendChild(a);
    a=g("div","item");a.innerHTML=d.viewWeekEventsText;J.appendChild(a);a.onclick=function(){tb(sc,!0)}}function ue(){null!==O&&B(q.body,O);if(d.manualEditingEnabled){O=g("div","calendar-drop-down-menu");q.body.appendChild(O);var a=g("div","item");a.innerHTML=d.removeEventText;O.appendChild(a);a.onclick=function(){cb(q.body,R);var c=function(){B(q.body,R)},b=0<W(qa.repeatEvery)&&null!==Fb;Md(d.confirmEventRemoveTitle,d.confirmEventRemoveMessage,function(){c();h(qa.id)&&(ac.checked||null===Fb?Eb.removeEvent(qa.id,
    !0):(Tc(qa.seriesIgnoreDates)?qa.seriesIgnoreDates.push(Fb):qa.seriesIgnoreDates=[Fb],da()),tc())},c,b)};a=g("div","separator");O.appendChild(a);a=g("div","item");a.innerHTML=d.editEventTitle;O.appendChild(a);a.onclick=function(){ma(qa)}}}function lc(a,c,b){qa=c;Fb=h(b)?b:null;ua();p(a);Sc(a,O)}function Hc(){return null!==J&&"block"===J.style.display}function Ic(){return null!==O&&"block"===O.style.display}function cc(){ma(null,Y)}function Na(){Oa.disabled=xa.checked}function Pb(){var a=!1;gb.checked&&
    (H.value=M.value,S.value="00:00",T.value="23:59",a=!0);H.disabled=a;S.disabled=a;T.disabled=a;a=Gb(M);var c=Gb(H);c>a||c<a?(a=!0,xa.checked=!0):a=!1;xa.disabled=a;Qb.disabled=a;Rb.disabled=a;Sb.disabled=a;Tb.disabled=a;Oa.disabled=a;Na()}function ma(a,c){cb(q.body,R);if(h(a)){Pa.value=d.updateText;Qa.style.display="block";Ob.innerHTML=d.editEventTitle;F=a;M.value=ub(a.from,M.type);S.value=hc(a.from);H.value=ub(a.to,H.type);T.value=hc(a.to);gb.checked=a.isAllDay;wa.value=u(a.title);ib.value=u(a.description);
    hb.value=u(a.location);Ra.value=u(a.color,"#484848");Sa.value=u(a.colorText,"#F5F5F5");Ta.value=u(a.colorBorder,"#282828");var b=W(a.repeatEvery);0===b?xa.checked=!0:1===b?Qb.checked=!0:2===b?Rb.checked=!0:3===b?Sb.checked=!0:4===b&&(Tb.checked=!0);b=X(a.repeatEveryExcludeDays);Ub.checked=-1<b.indexOf(1);Vb.checked=-1<b.indexOf(2);Wb.checked=-1<b.indexOf(3);Xb.checked=-1<b.indexOf(4);Yb.checked=-1<b.indexOf(5);Zb.checked=-1<b.indexOf(6);$b.checked=-1<b.indexOf(0);ya.value=ub(a.repeatEnds,ya.type)}else{b=
    new Date;var e=h(c)?c:b,f=new Date;e.getDate()===f.getDate()&&e.getFullYear()===f.getFullYear()&&e.getMonth()===f.getMonth()&&(e.setHours(b.getHours()),e.setMinutes(b.getMinutes()));Pa.value=d.addText;Qa.style.display="none";Ob.innerHTML=d.addEventTitle;F={};M.value=ub(e,M.type);S.value=hc(e);H.value=ub(e,H.type);T.value=hc(e);gb.checked=!1;wa.value="";ib.value="";hb.value="";Ra.value="#484848";Sa.value="#F5F5F5";Ta.value="#282828";xa.checked=!0;Ub.checked=!1;Vb.checked=!1;Wb.checked=!1;Xb.checked=
    !1;Yb.checked=!1;Zb.checked=!1;$b.checked=!1;ya.value=null}Pb();va.style.display="block";jb.style.display="none";wa.focus()}function ie(){var a=Gb(M),c=Gb(H),b=S.value.split(":"),e=T.value.split(":"),f=Uc(wa.value),k=Uc(ib.value),l=Uc(hb.value),m=Gb(ya,null);2>b.length?uc(d.fromTimeErrorMessage,S):2>e.length?uc(d.toTimeErrorMessage,T):""===f?uc(d.titleErrorMessage,wa):(Nd(a,S.value),Nd(c,T.value),c<a?uc(d.toSmallerThanFromErrorMessage,H):(xc(),b=h(F.id),a={from:a,to:c,title:f,description:k,location:l,
    isAllDay:gb.checked,color:F.color,colorText:F.colorText,colorBorder:F.colorBorder,repeatEveryExcludeDays:F.repeatEveryExcludeDays,repeatEnds:m},xa.checked?a.repeatEvery=0:Qb.checked?a.repeatEvery=1:Rb.checked?a.repeatEvery=2:Sb.checked?a.repeatEvery=3:Tb.checked&&(a.repeatEvery=4),b||(a.organizerName=d.organizerName,a.organizerEmailAddress=d.organizerEmailAddress),b?Eb.updateEvent(F.id,a,!1):Eb.addEvent(a,!1),da(),tc()))}function Nd(a,c){var b=0,e=0,f=c.split(":");if(2===f.length){var k=parseInt(f[0]);
    f=parseInt(f[1]);!isNaN(k)&&2>=k.toString().length&&(b=k);!isNaN(f)&&2>=f.toString().length&&(e=f)}a.setHours(b);a.setMinutes(e)}function Gb(a,c){var b=void 0!==c?c:new Date;if(""!==a.value)if("date"===a.type)b=new Date(a.value);else{var e=a.value.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/);e&&(e=new Date(e[3],e[2]-1,e[1]),e instanceof Date&&!isNaN(e)&&(b=e))}return b}function xc(){va.style.display="none";B(q.body,R)}function je(){ea.style.display="block";var a=function(){ea.style.display="none"};Md(d.confirmEventRemoveTitle,
    d.confirmEventRemoveMessage,function(){a();xc();h(F.id)&&(Eb.removeEvent(F.id,!0),tc())},a)}function uc(a,c){jb.innerHTML=a;jb.style.display="block";c.focus()}function tc(){Hb(Ia)&&Ha(Y);Hb(oa)&&qd();Hb(La)&&tb(pa)}function ke(){ad();F.color=Ra.value;F.colorText=Sa.value;F.colorBorder=Ta.value}function ad(){ha.style.display="none";ea.style.display="none"}function ge(){ha.style.display="block";ea.style.display="block"}function le(){bd();var a=[];Ub.checked&&a.push(1);Vb.checked&&a.push(2);Wb.checked&&
    a.push(3);Xb.checked&&a.push(4);Yb.checked&&a.push(5);Zb.checked&&a.push(6);$b.checked&&a.push(0);F.repeatEveryExcludeDays=a}function bd(){ia.style.display="none";ea.style.display="none"}function he(){ia.style.display="block";ea.style.display="block"}function Md(a,c,b,e,f){f=h(f)?f:!1;ja.style.display="block";yc.innerHTML=a;zc.innerHTML=c;kb.onclick=Od;lb.onclick=Od;kb.addEventListener("click",b);f?(Ac.style.display="block",ac.checked=!1):(Ac.style.display="none",ac.checked=!0);Vc(e)&&lb.addEventListener("click",
    e)}function Od(){ja.style.display="none"}function dc(a){cb(q.body,R);ka.style.display="block";db=a;Bc.checked=!0}function gd(){B(q.body,R);ka.style.display="none"}function me(){gd();Bc.checked?eb(db,"csv"):cd.checked?eb(db,"xml"):dd.checked?eb(db,"json"):ed.checked?eb(db,"text"):fd.checked&&eb(db,"ical")}function ne(a){Ib||(Ib=!0,Pd=a.pageX-z.offsetLeft,Qd=a.pageY-z.offsetTop)}function se(a){Ib&&(z.style.left=a.pageX-Pd+"px",z.style.top=a.pageY-Qd+"px")}function oe(){Ib&&(Ib=!1,Rd=!0)}function za(){Ua.disabled=
    !0;Aa.disabled=""===V.value;ca=[];ra=0}function pd(){"block"!==z.style.display&&(ca=[],z.style.display="block",V.value="",wd(),za());"block"!==K.style.display&&hd();V.focus()}function wd(){Rd||(z.style.left=Ga.innerWidth/2-z.offsetWidth/2+"px",z.style.top=Ga.innerHeight/2-z.offsetHeight/2+"px")}function pe(){z.style.display="none"}function hd(){"block"===K.style.display?(K.style.display="none",la.className="ib-square-hollow",r(la,d.restoreTooltipText)):(K.style.display="block",la.className="ib-minus",
    r(la,d.minimizedTooltipText))}function re(){0<ra&&(ra--,Sd(),G(ca[ra].from))}function qe(a){13!==a.keyCode||Aa.disabled||md()}function md(){if(0===ca.length){var a=id.checked,c=a?V.value:V.value.toLowerCase(),b={};rb(function(e){var f=u(e.title),k=u(e.location),l=u(e.description),m=!1;a||(f=f.toLowerCase(),l=l.toLowerCase(),k=k.toLowerCase());jd.checked&&-1<f.indexOf(c)?m=!0:kd.checked&&-1<k.indexOf(c)?m=!0:ld.checked&&-1<l.indexOf(c)&&(m=!0);m&&(f=e.from.getMonth()+"-"+e.from.getFullYear(),b.hasOwnProperty(f)||
    (ca.push(e),b[f]=!0))})}else ra++;Sd();0<ca.length&&G(ca[ra].from)}function Sd(){Ua.disabled=0===ra;Aa.disabled=ra===ca.length-1||0===ca.length}function Fd(a,c,b){p(a);null!==sa&&(clearTimeout(sa),sa=null);Dc();"block"!==w.style.display&&(sa=setTimeout(function(){q.body.contains(R)||fc()||Hc()||Ic()||(b=h(b)?b:"",w.className=""===b?"calendar-tooltip-event":"calendar-tooltip",""!==b?w.innerHTML=b:(w.innerHTML="",w.appendChild(Cc),w.appendChild(bc),Cc.innerHTML=c.title,zb(c.repeatEvery)&&0<c.repeatEvery?
    (mb.innerHTML=d.repeatsText.replace(":","")+" "+$a(c.repeatEvery),cb(w,mb)):(mb.innerHTML="",B(w,mb)),P(c.location)?(ob.innerHTML=c.location,cb(w,ob)):(ob.innerHTML="",B(w,ob)),P(c.description)?(nb.innerHTML=c.description,cb(w,nb)):(nb.innerHTML="",B(w,nb)),c.from.getDate()===c.to.getDate()?bc.innerHTML=c.isAllDay?d.allDayText:wb(c.from,c.to):pc(bc,c.from,c.to)),Sc(a,w))},d.eventTooltipDelay))}function Dc(){null!==sa&&(clearTimeout(sa),sa=null);Td()&&(w.style.display="none")}function Td(){return null!==
    sa||null!==w&&"block"===w.style.display}function r(a,c){a.onmousemove=function(b){Fd(b,null,c)}}function Dd(){null===Jb&&0<d.autoRefreshTimerDelay&&(Jb=setInterval(function(){sb()},d.autoRefreshTimerDelay))}function Cd(){null!==Jb&&0<d.autoRefreshTimerDelay&&(clearTimeout(Jb),Jb=null)}function sb(){xd()&&(tc(),Zc?G():da())}function xd(){return!Td()&&!q.body.contains(R)&&!fc()&&!Hc()&&!Ic()}function Oc(a){Hb(a)||(a.className+=" overlay-shown")}function nc(a){Hb(a)&&(a.className=a.className.replace(" overlay-shown",
    ""))}function Hb(a){return-1<a.className.indexOf("overlay-shown")}function g(a,c,b){a=a.toLowerCase();var e="text"===a;Wc.hasOwnProperty(a)||(Wc[a]=e?q.createTextNode(""):q.createElement(a));a=Wc[a].cloneNode(!1);h(c)&&(a.className=c);h(b)&&(a.type=b);return a}function Ma(a){fb.hasOwnProperty(a)&&null!==fb[a]||(fb[a]=q.getElementById(a));q.body.contains(fb[a])||(fb[a]=q.getElementById(a));return fb[a]}function cb(a,c){try{a.contains(c)||a.appendChild(c)}catch(b){console.warn(b.message)}}function B(a,
    c){try{a.contains(c)&&a.removeChild(c)}catch(b){console.warn(b.message)}}function p(a){a.preventDefault();a.cancelBubble=!0}function Sc(a,c){var b=a.pageX,e=a.pageY;c.style.display="block";b+c.offsetWidth>Ga.innerWidth?b-=c.offsetWidth:b++;e+c.offsetHeight>Ga.innerHeight?e-=c.offsetHeight:e++;c.style.left=b+"px";c.style.top=e+"px"}function fa(a,c){try{a.type=c}catch(b){a.type="text"}}function U(a,c,b,e){var f=g("div","radioButtonContainer");a.appendChild(f);a=g("label","radioButton");f.appendChild(a);
    f=g("input",null,"radio");f.name=b;a.appendChild(f);h(e)&&(f.onchange=e);b=g("span","check-mark");a.appendChild(b);b=g("span","text");b.innerText=c;a.appendChild(b);return f}function I(a,c,b){var e=g("div");a.appendChild(e);a=g("label","checkbox");a.innerText=c;e.appendChild(a);c=g("input",null,"checkbox");a.appendChild(c);h(b)&&(c.onchange=b);b=g("span","check-mark");a.appendChild(b);return[c,a]}function D(a){a=a.toString();return 1===a.length?"0"+a:a}function Uc(a){return a.replace(/^\s+|\s+$/g,
    "")}function Ud(){for(var a=[],c=0;32>c;c++){8!==c&&12!==c&&16!==c&&20!==c||a.push("-");var b=Math.floor(16*Math.random()).toString(16);a.push(b)}return a.join("")}function h(a){return void 0!==a&&null!==a&&""!==a}function Vc(a){return h(a)&&"function"===typeof a}function Vd(a){return h(a)&&"string"===typeof a}function zb(a){return h(a)&&"number"===typeof a}function Tc(a){return h(a)&&"object"===typeof a&&a instanceof Array}function P(a){return Vd(a)&&""!==a}function eb(a,c){c=h(c)?c.toLowerCase():
    "csv";var b="",e=[];e=h(a)?e.concat(a):qb();e=Ba(e);e=Ba(e,!1);if("csv"===c){var f=[d.idText,d.fromText,d.toText,d.isAllDayText,d.titleText,d.descriptionText,d.locationText,d.backgroundColorText,d.textColorText,d.borderColorText,d.repeatsText,d.repeatEndsText,d.repeatDaysToExcludeText,d.seriesIgnoreDatesText,d.createdText,d.organizerNameText,d.organizerEmailAddressText];b=f.length;for(var k=[],l=[],m=0;m<b;m++)k.push(y(f[m]));l.push(k.join(","));f=e.length;for(b=0;b<f;b++){k=l;m=e[b];var n=[];n.push(y(u(m.id)));
    n.push(y(Kb(m.from)));n.push(y(Kb(m.to)));n.push(y(m.isAllDay?d.yesText:d.noText));n.push(y(u(m.title)));n.push(y(u(m.description)));n.push(y(u(m.location)));n.push(y(u(m.color)));n.push(y(u(m.colorText)));n.push(y(u(m.colorBorder)));n.push(y($a(m.repeatEvery)));n.push(y(Kb(m.repeatEnds)));n.push(y(Wd(m.repeatEveryExcludeDays)));n.push(y(X(m.seriesIgnoreDates).join(",")));n.push(y(Kb(m.created)));n.push(y(u(m.organizerName)));n.push(y(u(m.organizerEmailAddress)));k.push(n.join(","))}b=l.join("\n")}else if("xml"===
    c){f=[];f.push('<?xml version="1.0" ?>');f.push("<Events>");b=e.length;for(k=0;k<b;k++){m=e[k];f.push("<Event>");for(l in m)m.hasOwnProperty(l)&&null!==m[l]&&(n=Xd(l),f.push("<"+n+">"+Xc(l,m[l])+"</"+n+">"));f.push("</Event>")}f.push("</Events>");b=f.join("\n")}else if("json"===c){l=[];l.push("{");l.push('"events:": [');b=e.length;for(k=0;k<b;k++){m=e[k];l.push("{");for(f in m)m.hasOwnProperty(f)&&null!==m[f]&&l.push('"'+f+'":"'+Xc(f,m[f])+'",');m=l[l.length-1];l[l.length-1]=m.substring(0,m.length-
    1);l.push("},")}l[l.length-1]="}";l.push("]");l.push("}");b=l.join("\n")}else if("text"===c){l=[];f=e.length;for(b=0;b<f;b++){m=e[b];for(k in m)m.hasOwnProperty(k)&&null!==m[k]&&l.push(Xd(k)+": "+Xc(k,m[k]));l.push("")}l.pop();b=l.join("\n")}else if("ical"===c){l=[];l.push("BEGIN:VCALENDAR");l.push("VERSION:2.0");l.push("PRODID:-//hacksw/handcal//NONSGML v1.0//EN");f=e.length;for(b=0;b<f;b++)k=e[b],l.push("BEGIN:VEVENT"),l.push("UID:"+u(k.id)),l.push("DTSTAMP:"+Yc(k.created)),l.push("ORGANIZER;CN="+
    u(k.organizerName)+":MAILTO:"+u(k.organizerEmailAddress)),l.push("DTSTART:"+Yc(k.from)),l.push("DTEND:"+Yc(k.to)),l.push("SUMMARY:"+u(k.title)),l.push("END:VEVENT");l.push("END:VCALENDAR");b=l.join("\n")}""!==b&&(e=g("a"),l="text",f=k=c,"text"===c?(k="plain",f="txt"):"ical"===c?(k="calendar",f="ics"):"json"===c&&(l="application"),e.style.display="none",e.setAttribute("target","_blank"),e.setAttribute("href","data:"+l+"/"+k+";charset=utf-8,"+encodeURIComponent(b)),l=e.setAttribute,k=new Date,b=D(k.getDate())+
    "-"+D(k.getMonth())+"-"+k.getFullYear(),k=D(k.getHours())+"-"+D(k.getMinutes()),l.call(e,"download",d.exportStartFilename+b+"_"+k+"."+f),q.body.appendChild(e),e.click(),q.body.removeChild(e),ta("onEventsExported"))}function Kb(a){var c=d.repeatsNever;h(a)&&(c=D(a.getDate())+"/"+D(a.getMonth())+"/"+a.getFullYear(),a=D(a.getHours())+":"+D(a.getMinutes()),c=c+" "+a);return c}function u(a,c){c=h(c)?c:"";return Vd(a)?a:c}function W(a,c){c=h(c)?c:0;return zb(a)?a:c}function od(a,c){c=h(c)?c:0;return h(a)&&
    "boolean"===typeof a?a?1:0:c}function X(a,c){c=h(c)?c:[];return Tc(a)?a:c}function $a(a){var c=d.repeatsNever;a=W(a);1===a?c=d.repeatsEveryDayText:2===a?c=d.repeatsEveryWeekText:3===a?c=d.repeatsEveryMonthText:4===a&&(c=d.repeatsEveryYearText);return c}function Xd(a){return a.charAt(0).toUpperCase()+a.slice(1)}function Xc(a,c){var b=u(c);"boolean"===typeof c?b=c?d.yesText:d.noText:"object"===typeof c&&c instanceof Date?b=Kb(c):"object"===typeof c&&c instanceof Array?b="repeatEveryExcludeDays"===a?
    Wd(c):X(c).join(","):"number"===typeof c&&(b="repeatEvery"===a?$a(c):c.toString());return b}function Yc(a){var c=[];c.push(a.getFullYear());c.push(a.getMonth());c.push(a.getDate());c.push("T");c.push(a.getHours());c.push(a.getMinutes());c.push("00");c.push("Z");return c.join("")}function Wd(a){var c=[];if(Tc(a))for(var b=a.length,e=0;e<b;e++){var f=a[e]-1;-1===f&&(f=6);c.push(d.dayNames[f])}return X(c).join(",")}function y(a){a=a.replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ");a=a.replace(/"/g,
    '""');return'"'+a+'"'}function Ec(){var a=new Date(t);a.setMonth(a.getMonth()-1);G(a);ta("onPreviousMonth")}function Gc(){var a=new Date(t);a.setMonth(a.getMonth()+1);G(a);ta("onNextMonth")}function yd(){var a=new Date(t);a.setFullYear(a.getFullYear()-1);G(a);ta("onPreviousYear")}function zd(){var a=new Date(t);a.setFullYear(a.getFullYear()+1);G(a);ta("onNextYear")}function Fc(){var a=new Date;if(t.getMonth()!==a.getMonth()||t.getFullYear()!==a.getFullYear())G(),ta("onToday")}function Yd(a){h(a)&&
    "object"===typeof a||(a={});return a}function ta(a){if(null!==d&&Vc(d[a]))d[a]()}function Lb(a,c){if(null!==d&&Vc(d[a]))d[a](c)}var d={},Eb=this,t=null,wc=null,Wc={},fb={},q=null,Ga=null,$c=null,Nb=!1,vd=!1,L={},Jb=null,x=null,td=null,Wa=!1,Zc=!1,A=null,C=null,pb=null,N=null,ec=null,Va=null,Ca=null,R=null,va=null,ea=null,Ob=null,M=null,S=null,H=null,T=null,gb=null,wa=null,ib=null,hb=null,xa=null,Qb=null,Rb=null,Sb=null,Tb=null,Oa=null,jb=null,F={},Pa=null,Qa=null,ha=null,Ra=null,Sa=null,Ta=null,ia=
    null,Ub=null,Vb=null,Wb=null,Xb=null,Yb=null,Zb=null,$b=null,ya=null,Ia=null,xb=null,ba=null,Ja=null,yb=null,Y=null,Nc=[],Za=null,Da=null,oa=null,Ab=null,Ea=null,Bb=null,La=null,Z=null,ab=null,Fa=null,Db=null,bb={},Pc={},Cb=[],pa=null,ja=null,yc=null,zc=null,ac=null,Ac=null,kb=null,lb=null,ka=null,Bc=null,cd=null,dd=null,ed=null,fd=null,db=null,w=null,Cc=null,bc=null,mb=null,nb=null,ob=null,sa=null,J=null,sc=null,O=null,qa=null,Fb=null,z=null,la=null,K=null,V=null,id=null,jd=null,kd=null,ld=null,
    Ua=null,Aa=null,Ib=!1,Rd=!1,Pd=0,Qd=0,ca=[],ra=0;this.turnOnFullScreen=function(){sd()};this.turnOffFullScreen=function(){rd()};this.startTheAutoRefreshTimer=function(){Dd()};this.stopTheAutoRefreshTimer=function(){Cd()};this.moveToPreviousMonth=function(){Ec()};this.moveToNextMonth=function(){Gc()};this.moveToPreviousYear=function(){yd()};this.moveToNextYear=function(){zd()};this.moveToToday=function(){Fc()};this.getCurrentDisplayDate=function(){return new Date(t)};this.setCurrentDisplayDate=function(a){G(new Date(a));
    ta("onSetDate")};this.exportAllEvents=function(a){d.exportEventsEnabled&&(a=h(a)?a:"csv",eb(null,a))};this.refresh=function(){sb()};this.setEvents=function(a,c,b){b=h(b)?b:!0;L={};this.addEvents(a,c,!1);b&&Lb("onEventsSet",a)};this.addEvents=function(a,c,b){c=h(c)?c:!0;b=h(b)?b:!0;for(var e=a.length,f=0;f<e;f++)this.addEvent(a[f],!1,!1);b&&Lb("onEventAdded",a);c&&da()};this.addEvent=function(a,c,b){var e=!1;if(a.from<=a.to){var f=a.from;f=f.getFullYear()+"-"+f.getMonth()+"-"+f.getDate();var k=Ud();
    L.hasOwnProperty(f)||(L[f]={});L[f].hasOwnProperty(k)||(c=h(c)?c:!0,b=h(b)?b:!0,h(a.id)?k=a.id:a.id=k,h(a.created)||(a.created=new Date),L[f][k]=nd(a),e=!0,b&&Lb("onEventAdded",a),c&&da())}return e};this.updateEvent=function(a,c,b,e){if(a=this.removeEvent(a,!1,!1))b=h(b)?b:!0,e=h(e)?e:!0,c.id=Ud(),(a=this.addEvent(c,b,!1))&&e&&Lb("onEventUpdated",c);return a};this.removeEvent=function(a,c,b){var e=!1;rb(function(f,k,l){if(l===a)return c=h(c)?c:!0,b=h(b)?b:!0,delete L[k][l],e=!0,b&&Lb("onEventRemoved",
    f),c&&da(),!0});return e};this.clearEvents=function(a){a=h(a)?a:!0;L={};ta("onEventsCleared");a&&da()};this.getEvents=function(){return Ba(qb())};this.getEvent=function(a){var c=null;rb(function(b,e,f){if(f===a)return c=b,!0});return c};this.setOptions=function(a){a=Yd(a);for(var c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);Nb&&(Nb=!1,G(t,!0))};(function(a,c){q=a;Ga=c;$c=Zd;d=Yd($d);h(d.previousMonthTooltipText)||(d.previousMonthTooltipText="Previous Month");h(d.nextMonthTooltipText)||(d.nextMonthTooltipText=
    "Next Month");h(d.previousDayTooltipText)||(d.previousDayTooltipText="Previous Day");h(d.nextDayTooltipText)||(d.nextDayTooltipText="Next Day");h(d.previousWeekTooltipText)||(d.previousWeekTooltipText="Previous Week");h(d.nextWeekTooltipText)||(d.nextWeekTooltipText="Next Week");h(d.addEventTooltipText)||(d.addEventTooltipText="Add Event");h(d.closeTooltipText)||(d.closeTooltipText="Close");h(d.exportEventsTooltipText)||(d.exportEventsTooltipText="Export Events");h(d.todayTooltipText)||(d.todayTooltipText=
    "Today");h(d.refreshTooltipText)||(d.refreshTooltipText="Refresh");h(d.searchTooltipText)||(d.searchTooltipText="Search");h(d.expandDayTooltipText)||(d.expandDayTooltipText="Expand Day");h(d.listAllEventsTooltipText)||(d.listAllEventsTooltipText="View All Events");h(d.listWeekEventsTooltipText)||(d.listWeekEventsTooltipText="View Current Week Events");h(d.dayHeaderNames)||(d.dayHeaderNames="Mon Tue Wed Thu Fri Sat Sun".split(" "));h(d.dayNames)||(d.dayNames="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "));
    h(d.fromText)||(d.fromText="From:");h(d.toText)||(d.toText="To:");h(d.isAllDayText)||(d.isAllDayText="Is All-Day");h(d.titleText)||(d.titleText="Title:");h(d.descriptionText)||(d.descriptionText="Description:");h(d.locationText)||(d.locationText="Location:");h(d.addText)||(d.addText="Add");h(d.updateText)||(d.updateText="Update");h(d.cancelText)||(d.cancelText="Cancel");h(d.removeEventText)||(d.removeEventText="Remove");h(d.addEventTitle)||(d.addEventTitle="Add Event");h(d.editEventTitle)||(d.editEventTitle=
    "Edit Event");h(d.monthNames)||(d.monthNames="January February March April May June July August September October November December".split(" "));h(d.showDayNumberOrdinals)||(d.showDayNumberOrdinals=!0);h(d.dragAndDropForEventsEnabled)||(d.dragAndDropForEventsEnabled=!0);h(d.exportStartFilename)||(d.exportStartFilename="exported_events_");h(d.fromTimeErrorMessage)||(d.fromTimeErrorMessage="Please select a valid 'From' time.");h(d.toTimeErrorMessage)||(d.toTimeErrorMessage="Please select a valid 'To' time.");
    h(d.toSmallerThanFromErrorMessage)||(d.toSmallerThanFromErrorMessage="Please select a 'To' date that is larger than the 'From' date.");h(d.titleErrorMessage)||(d.titleErrorMessage="Please enter a value in the 'Title' field (no empty space).");h(d.stText)||(d.stText="st");h(d.ndText)||(d.ndText="nd");h(d.rdText)||(d.rdText="rd");h(d.thText)||(d.thText="th");h(d.maximumEventsPerDayDisplay)||(d.maximumEventsPerDayDisplay=3);h(d.yesText)||(d.yesText="Yes");h(d.noText)||(d.noText="No");h(d.extraSelectableYearsAhead)||
    (d.extraSelectableYearsAhead=51);h(d.allDayText)||(d.allDayText="All-Day");h(d.allEventsText)||(d.allEventsText="All Events");h(d.exportEventsEnabled)||(d.exportEventsEnabled=!0);h(d.manualEditingEnabled)||(d.manualEditingEnabled=!0);h(d.showTimesInMainCalendarEvents)||(d.showTimesInMainCalendarEvents=!1);h(d.startsOnText)||(d.startsOnText="Starts on the");h(d.andFinishesOnText)||(d.andFinishesOnText="and finishes on the");h(d.toTimeText)||(d.toTimeText="to");h(d.autoRefreshTimerDelay)||(d.autoRefreshTimerDelay=
    3E4);h(d.confirmEventRemoveTitle)||(d.confirmEventRemoveTitle="Confirm Event Removal");h(d.confirmEventRemoveMessage)||(d.confirmEventRemoveMessage="Removing this event cannot be undone.  Do you want to continue?");h(d.okText)||(d.okText="OK");h(d.selectExportTypeTitle)||(d.selectExportTypeTitle="Select Export Type");h(d.fullScreenModeEnabled)||(d.fullScreenModeEnabled=!0);h(d.eventTooltipDelay)||(d.eventTooltipDelay=1E3);h(d.selectColorsText)||(d.selectColorsText="Select Colors");h(d.backgroundColorText)||
    (d.backgroundColorText="Background Color:");h(d.textColorText)||(d.textColorText="Text Color:");h(d.borderColorText)||(d.borderColorText="Border Color:");h(d.searchEventsTitle)||(d.searchEventsTitle="Search Events");h(d.forText)||(d.forText="For:");h(d.previousText)||(d.previousText="Previous");h(d.nextText)||(d.nextText="Next");h(d.matchCaseText)||(d.matchCaseText="Match Case");h(d.minimumDayHeight)||(d.minimumDayHeight=0);h(d.repeatsText)||(d.repeatsText="Repeats:");h(d.repeatDaysToExcludeText)||
    (d.repeatDaysToExcludeText="Repeat Days To Exclude:");h(d.daysToExcludeText)||(d.daysToExcludeText="Days To Exclude:");h(d.seriesIgnoreDatesText)||(d.seriesIgnoreDatesText="Series Ignore Dates:");h(d.repeatsNever)||(d.repeatsNever="Never");h(d.repeatsEveryDayText)||(d.repeatsEveryDayText="Every Day");h(d.repeatsEveryWeekText)||(d.repeatsEveryWeekText="Every Week");h(d.repeatsEveryMonthText)||(d.repeatsEveryMonthText="Every Month");h(d.repeatsEveryYearText)||(d.repeatsEveryYearText="Every Year");h(d.repeatOptionsTitle)||
    (d.repeatOptionsTitle="Repeat Options");h(d.moreText)||(d.moreText="More");h(d.includeText)||(d.includeText="Include:");h(d.holidays)||(d.holidays=[{day:24,month:12,title:"Christmas Eve"},{day:25,month:12,title:"Christmas Day"},{day:26,month:12,title:"Boxing Day"},{day:31,month:12,title:"New Year's Eve"},{day:1,month:1,title:"New Year's Day"}]);h(d.minimizedTooltipText)||(d.minimizedTooltipText="Minimize");h(d.restoreTooltipText)||(d.restoreTooltipText="Restore");h(d.removeAllEventsInSeriesText)||
    (d.removeAllEventsInSeriesText="Remove All Events In Series");h(d.createdText)||(d.createdText="Created:");h(d.organizerName)||(d.organizerName="");h(d.organizerEmailAddress)||(d.organizerEmailAddress="");h(d.organizerNameText)||(d.organizerNameText="Organizer:");h(d.organizerEmailAddressText)||(d.organizerEmailAddressText="Organizer Email:");h(d.enableFullScreenTooltipText)||(d.enableFullScreenTooltipText="Turn On Full-Screen Mode");h(d.disableFullScreenTooltipText)||(d.disableFullScreenTooltipText=
    "Turn Off Full-Screen Mode");h(d.idText)||(d.idText="ID:");h(d.spacing)||(d.spacing=10);h(d.expandMonthTooltipText)||(d.expandMonthTooltipText="Expand Month");h(d.repeatEndsText)||(d.repeatEndsText="Repeat Ends:");h(d.noEventsAvailableText)||(d.noEventsAvailableText="No events available");h(d.viewWeekEventsText)||(d.viewWeekEventsText="View Week Events");G(ae,!0)})(document,window)};