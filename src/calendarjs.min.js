function calendarJs(wc,xc,yc){function aa(a){n=h(a)?a:new Date;var b=(new Date(n.getFullYear(),n.getMonth(),1)).getDay();a=tb(n.getFullYear(),n.getMonth());0===b&&(b=7);ub();if(!Rb){var c=ba(Sb);c.className="calendar";c.innerHTML="";zc(c);Ac(c);Bc(c);Cc(c);var e=f("div"),g=d.dayHeaderNames.length;e.className="row header-days";c.appendChild(e);for(var k=0;k<g;k++){var l=d.dayHeaderNames[k],m=f("div");m.className="cell";m.innerHTML=l;e.appendChild(m)}for(e=0;6>e;e++)for(g=f("div"),g.className="row",
c.appendChild(g),k=0;7>k;k++)l=7*e+(k+1),m=f("div"),m.className="cell",m.id="calendar-day-"+l,g.appendChild(m),0<d.minimumDayHeight&&(m.style.height=d.minimumDayHeight+"px");Rb=!0}k=b;if(1<k)for(c=new Date(n),c.setMonth(c.getMonth()-1),e=tb(c.getFullYear(),c.getMonth()),g=1,k=e-k+1;k<e;k++)vb(k+1,g,c.getMonth(),c.getFullYear(),!0),g++;for(e=c=0;e<a;e++)c=b+e,vb(e+1,c,n.getMonth(),n.getFullYear(),!1);if(42>c)for(a=1,b=new Date(n),b.setMonth(b.getMonth()+1),c+=1;43>c;c++)vb(a,c,b.getMonth(),b.getFullYear(),
!0),a++;ca();null===M&&(M=f("div"),M.className="disabled-background");null===da&&(da=f("div"),da.className="calendar-dialog event-editor",q.body.appendChild(da),b=f("div"),b.className="view",da.appendChild(b),ea=f("div"),ea.className="disabled-area",b.appendChild(ea),Ca=f("div"),Ca.className="title-bar",b.appendChild(Ca),a=f("div"),a.className="contents",b.appendChild(a),b=f("p"),b.innerText=d.titleText,a.appendChild(b),b=f("div"),b.className="input-title-container",a.appendChild(b),R=f("input"),
R.type="text",b.appendChild(R),qa=f("input"),qa.className="select-colors",qa.type="button",qa.value="...",qa.onclick=Dc,b.appendChild(qa),b=f("p"),b.innerText=d.fromText,a.appendChild(b),b=f("div"),b.className="split",a.appendChild(b),H=f("input"),H.onchange=wb,b.appendChild(H),fa(H,"date"),I=f("input"),b.appendChild(I),fa(I,"time"),Da=Tb(a,d.isAllDayEventText,wb),b=f("p"),b.innerText=d.toText,a.appendChild(b),b=f("div"),b.className="split",a.appendChild(b),B=f("input"),b.appendChild(B),fa(B,"date"),
J=f("input"),b.appendChild(J),fa(J,"time"),b=f("p"),b.innerText=d.locationText,a.appendChild(b),ra=f("input"),ra.type="text",a.appendChild(ra),b=f("p"),b.innerText=d.descriptionText,a.appendChild(b),sa=f("textarea"),sa.className="custom-scroll-bars",a.appendChild(sa),ta=f("p"),ta.className="error",a.appendChild(ta),b=f("div"),b.className="split",a.appendChild(b),S=f("input"),S.className="ok",S.type="button",S.value=d.addText,S.onclick=Ec,b.appendChild(S),c=f("input"),c.className="cancel",c.type="button",
c.value=d.cancelText,c.onclick=xb,b.appendChild(c),T=f("input"),T.className="remove",T.type="button",T.value=d.removeEventText,T.onclick=Fc,a.appendChild(T));null===U&&(U=f("div"),U.className="calendar-dialog event-editor-colors",q.body.appendChild(U),a=f("div"),a.className="title-bar",a.innerHTML=d.selectColorsText,U.appendChild(a),a=f("div"),a.className="contents",U.appendChild(a),b=f("p"),b.innerText=d.backgroundColorText,a.appendChild(b),ua=f("input"),a.appendChild(ua),fa(ua,"color"),b=f("p"),
b.innerText=d.textColorText,a.appendChild(b),va=f("input"),a.appendChild(va),fa(va,"color"),b=f("p"),b.innerText=d.borderColorText,a.appendChild(b),wa=f("input"),a.appendChild(wa),fa(wa,"color"),b=f("div"),b.className="split",a.appendChild(b),a=f("input"),a.className="ok",a.type="button",a.value=d.okText,a.onclick=Gc,b.appendChild(a),a=f("input"),a.className="cancel",a.type="button",a.value=d.cancelText,a.onclick=Ub,b.appendChild(a));null===V&&(V=f("div"),V.className="calendar-dialog confirmation",
q.body.appendChild(V),Va=f("div"),Va.className="title-bar",V.appendChild(Va),a=f("div"),a.className="contents",V.appendChild(a),Wa=f("div"),Wa.className="message",a.appendChild(Wa),b=f("div"),b.className="split",a.appendChild(b),ha=f("input"),ha.className="yes",ha.type="button",ha.value=d.yesText,b.appendChild(ha),ia=f("input"),ia.className="no",ia.type="button",ia.value=d.noText,b.appendChild(ia));null===W&&(W=f("div"),W.className="calendar-dialog select-export-type",q.body.appendChild(W),a=f("div"),
a.className="title-bar",a.innerHTML=d.selectExportTypeTitle,W.appendChild(a),b=f("div"),b.className="contents",W.appendChild(b),yb=Xa(b,"CSV","ExportType"),Vb=Xa(b,"XML","ExportType"),Wb=Xa(b,"JSON","ExportType"),Xb=Xa(b,"TEXT","ExportType"),a=f("div"),a.className="split",b.appendChild(a),b=f("input"),b.className="ok",b.type="button",b.value=d.okText,b.onclick=Hc,a.appendChild(b),b=f("input"),b.className="cancel",b.type="button",b.value=d.cancelText,b.onclick=Yb,a.appendChild(b));null===x&&(x=f("div"),
x.className="calendar-dialog search",q.body.appendChild(x),a=f("div"),a.className="title-bar",a.innerHTML=d.searchEventsTitle,a.onmousedown=Ic,a.onmouseup=Jc,x.appendChild(a),b=f("div"),b.className="ib-close",b.onclick=Kc,a.appendChild(b),t(b,d.closeTooltipText),a=f("div"),a.className="contents",x.appendChild(a),b=f("p"),b.innerText=d.forText,a.appendChild(b),C=f("input"),C.type="text",C.oninput=zb,C.onpropertychange=zb,C.onkeypress=Lc,a.appendChild(C),Zb=Tb(a,d.matchCaseText),b=f("div"),b.className=
"split",a.appendChild(b),X=f("input"),X.className="previous",X.type="button",X.value=d.previousText,X.onclick=Mc,b.appendChild(X),N=f("input"),N.className="next",N.type="button",N.value=d.nextText,N.onclick=$b,b.appendChild(N),q.body.addEventListener("mousemove",Nc));null===u&&(u=f("div"),q.body.appendChild(u),Ya=f("div"),Ya.className="title",Ea=f("div"),Ea.className="date",xa=f("div"),xa.className="description",ya=f("div"),ya.className="location",document.body.addEventListener("mousemove",Ab));Oc();
Fa.innerHTML=d.monthNames[n.getMonth()]+", "+n.getFullYear()+" \u25be"}function Za(){var a=[];$a(function(b){a.push(b)});return a}function $a(a){for(var b in D)if(D.hasOwnProperty(b))for(var c in D[b])if(D[b].hasOwnProperty(c)&&a(ac(D[b][c]),b,c))return}function Ga(a){return a.sort(function(b,c){return b.from-c.from})}function Cc(a){w=f("div");w.className="header-date";a.appendChild(w);d.fullScreenModeEnabled&&(w.ondblclick=function(){ab(a)});var b=f("div");b.className="ib-arrow-left-full";b.onclick=
bc;b.ondblclick=r;w.appendChild(b);t(b,d.previousMonthTooltipText);b=f("div");b.className="ib-pin";b.onclick=cc;b.ondblclick=r;w.appendChild(b);t(b,d.todayTooltipText);b=f("div");b.className="ib-refresh";b.onclick=Bb;b.ondblclick=r;w.appendChild(b);t(b,d.refreshTooltipText);b=f("div");b.className="ib-search";b.onclick=Pc;b.ondblclick=r;w.appendChild(b);t(b,d.searchTooltipText);b=f("div");b.className="ib-arrow-right-full";b.onclick=dc;b.ondblclick=r;w.appendChild(b);t(b,d.nextMonthTooltipText);d.manualEditingEnabled&&
(b=f("div"),b.className="ib-plus",b.onclick=bb,b.ondblclick=r,w.appendChild(b),t(b,d.addEventTooltipText));d.exportEventsEnabled&&(ja=f("div"),ja.className="ib-arrow-down-full-line",ja.ondblclick=r,w.appendChild(ja),t(ja,d.exportEventsTooltipText),ja.onclick=function(){cb()});b=f("div");b.className="ib-eye";b.onclick=ec;b.ondblclick=r;w.appendChild(b);t(b,d.listAllEventsTooltipText);b=f("div");b.className="ib-hamburger";b.ondblclick=r;w.appendChild(b);b.onclick=function(){Cb()};t(b,d.listWeekEventsTooltipText);
b=f("div");b.className="title-container";w.appendChild(b);Fa=f("span");Fa.ondblclick=r;b.appendChild(Fa);Qc(b)}function Qc(a){if(null===y){var b=new Date(1900,1,1),c=(new Date).getFullYear()-b.getFullYear()+d.extraSelectableYearsAhead;y=f("div");y.className="years-drop-down";a.appendChild(y);Ha=f("div");Ha.className="contents custom-scroll-bars";y.appendChild(Ha);for(a=0;a<c;a++)Rc(b.getFullYear()),b.setFullYear(b.getFullYear()+1);Fa.onclick=Sc;q.body.addEventListener("click",db);q.body.addEventListener("contextmenu",
db);eb.addEventListener("resize",db)}}function Rc(a){var b=f("div");b.innerText=a.toString();b.id="year-selected-"+a.toString();Ha.appendChild(b);b.onclick=function(){n.setFullYear(a);aa(n);ub()}}function ac(a){a.isAllDayEvent&&(a.from=new Date(a.from.getFullYear(),a.from.getMonth(),a.from.getDate(),0,0),a.to=new Date(a.from.getFullYear(),a.from.getMonth(),a.from.getDate(),23,59));return a}function Ia(a,b){var c=new Date(a.getFullYear(),a.getMonth(),a.getDate()),e=new Date(b.getFullYear(),b.getMonth(),
b.getDate());return Math.ceil(Math.abs(e-c)/864E5)}function Sc(a){if("block"!==y.style.display){r(a);a=y.getElementsByClassName("current-year-selected");if(null!==a&&1<=a.length)for(var b=a.length,c=0;c<b;c++)a[c].removeAttribute("class");a=ba("year-selected-"+n.getFullYear());null!==a&&(a.className="current-year-selected");y.style.display="block";Ha.scrollTop=a.offsetTop-y.offsetHeight/2}}function ub(){Db()&&(y.style.display="none")}function Db(){return null!==y&&"block"===y.style.display}function Ja(a){if(null!==
d&&Eb(d[a]))d[a]()}function fb(a,b){if(null!==d&&Eb(d[a]))d[a](b)}function fc(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var c=Math.floor(16*Math.random()).toString(16);a.push(c)}return a.join("")}function ab(a){0>=a.className.indexOf(" full-screen-view")?(a.className+=" full-screen-view",gc=a.style.cssText,a.removeAttribute("style")):(a.className=a.className.replace(" full-screen-view",""),a.style.cssText=gc)}function db(){Fb()&&(E.style.display="none");ub();Ab()}function ca(){for(var a=
0;6>a;a++)for(var b=0;7>b;b++)for(var c=ba("calendar-day-"+(7*a+(b+1))).getElementsByClassName(d.manualEditingEnabled?"event":"event-no-hover");c[0];)c[0].parentNode.removeChild(c[0]);null!==Ka&&0<d.autoRefreshTimerDelay&&(clearTimeout(Ka),Ka=null);a=Ga(Za());b=a.length;for(c=0;c<b;c++){var e=a[c];if(null!==Gb(e.from)&&(hc(e.from,e),e.from.getDate()!==e.to.getDate())){var g=Ia(e.from,e.to);if(0<g)for(var k=new Date(e.from),l=0;l<g;l++)k.setDate(k.getDate()+1),null!==Gb(k)&&hc(k,e)}}d.exportEventsEnabled&&
(ja.style.display=0===b?"none":"inline-block");Tc()}function hc(a,b){var c=Gb(a);if(null!==c&&c.getElementsByClassName(d.manualEditingEnabled?"event":"event-no-hover").length<d.maximumEventsPerDayDisplay){var e=f("div"),g=b.title;d.showTimesInMainCalendarEvents&&!b.isAllDayEvent&&b.from.getDate()===b.to.getDate()&&(g=La(b.from,b.to)+": "+g);e.className=d.manualEditingEnabled?"event":"event-no-hover";e.innerHTML=g;c.appendChild(e);e.onmousemove=function(k){ic(k,b)};gb(b,e);d.manualEditingEnabled&&
(e.onclick=function(){ka(b)});d.dragAndDropForEventsEnabled&&d.manualEditingEnabled&&(e.setAttribute("draggable",!0),e.ondragstart=function(){v=b})}}function Gb(a){var b=new Date(n.getFullYear(),n.getMonth(),1),c=new Date(n),e=new Date(n),g=null,k=0;c.setMonth(c.getMonth()+1);e.setMonth(e.getMonth()-1);a.getMonth()===c.getMonth()&&a.getFullYear()===c.getFullYear()?(b=b.getDay()+tb(n.getFullYear(),n.getMonth()),k=a.getDate()+b-1):a.getMonth()===e.getMonth()&&a.getFullYear()===e.getFullYear()?k=b.getDay()-
Ia(a,n):a.getMonth()===n.getMonth()&&a.getFullYear()===n.getFullYear()&&(b=b.getDay(),k=a.getDate()+b-1);0<k&&(g=ba("calendar-day-"+k));return g}function gb(a,b){a.to<new Date&&(b.className+=" expired");F(a.color)?(b.style.backgroundColor=a.color,F(a.colorText)&&(b.style.color=a.colorText),F(a.colorBorder)&&(b.style.borderLeftColor=a.colorBorder)):a.isAllDayEvent&&(b.className+=" all-day-event")}function Bc(a){if(null===O){O=f("div");O.className="full-day-view";a.appendChild(O);var b=f("div");b.className=
"title-bar";O.appendChild(b);d.fullScreenModeEnabled&&(b.ondblclick=function(){ab(a)});Ma=f("div");Ma.className="title";b.appendChild(Ma);var c=f("div");c.className="ib-close";c.ondblclick=r;b.appendChild(c);t(c,d.closeTooltipText);c.onclick=function(){Hb(O);hb=null};d.manualEditingEnabled&&(c=f("div"),c.className="ib-plus",c.onclick=bb,c.ondblclick=r,b.appendChild(c),t(c,d.addEventTooltipText));d.exportEventsEnabled&&(la=f("div"),la.className="ib-arrow-down-full-line",la.ondblclick=r,b.appendChild(la),
t(la,d.exportEventsTooltipText),la.onclick=function(){cb(Ib)});Na=f("div");Na.className="contents custom-scroll-bars";O.appendChild(Na)}}function Jb(a){Kb(O);Ma.innerText="";Na.innerHTML="";hb=a;Ib=[];ma(Ma,a,!1,!0,!0);var b=[];$a(function(g){for(var k=Ia(g.from,g.to)+1,l=new Date(g.from),m=0;m<k;m++)l.getFullYear()===a.getFullYear()&&l.getMonth()===a.getMonth()&&l.getDate()===a.getDate()&&b.push(g),l.setDate(l.getDate()+1)});b=Ga(b);for(var c=b.length,e=0;e<c;e++)Uc(b[e]);d.exportEventsEnabled&&
(la.style.display=0===b.length?"none":"inline-block")}function Uc(a){var b=f("div");b.className=d.manualEditingEnabled?"event":"event-no-hover";Na.appendChild(b);var c=f("div");c.className="title";c.innerHTML=a.title;b.appendChild(c);c=f("div");c.className="date";b.appendChild(c);a.from.getDate()===a.to.getDate()?c.innerHTML=a.isAllDayEvent?d.allDayEventText:La(a.from,a.to):ib(c,a.from,a.to);gb(a,b);F(a.location)&&(c=f("div"),c.className="location",c.innerHTML=a.location,b.appendChild(c));F(a.description)&&
(c=f("div"),c.className="description",c.innerHTML=a.description,b.appendChild(c));d.manualEditingEnabled&&(b.onclick=function(){ka(a)});Ib.push(a)}function zc(a){if(null===P){P=f("div");P.className="list-all-events-view";a.appendChild(P);var b=f("div");b.className="title-bar";P.appendChild(b);d.fullScreenModeEnabled&&(b.ondblclick=function(){ab(a)});var c=f("div");c.className="title";c.innerHTML=d.allEventsText;b.appendChild(c);c=f("div");c.className="ib-close";c.ondblclick=r;b.appendChild(c);t(c,
d.closeTooltipText);c.onclick=function(){Hb(P)};d.manualEditingEnabled&&(c=f("div"),c.className="ib-plus",c.onclick=bb,c.ondblclick=r,b.appendChild(c),t(c,d.addEventTooltipText));d.exportEventsEnabled&&(za=f("div"),za.className="ib-arrow-down-full-line",za.ondblclick=r,b.appendChild(za),t(za,d.exportEventsTooltipText),za.onclick=function(){cb()});Oa=f("div");Oa.className="contents custom-scroll-bars";P.appendChild(Oa)}}function ec(){Kb(P);Oa.innerHTML="";for(var a=Ga(Za()),b=a.length,c=0;c<b;c++){var e=
a[c],g=e.from,k="month-"+g.getMonth()+"-"+g.getFullYear(),l=ba(k);if(null===l){var m=f("div");m.className="month";Oa.appendChild(m);l=f("div");l.className="header";l.innerHTML=d.monthNames[g.getMonth()]+" "+g.getFullYear();m.appendChild(l);l=f("div");l.id=k;l.className="events";m.appendChild(l)}Vc(e,l)}}function Vc(a,b){var c=f("div");c.className=d.manualEditingEnabled?"event":"event-no-hover";b.appendChild(c);var e=f("div");e.className="title";e.innerHTML=a.title;c.appendChild(e);e=f("div");e.className=
"date";c.appendChild(e);a.from.getDate()===a.to.getDate()?a.isAllDayEvent?jb(e,a.from,null," - "+d.allDayEventText):jb(e,a.from,null," - "+La(a.from,a.to)):ib(e,a.from,a.to);gb(a,c);F(a.location)&&(e=f("div"),e.className="location",e.innerHTML=a.location,c.appendChild(e));F(a.description)&&(e=f("div"),e.className="description",e.innerHTML=a.description,c.appendChild(e));d.manualEditingEnabled&&(c.onclick=function(){ka(a)})}function Ac(a){if(null===Q){Q=f("div");Q.className="list-all-week-events-view";
a.appendChild(Q);var b=f("div");b.className="title-bar";Q.appendChild(b);d.fullScreenModeEnabled&&(b.ondblclick=function(){ab(a)});G=f("div");G.className="title";b.appendChild(G);var c=f("div");c.className="ib-close";c.ondblclick=r;b.appendChild(c);t(c,d.closeTooltipText);c.onclick=function(){Hb(Q)};d.manualEditingEnabled&&(c=f("div"),c.className="ib-plus",c.onclick=bb,c.ondblclick=r,b.appendChild(c),t(c,d.addEventTooltipText));d.exportEventsEnabled&&(na=f("div"),na.className="ib-arrow-down-full-line",
na.ondblclick=r,b.appendChild(na),t(na,d.exportEventsTooltipText),na.onclick=function(){cb(kb)});Pa=f("div");Pa.className="contents custom-scroll-bars";Q.appendChild(Pa)}}function Cb(a){Kb(Q);Pa.innerHTML="";kb=[];jc=a;a=h(a)?a:new Date;var b=0===a.getDay()?7:a.getDay();b=a.getDate()-b+1;var c=b+6,e=new Date(a);a=new Date(a);e.setDate(b);e.setHours(0,0,0,0);a.setDate(c);a.setHours(23,59,59,99);b=[e,a];a=b[0];b=b[1];G.innerHTML="";a.getFullYear()===b.getFullYear()?(ma(G,a,!1,!1),c=f("span"),c.innerHTML=
" - ",G.appendChild(c),ma(G,b,!1,!1),c=f("span"),c.innerHTML=", "+a.getFullYear(),G.appendChild(c)):(ma(G,a,!1,!0),c=f("span"),c.innerHTML=" - ",G.appendChild(c),ma(G,b,!1,!0));c=Ga(Za());e=c.length;for(var g=0;g<e;g++){for(var k=c[g],l=Ia(k.from,k.to)+1,m=new Date(k.from),p=!1,lb=0;lb<l;lb++){if(m>=a&&m<=b){p=m;var Aa=kc(p),lc="day-"+Aa,K=ba(lc);if(null===K){var mb=f("div");mb.className="day";Pa.appendChild(mb);K=f("div");K.className="header";mb.appendChild(K);jb(K,p,d.dayNames[Aa]+", ");K=f("div");
K.id=lc;K.className="events";mb.appendChild(K)}Wc(k,K);p=!0}m.setDate(m.getDate()+1)}p&&kb.push(k)}d.exportEventsEnabled&&(na.style.display=0===kb.length?"none":"inline-block")}function Wc(a,b){var c=f("div");c.className=d.manualEditingEnabled?"event":"event-no-hover";b.appendChild(c);var e=f("div");e.className="title";e.innerHTML=a.title;c.appendChild(e);e=f("div");e.className="date";c.appendChild(e);a.from.getDate()===a.to.getDate()?e.innerHTML=a.isAllDayEvent?d.allDayEventText:La(a.from,a.to):
ib(e,a.from,a.to);gb(a,c);F(a.location)&&(e=f("div"),e.className="location",e.innerHTML=a.location,c.appendChild(e));F(a.description)&&(e=f("div"),e.className="description",e.innerHTML=a.description,c.appendChild(e));d.manualEditingEnabled&&(c.onclick=function(){ka(a)})}function kc(a){return 0>a.getDay()-1?6:a.getDay()-1}function La(a,b){return Lb(a)+" "+d.toTimeText+" "+Lb(b)}function Lb(a){return z(a.getHours())+":"+z(a.getMinutes())}function ib(a,b,c){a.innerHTML="";var e=f("span");e.innerText=
d.startsOnText+" ";a.appendChild(e);ma(a,b);b=f("span");b.innerText=" "+d.andFinishesOnText+" ";a.appendChild(b);ma(a,c)}function ma(a,b,c,e,g){c=h(c)?c:!0;e=h(e)?e:!0;if(g=h(g)?g:!1){g=kc(b);var k=f("span");k.innerText=d.dayNames[g]+", ";a.appendChild(k)}jb(a,b);g=f("span");g.innerText=" "+d.monthNames[b.getMonth()];a.appendChild(g);e&&(e=f("span"),e.innerText=" "+b.getFullYear(),a.appendChild(e));c&&(c=f("span"),c.innerText=" "+Lb(b),a.appendChild(c))}function jb(a,b,c,e){if(h(c)){var g=f("span");
g.innerText=c;a.appendChild(g)}c=f("span");c.innerText=b.getDate();a.appendChild(c);d.showDayNumberOrdinals&&(c=f("sup"),c.innerText=mc(b.getDate()),a.appendChild(c));h(e)&&(b=f("span"),b.innerText=e,a.appendChild(b))}function vb(a,b,c,e,g){var k=new Date;k=a===k.getDate()&&e===k.getFullYear()&&c===k.getMonth();b=ba("calendar-day-"+b);var l=f("span"),m=new Date(e,c,a);b.innerHTML="";l.className=g?"day-muted":"";l.className+=k?" today":"";l.innerText=a;if(6===m.getDay()||0===m.getDay())b.className+=
" weekend-day";b.oncontextmenu=function(p){nb=m;db();r(p);nc(p,E)};d.showDayNumberOrdinals&&(g=f("sup"),g.innerText=mc(a),l.appendChild(g));b.appendChild(l);d.fullDayViewEnabled&&(g=f("div"),g.className="expand-day",b.appendChild(g),t(g,d.expandDayTooltipText),g.onclick=function(){Jb(m)});d.manualEditingEnabled&&(b.ondblclick=function(){ka(null,m)},d.manualEditingEnabled&&(b.ondragover=function(p){r(p)},b.ondrop=function(p){r(p);if(null!==v){p=Ia(v.from,v.to);var lb=new Date(e,c,a,v.from.getHours(),
v.from.getMinutes()),Aa=new Date(e,c,a,v.to.getHours(),v.to.getMinutes());0<p&&Aa.setDate(Aa.getDate()+p);Qa.updateEvent(v.id,{from:lb,to:Aa,title:v.title,description:v.description,location:v.location,isAllDayEvent:v.isAllDayEvent,color:v.color,colorText:v.colorText,colorBorder:v.colorBorder})}}))}function tb(a,b){return(new Date(a,b+1,0)).getDate()}function mc(a){var b=d.thText;if(31===a||21===a||1===a)b=d.stText;else if(22===a||2===a)b=d.ndText;else if(23===a||3===a)b=d.rdText;return b}function Oc(){E=
f("div");E.className="calendar-drop-down-menu";q.body.appendChild(E);var a=f("div");a.className="item";a.innerHTML=d.addEventTitle;E.appendChild(a);a.onclick=function(){ka(null,nb)};a=f("div");a.className="separator";E.appendChild(a);a=f("div");a.className="item";a.innerHTML=d.expandDayTooltipText;E.appendChild(a);a.onclick=function(){Jb(nb)};a=f("div");a.className="separator";E.appendChild(a);a=f("div");a.className="item";a.innerHTML=d.listWeekEventsTooltipText;E.appendChild(a);a.onclick=function(){Cb(nb)}}
function Fb(){return"block"===E.style.display}function fa(a,b){try{a.type=b}catch(c){a.type="text"}}function bb(){ka(null,hb)}function wb(){var a=!1;Da.checked&&(B.value=H.value,I.value="00:00",J.value="23:59",a=!0);B.disabled=a;I.disabled=a;J.disabled=a}function ka(a,b){ob(q.body,M);da.style.display="block";ta.style.display="none";R.focus();if(h(a))S.value=d.updateText,T.style.display="block",Ca.innerHTML=d.editEventTitle,A=a,H.value=pb(a.from,H.type),I.value=qb(a.from),B.value=pb(a.to,B.type),J.value=
qb(a.to),Da.checked=a.isAllDayEvent,R.value=L(a.title),sa.value=L(a.description),ra.value=L(a.location),ua.value=L(a.color,"#484848"),va.value=L(a.colorText,"#F5F5F5"),wa.value=L(a.colorBorder,"#282828");else{var c=new Date,e=h(b)?b:c,g=new Date;e.getDate()===g.getDate()&&e.getFullYear()===g.getFullYear()&&e.getMonth()===g.getMonth()&&(e.setHours(c.getHours()),e.setMinutes(c.getMinutes()));S.value=d.addText;T.style.display="none";Ca.innerHTML=d.addEventTitle;A={};H.value=pb(e,H.type);I.value=qb(e);
B.value=pb(e,B.type);J.value=qb(e);Da.checked=!1;R.value="";sa.value="";ra.value="";ua.value="#484848";va.value="#F5F5F5";wa.value="#282828"}wb()}function Ec(){var a=oc(H),b=oc(B),c=I.value.split(":"),e=J.value.split(":"),g=Mb(R.value),k=Mb(sa.value),l=Mb(ra.value);2>c.length?rb(d.fromTimeErrorMessage,I):2>e.length?rb(d.toTimeErrorMessage,J):b<a?rb(d.toSmallerThanFromErrorMessage,B):""===g?rb(d.titleErrorMessage,R):(xb(),pc(a,I.value),pc(b,J.value),a={from:a,to:b,title:g,description:k,location:l,
isAllDayEvent:Da.checked,color:A.color,colorText:A.colorText,colorBorder:A.colorBorder},h(A.id)?Qa.updateEvent(A.id,a,!1):Qa.addEvent(a,!1),ca(),Nb())}function pc(a,b){var c=0,e=0,g=b.split(":");if(2===g.length){var k=parseInt(g[0]);g=parseInt(g[1]);!isNaN(k)&&2>=k.toString().length&&(c=k);!isNaN(g)&&2>=g.toString().length&&(e=g)}a.setHours(c);a.setMinutes(e)}function oc(a){var b=new Date;if("date"===a.type)b=new Date(a.value);else if(a=a.value.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/))a=new Date(a[3],
a[2]-1,a[1]),a instanceof Date&&!isNaN(a)&&(b=a);return b}function xb(){da.style.display="none";sb(q.body,M)}function Fc(){ea.style.display="block";var a=function(){ea.style.display="none"};Xc(d.confirmEventRemoveTitle,d.confirmEventRemoveMessage,function(){a();xb();h(A.id)&&(Qa.removeEvent(A.id,!0),Nb())},a)}function pb(a,b){var c=("0"+a.getDate()).slice(-2),e=("0"+(a.getMonth()+1)).slice(-2);return"date"===b?a.getFullYear()+"-"+e+"-"+c:c+"/"+e+"/"+a.getFullYear()}function qb(a){return z(a.getHours())+
":"+z(a.getMinutes())}function z(a){a=a.toString();return 1===a.length?"0"+a:a}function rb(a,b){ta.innerHTML=a;ta.style.display="block";b.focus()}function Mb(a){return a.replace(/^\s+|\s+$/g,"")}function Nb(){Ra(O)&&Jb(hb);Ra(P)&&ec();Ra(Q)&&Cb(jc)}function Gc(){Ub();A.color=ua.value;A.colorText=va.value;A.colorBorder=wa.value}function Ub(){U.style.display="none";ea.style.display="none"}function Dc(){U.style.display="block";ea.style.display="block"}function Xc(a,b,c,e){V.style.display="block";Va.innerHTML=
a;Wa.innerHTML=b;ha.onclick=qc;ia.onclick=qc;ha.addEventListener("click",c);Eb(e)&&ia.addEventListener("click",e)}function qc(){V.style.display="none"}function cb(a){ob(q.body,M);W.style.display="block";Sa=a;yb.checked=!0}function Yb(){sb(q.body,M);W.style.display="none"}function Hc(){Yb();yb.checked?Ta(Sa,"csv"):Vb.checked?Ta(Sa,"xml"):Wb.checked?Ta(Sa,"json"):Xb.checked&&Ta(Sa,"text")}function Ic(a){Ua||(Ua=!0,rc=a.pageX-x.offsetLeft,sc=a.pageY-x.offsetTop)}function Nc(a){Ua&&(x.style.left=a.pageX-
rc+"px",x.style.top=a.pageY-sc+"px")}function Jc(){Ua&&(Ua=!1)}function zb(){X.disabled=!0;N.disabled=""===C.value;oa=[];Y=0}function Pc(){oa=[];x.style.display="block";C.value="";C.focus();zb()}function Kc(){x.style.display="none"}function Mc(){0<Y&&(Y--,tc(),aa(oa[Y].from))}function Lc(a){13!==a.keyCode||N.disabled||$b()}function $b(){if(0===oa.length){var a=Zb.checked,b=a?C.value:C.value.toLowerCase(),c={};$a(function(e){var g=a?e.title:e.title.toLowerCase(),k=a?e.description:e.description.toLowerCase();
if(-1<g.indexOf(b)||-1<k.indexOf(b))g=e.from.getMonth()+"-"+e.from.getFullYear(),c.hasOwnProperty(g)||(oa.push(e),c[g]=!0)})}else Y++;tc();aa(oa[Y].from)}function tc(){X.disabled=0===Y;N.disabled=Y===oa.length-1}function ic(a,b,c){r(a);null!==Z&&(clearTimeout(Z),Z=null);Ab();"block"!==u.style.display&&(Z=setTimeout(function(){q.body.contains(M)||Db()||Fb()||(c=h(c)?c:"",u.className=""===c?"calendar-tooltip-event":"calendar-tooltip",""!==c?u.innerHTML=c:(u.innerHTML="",u.appendChild(Ya),u.appendChild(Ea),
Ya.innerHTML=b.title,F(b.location)?(ya.innerHTML=b.location,ob(u,ya)):(ya.innerHTML="",sb(u,ya)),F(b.description)?(xa.innerHTML=b.description,ob(u,xa)):(xa.innerHTML="",sb(u,xa)),b.from.getDate()===b.to.getDate()?Ea.innerHTML=b.isAllDayEvent?d.allDayEventText:La(b.from,b.to):ib(Ea,b.from,b.to)),nc(a,u))},d.eventTooltipDelay))}function Ab(){null!==Z&&(clearTimeout(Z),Z=null);"none"!==u.style.display&&(u.style.display="none")}function t(a,b){a.onmousemove=function(c){ic(c,null,b)}}function Tc(){null===
Ka&&0<d.autoRefreshTimerDelay&&(Ka=setInterval(function(){Bb()},d.autoRefreshTimerDelay))}function Bb(){"block"===u.style.display||null!==Z||q.body.contains(M)||Db()||Fb()||(Nb(),ca())}function Kb(a){Ra(a)||(a.className+=" overlay-shown")}function Hb(a){Ra(a)&&(a.className=a.className.replace(" overlay-shown",""))}function Ra(a){return-1<a.className.indexOf("overlay-shown")}function f(a){a=a.toLowerCase();var b="text"===a;Ob.hasOwnProperty(a)||(Ob[a]=b?q.createTextNode(""):q.createElement(a));return Ob[a].cloneNode(!1)}
function ba(a){Ba.hasOwnProperty(a)&&null!==Ba[a]||(Ba[a]=q.getElementById(a));q.body.contains(Ba[a])||(Ba[a]=q.getElementById(a));return Ba[a]}function ob(a,b){try{a.contains(b)||a.appendChild(b)}catch(c){console.warn(c.message)}}function sb(a,b){try{a.contains(b)&&a.removeChild(b)}catch(c){console.warn(c.message)}}function r(a){a.preventDefault();a.cancelBubble=!0}function nc(a,b){var c=a.pageX,e=a.pageY;b.style.display="block";c+b.offsetWidth>eb.innerWidth?c-=b.offsetWidth:c++;e+b.offsetHeight>
eb.innerHeight?e-=b.offsetHeight:e++;b.style.left=c+"px";b.style.top=e+"px"}function Xa(a,b,c){var e=f("div");a.appendChild(e);a=f("label");a.className="radioButton";a.innerText=b;e.appendChild(a);b=f("input");b.type="radio";b.name=c;a.appendChild(b);c=f("span");c.className="check-mark";a.appendChild(c);return b}function Tb(a,b,c){var e=f("div");a.appendChild(e);a=f("label");a.className="checkbox";a.innerText=b;e.appendChild(a);b=f("input");b.type="checkbox";a.appendChild(b);h(c)&&(b.onchange=c);
c=f("span");c.className="check-mark";a.appendChild(c);return b}function h(a){return void 0!==a&&null!==a&&""!==a}function Eb(a){return h(a)&&"function"===typeof a}function uc(a){return h(a)&&"string"===typeof a}function F(a){return uc(a)&&""!==a}function Ta(a,b){b=h(b)?b.toLowerCase():"csv";var c="";var e=[];e=h(a)?e.concat(a):Za();e=Ga(e);if("csv"===b){var g=[d.fromText,d.toText,d.isAllDayEventText,d.titleText,d.descriptionText,d.locationText],k=g.length;c=[];for(var l=[],m=0;m<k;m++)c.push(pa(g[m]));
l.push(c.join(","));g=e.length;for(k=0;k<g;k++){c=l;m=e[k];var p=[];p.push(pa(Pb(m.from)));p.push(pa(Pb(m.to)));p.push(pa(m.isAllDayEvent?d.yesText:d.noText));p.push(pa(L(m.title)));p.push(pa(L(m.description)));p.push(pa(L(m.location)));c.push(p.join(","))}c=l.join("\n")}else if("xml"===b){g=[];g.push('<?xml version="1.0" ?>');g.push("<Events>");k=e.length;for(c=0;c<k;c++){m=e[c];g.push("<Event>");for(l in m)m.hasOwnProperty(l)&&(p=vc(l),g.push("<"+p+">"+Qb(m[l])+"</"+p+">"));g.push("</Event>")}g.push("</Events>");
c=g.join("\n")}else if("json"===b){l=[];l.push("{");l.push('"events:": [');k=e.length;for(c=0;c<k;c++){m=e[c];l.push("{");for(g in m)m.hasOwnProperty(g)&&l.push('"'+g+'":"'+Qb(m[g])+'",');m=l[l.length-1];l[l.length-1]=m.substring(0,m.length-1);l.push("},")}l[l.length-1]="}";l.push("]");l.push("}");c=l.join("\n")}else if("text"===b){l=[];g=e.length;for(c=0;c<g;c++){m=e[c];for(k in m)m.hasOwnProperty(k)&&l.push(vc(k)+": "+Qb(m[k]));l.push("")}l.pop();c=l.join("\n")}""!==c&&(e=f("a"),g="text"===b?"plain":
b,l="text"===b?"txt":b,e.style.display="none",e.setAttribute("target","_blank"),e.setAttribute("href","data:text/"+g+";charset=utf-8,"+encodeURIComponent(c)),g=e.setAttribute,c=new Date,k=z(c.getDate())+"-"+z(c.getMonth())+"-"+c.getFullYear(),c=z(c.getHours())+"-"+z(c.getMinutes()),g.call(e,"download",d.exportStartFilename+k+"_"+c+"."+l),q.body.appendChild(e),e.click(),q.body.removeChild(e),Ja("onEventsExported"))}function Pb(a){var b=z(a.getDate())+"/"+z(a.getMonth())+"/"+a.getFullYear();a=z(a.getHours())+
":"+z(a.getMinutes());return b+" "+a}function L(a,b){b=h(b)?b:"";return uc(a)?a:b}function vc(a){return a.charAt(0).toUpperCase()+a.slice(1)}function Qb(a){var b=L(a);"boolean"===typeof a?b=a?d.yesText:d.noText:"object"===typeof a&&(b=Pb(a));return b}function pa(a){a=a.replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ");a=a.replace(/"/g,'""');return'"'+a+'"'}function bc(){var a=new Date(n);a.setMonth(a.getMonth()-1);a.setDate(1);aa(a);Ja("onPreviousMonth")}function dc(){var a=new Date(n);a.setMonth(a.getMonth()+
1);a.setDate(1);aa(a);Ja("onNextMonth")}function cc(){var a=new Date;if(n.getMonth()!==a.getMonth()||n.getFullYear()!==a.getFullYear())aa(),Ja("onToday")}var d={},Qa=this,n,Ob={},Ba={},q=null,eb=null,Sb=null,Rb=!1,D={},Ka=null,v=null,gc=null,w=null,Fa=null,y=null,Ha=null,ja=null,M=null,da=null,ea=null,Ca=null,H=null,I=null,B=null,J=null,Da=null,R=null,qa=null,sa=null,ra=null,ta=null,A={},S=null,T=null,U=null,ua=null,va=null,wa=null,O=null,Ma=null,Na=null,hb=null,Ib=[],la=null,P=null,za=null,Oa=null,
Q=null,G=null,na=null,Pa=null,kb=[],jc=null,V=null,Va=null,Wa=null,ha=null,ia=null,W=null,yb=null,Vb=null,Wb=null,Xb=null,Sa=null,u=null,Ya=null,Ea=null,xa=null,ya=null,Z=null,E=null,nb=null,x=null,C=null,Zb=null,X=null,N=null,Ua=!1,rc=0,sc=0,oa=[],Y=0;this.moveToPreviousMonth=function(){bc()};this.moveToNextMonth=function(){dc()};this.moveToToday=function(){cc()};this.exportAllEvents=function(a){d.exportEventsEnabled&&(a=h(a)?a:"csv",Ta(null,a))};this.refresh=function(){Bb()};this.addEvents=function(a,
b,c){b=h(b)?b:!0;c=h(c)?c:!0;for(var e=a.length,g=0;g<e;g++)this.addEvent(a[g],!1,!1);c&&fb("onEventAdded",a);b&&ca()};this.addEvent=function(a,b,c){var e=!1;if(a.from<=a.to){var g=a.from;g=g.getFullYear()+"-"+g.getMonth()+"-"+g.getDate();var k=fc();D.hasOwnProperty(g)||(D[g]={});D[g].hasOwnProperty(k)||(b=h(b)?b:!0,c=h(c)?c:!0,h(a.id)?k=a.id:a.id=k,D[g][k]=ac(a),e=!0,c&&fb("onEventAdded",a),b&&ca())}return e};this.updateEvent=function(a,b,c,e){if(a=this.removeEvent(a,!1,!1))c=h(c)?c:!0,e=h(e)?e:
!0,b.id=fc(),(a=this.addEvent(b,c,!1))&&e&&fb("onEventUpdated",b);return a};this.removeEvent=function(a,b,c){var e=!1;$a(function(g,k,l){if(l===a)return b=h(b)?b:!0,c=h(c)?c:!0,delete D[k][l],e=!0,c&&fb("onEventRemoved",g),b&&ca(),!0});return e};this.clearEvents=function(a){a=h(a)?a:!0;D={};Ja("onEventsCleared");a&&ca()};this.setOptions=function(a){d=null!==a&&"object"===typeof a?a:{};h(d.previousMonthTooltipText)||(d.previousMonthTooltipText="Previous Month");h(d.nextMonthTooltipText)||(d.nextMonthTooltipText=
"Next Month");h(d.addEventTooltipText)||(d.addEventTooltipText="Add Event");h(d.closeTooltipText)||(d.closeTooltipText="Close");h(d.exportEventsTooltipText)||(d.exportEventsTooltipText="Export Events");h(d.todayTooltipText)||(d.todayTooltipText="Today");h(d.refreshTooltipText)||(d.refreshTooltipText="Refresh");h(d.searchTooltipText)||(d.searchTooltipText="Search");h(d.expandDayTooltipText)||(d.expandDayTooltipText="Expand Day");h(d.listAllEventsTooltipText)||(d.listAllEventsTooltipText="View All Events");
h(d.listWeekEventsTooltipText)||(d.listWeekEventsTooltipText="View Current Week Events");h(d.dayHeaderNames)||(d.dayHeaderNames="Mo Tu We Th Fr Sa Su".split(" "));h(d.dayNames)||(d.dayNames="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "));h(d.fromText)||(d.fromText="From:");h(d.toText)||(d.toText="To:");h(d.isAllDayEventText)||(d.isAllDayEventText="Is All Day Event");h(d.titleText)||(d.titleText="Title:");h(d.descriptionText)||(d.descriptionText="Description:");h(d.locationText)||
(d.locationText="Location:");h(d.addText)||(d.addText="Add");h(d.updateText)||(d.updateText="Update");h(d.cancelText)||(d.cancelText="Cancel");h(d.removeEventText)||(d.removeEventText="Remove Event");h(d.addEventTitle)||(d.addEventTitle="Add Event");h(d.editEventTitle)||(d.editEventTitle="Edit Event");h(d.monthNames)||(d.monthNames="January February March April May June July August September October November December".split(" "));h(d.showDayNumberOrdinals)||(d.showDayNumberOrdinals=!0);h(d.dragAndDropForEventsEnabled)||
(d.dragAndDropForEventsEnabled=!0);h(d.exportStartFilename)||(d.exportStartFilename="exported_events_");h(d.fromTimeErrorMessage)||(d.fromTimeErrorMessage="Please select a valid 'From' time.");h(d.toTimeErrorMessage)||(d.toTimeErrorMessage="Please select a valid 'To' time.");h(d.toSmallerThanFromErrorMessage)||(d.toSmallerThanFromErrorMessage="Please select a 'To' date that is larger than the 'From' date.");h(d.titleErrorMessage)||(d.titleErrorMessage="Please enter a value in the 'Title' field (no empty space).");
h(d.stText)||(d.stText="st");h(d.ndText)||(d.ndText="nd");h(d.rdText)||(d.rdText="rd");h(d.thText)||(d.thText="th");h(d.fullDayViewEnabled)||(d.fullDayViewEnabled=!0);h(d.maximumEventsPerDayDisplay)||(d.maximumEventsPerDayDisplay=3);h(d.yesText)||(d.yesText="Yes");h(d.noText)||(d.noText="No");h(d.extraSelectableYearsAhead)||(d.extraSelectableYearsAhead=51);h(d.allDayEventText)||(d.allDayEventText="All Day Event");h(d.allEventsText)||(d.allEventsText="All Events");h(d.exportEventsEnabled)||(d.exportEventsEnabled=
!0);h(d.manualEditingEnabled)||(d.manualEditingEnabled=!0);h(d.showTimesInMainCalendarEvents)||(d.showTimesInMainCalendarEvents=!1);h(d.startsOnText)||(d.startsOnText="Starts on the");h(d.andFinishesOnText)||(d.andFinishesOnText="and finishes on the");h(d.toTimeText)||(d.toTimeText="to");h(d.autoRefreshTimerDelay)||(d.autoRefreshTimerDelay=5E3);h(d.confirmEventRemoveTitle)||(d.confirmEventRemoveTitle="Confirm Event Removal");h(d.confirmEventRemoveMessage)||(d.confirmEventRemoveMessage="Removing this event cannot be undone.  Do you want to continue?");
h(d.okText)||(d.okText="OK");h(d.selectExportTypeTitle)||(d.selectExportTypeTitle="Select Export Type");h(d.fullScreenModeEnabled)||(d.fullScreenModeEnabled=!0);h(d.eventTooltipDelay)||(d.eventTooltipDelay=1E3);h(d.selectColorsText)||(d.selectColorsText="Select Colors");h(d.backgroundColorText)||(d.backgroundColorText="Background Color:");h(d.textColorText)||(d.textColorText="Text Color:");h(d.borderColorText)||(d.borderColorText="Border Color:");h(d.searchEventsTitle)||(d.searchEventsTitle="Search Events");
h(d.forText)||(d.forText="For:");h(d.previousText)||(d.previousText="Previous");h(d.nextText)||(d.nextText="Next");h(d.matchCaseText)||(d.matchCaseText="Match Case");h(d.minimumDayHeight)||(d.minimumDayHeight=0)};(function(a,b){q=a;eb=b;Sb=wc;Qa.setOptions(xc);aa(yc)})(document,window)};