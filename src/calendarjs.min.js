function calendarJs(Mb,Nb,Ob){function ka(a){p=k(a)?a:new Date;var b=(new Date(p.getFullYear(),p.getMonth(),1)).getDay();a=Xa(p.getFullYear(),p.getMonth());0===b&&(b=7);Ya();if(!rb){var c=R(sb);c.className="calendar";Pb(c);Qb(c);Rb(c);Sb(c);var e=f("div"),g=d.dayHeaderNames.length;e.className="row header-days";c.appendChild(e);for(var h=0;h<g;h++){var m=d.dayHeaderNames[h],l=f("div");l.className="cell";l.innerHTML=m;e.appendChild(l)}for(e=0;6>e;e++)for(g=f("div"),g.className="row",c.appendChild(g),
h=0;7>h;h++)m=7*e+(h+1),l=f("div"),l.className="cell",l.id="calendar-day-"+m,g.appendChild(l);rb=!0}h=b;if(1<h)for(c=new Date(p),c.setMonth(c.getMonth()-1),e=Xa(c.getFullYear(),c.getMonth()),g=1,h=e-h+1;h<e;h++)Za(h+1,g,c.getMonth(),c.getFullYear(),!0),g++;for(e=c=0;e<a;e++)c=b+e,Za(e+1,c,p.getMonth(),p.getFullYear(),!1);if(42>c)for(a=1,b=new Date(p),b.setMonth(b.getMonth()+1),c+=1;43>c;c++)Za(a,c,b.getMonth(),b.getFullYear(),!0),a++;S();null===E&&(E=f("div"),E.className="disabled-background");null===
T&&(T=f("div"),T.className="calender-event-editor-dialog",r.body.appendChild(T),b=f("div"),b.className="view",T.appendChild(b),la=f("div"),la.className="disabled-area",b.appendChild(la),ma=f("div"),ma.className="title-bar",b.appendChild(ma),a=f("div"),a.className="contents",b.appendChild(a),b=f("p"),b.innerText=d.fromText,a.appendChild(b),b=f("div"),b.className="split",a.appendChild(b),z=f("input"),z.onchange=$a,b.appendChild(z),Ca(z,"date"),F=f("input"),b.appendChild(F),Ca(F,"time"),b=f("label"),
b.className="checkbox",b.innerText=d.isAllDayEventText,a.appendChild(b),K=f("input"),K.type="checkbox",K.onchange=$a,b.appendChild(K),c=f("span"),c.className="check-mark",b.appendChild(c),b=f("p"),b.innerText=d.toText,a.appendChild(b),b=f("div"),b.className="split",a.appendChild(b),A=f("input"),b.appendChild(A),Ca(A,"date"),G=f("input"),b.appendChild(G),Ca(G,"time"),b=f("p"),b.innerText=d.titleText,a.appendChild(b),U=f("input"),U.type="text",a.appendChild(U),b=f("p"),b.innerText=d.descriptionText,
a.appendChild(b),ca=f("textarea"),ca.className="custom-scroll-bars",a.appendChild(ca),da=f("p"),da.className="error",a.appendChild(da),b=f("div"),b.className="split",a.appendChild(b),L=f("input"),L.className="ok",L.type="button",L.value=d.addText,L.onclick=Tb,b.appendChild(L),c=f("input"),c.className="cancel",c.type="button",c.value=d.cancelText,c.onclick=ab,b.appendChild(c),M=f("input"),M.className="remove",M.type="button",M.value=d.removeEventText,M.onclick=Ub,a.appendChild(M));null===N&&(N=f("div"),
N.className="calender-confirmation-dialog",r.body.appendChild(N),Da=f("div"),Da.className="title-bar",N.appendChild(Da),a=f("div"),a.className="contents",N.appendChild(a),Ea=f("div"),Ea.className="message",a.appendChild(Ea),b=f("div"),b.className="split",a.appendChild(b),V=f("input"),V.className="yes",V.type="button",V.value=d.yesText,b.appendChild(V),W=f("input"),W.className="no",W.type="button",W.value=d.noText,b.appendChild(W));null===O&&(O=f("div"),O.className="calender-select-export-type-dialog",
r.body.appendChild(O),Fa=f("div"),Fa.className="title-bar",Fa.innerHTML=d.selectExportTypeTitle,O.appendChild(Fa),b=f("div"),b.className="contents",O.appendChild(b),bb=Ga(b,"CSV","ExportType"),tb=Ga(b,"XML","ExportType"),ub=Ga(b,"JSON","ExportType"),vb=Ga(b,"TEXT","ExportType"),a=f("div"),a.className="split",b.appendChild(a),b=f("input"),b.className="ok",b.type="button",b.value=d.okText,b.onclick=Vb,a.appendChild(b),b=f("input"),b.className="cancel",b.type="button",b.value=d.cancelText,b.onclick=
wb,a.appendChild(b));null===v&&(v=f("div"),r.body.appendChild(v),Ha=f("div"),Ha.className="title",na=f("div"),na.className="date",ea=f("div"),ea.className="description",document.body.addEventListener("mousemove",cb));Wb();oa.innerHTML=d.monthNames[p.getMonth()]+", "+p.getFullYear()+" \u25be"}function Sb(a){w=f("div");w.className="header-date";a.appendChild(w);d.fullScreenModeEnabled&&(w.ondblclick=function(){Ia(a)});var b=f("div");b.className="arrow previous-month";b.onclick=xb;b.ondblclick=q;w.appendChild(b);
t(b,d.previousMonthTooltipText);b=f("div");b.className="today";b.onclick=yb;b.ondblclick=q;w.appendChild(b);t(b,d.todayTooltipText);b=f("div");b.className="refresh";b.onclick=db;b.ondblclick=q;w.appendChild(b);t(b,d.refreshTooltipText);b=f("div");b.className="arrow next-month";b.onclick=zb;b.ondblclick=q;w.appendChild(b);t(b,d.nextMonthTooltipText);d.manualEditingEnabled&&(b=f("div"),b.className="add-event",b.onclick=Ja,b.ondblclick=q,w.appendChild(b),t(b,d.addEventTooltipText));d.exportEventsEnabled&&
(X=f("div"),X.className="export-events",X.ondblclick=q,w.appendChild(X),t(X,d.exportEventsTooltipText),X.onclick=function(){Ka()});b=f("div");b.className="list-all-events";b.onclick=Ab;b.ondblclick=q;w.appendChild(b);t(b,d.listAllEventsTooltipText);b=f("div");b.className="list-week-events";b.ondblclick=q;w.appendChild(b);b.onclick=function(){eb()};t(b,d.listWeekEventsTooltipText);b=f("div");b.className="title-container";w.appendChild(b);oa=f("span");oa.ondblclick=q;b.appendChild(oa);Xb(b)}function Xb(a){if(null===
B){var b=new Date(1900,1,1),c=(new Date).getFullYear()-b.getFullYear()+d.extraSelectableYearsAhead;B=f("div");B.className="years-drop-down";a.appendChild(B);a=f("div");a.className="contents custom-scroll-bars";B.appendChild(a);for(var e=0;e<c;e++)Yb(a,b.getFullYear()),b.setFullYear(b.getFullYear()+1);oa.onclick=Zb;r.body.addEventListener("click",La);r.body.addEventListener("contextmenu",La);Ma.addEventListener("resize",La)}}function Yb(a,b){var c=f("div");c.innerText=b.toString();c.id="year-selected-"+
b.toString();a.appendChild(c);c.onclick=function(){p.setFullYear(b);ka(p);Ya()}}function pa(a){a.isAllDayEvent&&(a.from=new Date(a.from.getFullYear(),a.from.getMonth(),a.from.getDate(),0,0),a.to=new Date(a.from.getFullYear(),a.from.getMonth(),a.from.getDate(),23,59));return a}function qa(a,b){var c=new Date(a.getFullYear(),a.getMonth(),a.getDate()),e=new Date(b.getFullYear(),b.getMonth(),b.getDate());return Math.ceil(Math.abs(e-c)/864E5)}function Zb(a){if("block"!==B.style.display){q(a);a=B.getElementsByClassName("current-year-selected");
if(null!==a&&1<=a.length)for(var b=a.length,c=0;c<b;c++)a[c].removeAttribute("class");a=R("year-selected-"+p.getFullYear());null!==a&&(a.className="current-year-selected");B.style.display="block"}}function Ya(){fb()&&(B.style.display="none")}function fb(){return null!==B&&"block"===B.style.display}function ra(a){if(null!==d&&gb(d[a]))d[a]()}function Na(a,b){if(null!==d&&gb(d[a]))d[a](b)}function Bb(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var c=Math.floor(16*Math.random()).toString(16);
a.push(c)}return a.join("")}function Ia(a){0>=a.className.indexOf(" full-screen-view")?(a.className+=" full-screen-view",Cb=a.style.cssText,a.removeAttribute("style")):(a.className=a.className.replace(" full-screen-view",""),a.style.cssText=Cb)}function La(){hb()&&(C.style.display="none");Ya();cb()}function S(){$b();null!==sa&&0<d.autoRefreshTimerDelay&&(clearTimeout(sa),sa=null);for(var a in n)if(n.hasOwnProperty(a)){var b=[],c;for(c in n[a])n[a].hasOwnProperty(c)&&b.push(pa(n[a][c]));b.sort(function(m,
l){return m.from-l.from});for(var e=b.length,g=0;g<e;g++){var h=b[g];null!==ib(h.from)&&ac(h)}b=[]}bc();cc()}function ac(a){Db(a.from,a);if(a.from.getDate()!==a.to.getDate()){var b=qa(a.from,a.to);if(0<b)for(var c=new Date(a.from),e=0;e<b;e++)c.setDate(c.getDate()+1),null!==ib(c)&&Db(c,a)}}function Db(a,b){var c=ib(a);if(null!==c&&c.getElementsByClassName(d.manualEditingEnabled?"event":"event-no-hover").length<d.maximumEventsPerDayDisplay){var e=f("div"),g=b.title;d.showTimesInMainCalendarEvents&&
!b.isAllDayEvent&&b.from.getDate()===b.to.getDate()&&(g=ta(b.from,b.to)+": "+g);e.className=d.manualEditingEnabled?"event":"event-no-hover";e.innerHTML=g;c.appendChild(e);e.onmousemove=function(h){Eb(h,b)};b.to<new Date&&(e.className+=" expired");b.isAllDayEvent&&(e.className+=" all-day-event");d.dragAndDropForEventsEnabled&&d.manualEditingEnabled&&e.setAttribute("draggable",!0);d.manualEditingEnabled&&(e.onclick=function(){Y(b)});d.dragAndDropForEventsEnabled&&d.manualEditingEnabled&&(e.ondragstart=
function(){x=b})}}function bc(){var a=0,b;for(b in n)if(n.hasOwnProperty(b))for(var c in n[b])if(n[b].hasOwnProperty(c)){a++;break}d.exportEventsEnabled&&(X.style.display=0===a?"none":"block")}function ib(a){var b=new Date(p.getFullYear(),p.getMonth(),1),c=new Date(p),e=new Date(p),g=null,h=0;c.setMonth(c.getMonth()+1);e.setMonth(e.getMonth()-1);a.getMonth()===c.getMonth()&&a.getFullYear()===c.getFullYear()?(b=b.getDay()+Xa(p.getFullYear(),p.getMonth()),h=a.getDate()+b-1):a.getMonth()===e.getMonth()&&
a.getFullYear()===e.getFullYear()?h=b.getDay()-qa(a,p):a.getMonth()===p.getMonth()&&a.getFullYear()===p.getFullYear()&&(b=b.getDay(),h=a.getDate()+b-1);0<h&&(g=R("calendar-day-"+h));return g}function $b(){for(var a=0;6>a;a++)for(var b=0;7>b;b++)for(var c=R("calendar-day-"+(7*a+(b+1))).getElementsByClassName(d.manualEditingEnabled?"event":"event-no-hover");c[0];)c[0].parentNode.removeChild(c[0])}function Rb(a){if(null===H){H=f("div");H.className="full-day-view";a.appendChild(H);var b=f("div");b.className=
"title-bar";H.appendChild(b);d.fullScreenModeEnabled&&(b.ondblclick=function(){Ia(a)});ua=f("div");ua.className="title";b.appendChild(ua);var c=f("div");c.className="close";c.ondblclick=q;b.appendChild(c);t(c,d.closeTooltipText);c.onclick=function(){jb(H);Oa=null};d.manualEditingEnabled&&(c=f("div"),c.className="add-event",c.onclick=Ja,c.ondblclick=q,b.appendChild(c),t(c,d.addEventTooltipText));d.exportEventsEnabled&&(Z=f("div"),Z.className="export-events",Z.ondblclick=q,b.appendChild(Z),t(Z,d.exportEventsTooltipText),
Z.onclick=function(){Ka(Pa)});va=f("div");va.className="contents custom-scroll-bars";H.appendChild(va)}}function kb(a){lb(H);ua.innerText="";va.innerHTML="";Oa=a;Pa=[];aa(ua,a,!1,!0,!0);for(var b in n)if(n.hasOwnProperty(b)){var c=[],e;for(e in n[b])if(n[b].hasOwnProperty(e))for(var g=pa(n[b][e]),h=qa(g.from,g.to)+1,m=new Date(g.from),l=0;l<h;l++)m.getFullYear()===a.getFullYear()&&m.getMonth()===a.getMonth()&&m.getDate()===a.getDate()&&c.push(g),m.setDate(m.getDate()+1);c.sort(function(u,P){return u.from-
P.from});g=c.length;for(h=0;h<g;h++)dc(c[h])}d.exportEventsEnabled&&(Z.style.display=0===Pa.length?"none":"block")}function dc(a){var b=f("div");b.className=d.manualEditingEnabled?"event":"event-no-hover";va.appendChild(b);var c=f("div");c.className="title";c.innerHTML=a.title;b.appendChild(c);c=f("div");c.className="date";b.appendChild(c);a.from.getDate()===a.to.getDate()?c.innerHTML=a.isAllDayEvent?d.allDayEventText:ta(a.from,a.to):Qa(c,a.from,a.to);a.to<new Date&&(b.className+=" expired");a.isAllDayEvent&&
(b.className+=" all-day-event");""!==a.description&&(c=f("div"),c.className="description",c.innerHTML=a.description,b.appendChild(c));d.manualEditingEnabled&&(b.onclick=function(){Y(a)});Pa.push(a)}function Pb(a){if(null===I){I=f("div");I.className="list-all-events-view";a.appendChild(I);var b=f("div");b.className="title-bar";I.appendChild(b);d.fullScreenModeEnabled&&(b.ondblclick=function(){Ia(a)});var c=f("div");c.className="title";c.innerHTML=d.allEventsText;b.appendChild(c);c=f("div");c.className=
"close";c.ondblclick=q;b.appendChild(c);t(c,d.closeTooltipText);c.onclick=function(){jb(I)};d.manualEditingEnabled&&(c=f("div"),c.className="add-event",c.onclick=Ja,c.ondblclick=q,b.appendChild(c),t(c,d.addEventTooltipText));d.exportEventsEnabled&&(fa=f("div"),fa.className="export-events",fa.ondblclick=q,b.appendChild(fa),t(fa,d.exportEventsTooltipText),fa.onclick=function(){Ka()});wa=f("div");wa.className="contents custom-scroll-bars";I.appendChild(wa)}}function Ab(){lb(I);wa.innerHTML="";var a=
[];for(c in n)if(n.hasOwnProperty(c))for(var b in n[c])n[c].hasOwnProperty(b)&&a.push(pa(n[c][b]));a.sort(function(h,m){return h.from-m.from});var c=a.length;for(b=0;b<c;b++){var e=a[b],g=ec(e.from);fc(e,g)}}function fc(a,b){var c=f("div");c.className=d.manualEditingEnabled?"event":"event-no-hover";b.appendChild(c);var e=f("div");e.className="title";e.innerHTML=a.title;c.appendChild(e);e=f("div");e.className="date";c.appendChild(e);a.from.getDate()===a.to.getDate()?a.isAllDayEvent?Ra(e,a.from,null,
" - "+d.allDayEventText):Ra(e,a.from,null," - "+ta(a.from,a.to)):Qa(e,a.from,a.to);a.to<new Date&&(c.className+=" expired");a.isAllDayEvent&&(c.className+=" all-day-event");""!==a.description&&(e=f("div"),e.className="description",e.innerHTML=a.description,c.appendChild(e));d.manualEditingEnabled&&(c.onclick=function(){Y(a)})}function ec(a){var b="month-"+a.getMonth()+"-"+a.getFullYear(),c=R(b);if(null===c){var e=f("div");e.className="month";wa.appendChild(e);c=f("div");c.className="header";c.innerHTML=
d.monthNames[a.getMonth()]+" "+a.getFullYear();e.appendChild(c);c=f("div");c.id=b;c.className="events";e.appendChild(c)}return c}function Qb(a){if(null===J){J=f("div");J.className="list-all-week-events-view";a.appendChild(J);var b=f("div");b.className="title-bar";J.appendChild(b);d.fullScreenModeEnabled&&(b.ondblclick=function(){Ia(a)});D=f("div");D.className="title";b.appendChild(D);var c=f("div");c.className="close";c.ondblclick=q;b.appendChild(c);t(c,d.closeTooltipText);c.onclick=function(){jb(J)};
d.manualEditingEnabled&&(c=f("div"),c.className="add-event",c.onclick=Ja,c.ondblclick=q,b.appendChild(c),t(c,d.addEventTooltipText));d.exportEventsEnabled&&(ba=f("div"),ba.className="export-events",ba.ondblclick=q,b.appendChild(ba),t(ba,d.exportEventsTooltipText),ba.onclick=function(){Ka(Sa)});xa=f("div");xa.className="contents custom-scroll-bars";J.appendChild(xa)}}function eb(a){lb(J);xa.innerHTML="";Sa=[];Fb=a;var b=[],c=gc(a);a=c[0];c=c[1];hc(a,c);for(var e in n)if(n.hasOwnProperty(e))for(var g in n[e])n[e].hasOwnProperty(g)&&
b.push(pa(n[e][g]));b.sort(function(ic,jc){return ic.from-jc.from});e=b.length;for(g=0;g<e;g++){for(var h=b[g],m=qa(h.from,h.to)+1,l=new Date(h.from),u=!1,P=0;P<m;P++)l>=a&&l<=c&&(u=kc(l),lc(h,u),u=!0),l.setDate(l.getDate()+1);u&&Sa.push(h)}d.exportEventsEnabled&&(ba.style.display=0===Sa.length?"none":"block")}function hc(a,b){D.innerHTML="";if(a.getFullYear()===b.getFullYear()){aa(D,a,!1,!1);var c=f("span");c.innerHTML=" - ";D.appendChild(c);aa(D,b,!1,!1);c=f("span");c.innerHTML=", "+a.getFullYear();
D.appendChild(c)}else aa(D,a,!1,!0),c=f("span"),c.innerHTML=" - ",D.appendChild(c),aa(D,b,!1,!0)}function lc(a,b){var c=f("div");c.className=d.manualEditingEnabled?"event":"event-no-hover";b.appendChild(c);var e=f("div");e.className="title";e.innerHTML=a.title;c.appendChild(e);e=f("div");e.className="date";c.appendChild(e);a.from.getDate()===a.to.getDate()?e.innerHTML=a.isAllDayEvent?d.allDayEventText:ta(a.from,a.to):Qa(e,a.from,a.to);a.to<new Date&&(c.className+=" expired");a.isAllDayEvent&&(c.className+=
" all-day-event");""!==a.description&&(e=f("div"),e.className="description",e.innerHTML=a.description,c.appendChild(e));d.manualEditingEnabled&&(c.onclick=function(){Y(a)})}function kc(a){var b=Gb(a),c="day-"+b,e=R(c);if(null===e){var g=f("div");g.className="day";xa.appendChild(g);e=f("div");e.className="header";g.appendChild(e);Ra(e,a,d.dayNames[b]+", ");e=f("div");e.id=c;e.className="events";g.appendChild(e)}return e}function Gb(a){return 0>a.getDay()-1?6:a.getDay()-1}function gc(a){a=k(a)?a:new Date;
var b=0===a.getDay()?7:a.getDay();b=a.getDate()-b+1;var c=b+6,e=new Date(a);a=new Date(a);e.setDate(b);e.setHours(0,0,0,0);a.setDate(c);a.setHours(23,59,59,99);return[e,a]}function ta(a,b){return mb(a)+" "+d.toTimeText+" "+mb(b)}function mb(a){return y(a.getHours())+":"+y(a.getMinutes())}function Qa(a,b,c){a.innerHTML="";var e=f("span");e.innerText=d.startsOnText+" ";a.appendChild(e);aa(a,b);b=f("span");b.innerText=" "+d.andFinishesOnText+" ";a.appendChild(b);aa(a,c)}function aa(a,b,c,e,g){c=k(c)?
c:!0;e=k(e)?e:!0;if(g=k(g)?g:!1){g=Gb(b);var h=f("span");h.innerText=d.dayNames[g]+", ";a.appendChild(h)}Ra(a,b);g=f("span");g.innerText=" "+d.monthNames[b.getMonth()];a.appendChild(g);e&&(e=f("span"),e.innerText=" "+b.getFullYear(),a.appendChild(e));c&&(c=f("span"),c.innerText=" "+mb(b),a.appendChild(c))}function Ra(a,b,c,e){if(k(c)){var g=f("span");g.innerText=c;a.appendChild(g)}c=f("span");c.innerText=b.getDate();a.appendChild(c);d.showDayNumberOrdinals&&(c=f("sup"),c.innerText=Hb(b.getDate()),
a.appendChild(c));k(e)&&(b=f("span"),b.innerText=e,a.appendChild(b))}function Za(a,b,c,e,g){var h=new Date;h=a===h.getDate()&&e===h.getFullYear()&&c===h.getMonth();b=R("calendar-day-"+b);var m=f("span");b.className="cell"+(h?" today":"");b.innerHTML="";m.className=g?"day-muted":"";m.innerText=a;b.oncontextmenu=function(l){Ta=new Date(e,c,a);La();q(l);Ib(l,C)};d.showDayNumberOrdinals&&(g=f("sup"),g.innerText=Hb(a),m.appendChild(g));b.appendChild(m);d.fullDayViewEnabled&&(g=f("div"),g.className="expand-day",
b.appendChild(g),t(g,d.expandDayTooltipText),g.onclick=function(){kb(new Date(e,c,a))});d.manualEditingEnabled&&(b.ondblclick=function(){Y(null,new Date(e,c,a))},d.manualEditingEnabled&&(b.ondragover=function(l){q(l)},b.ondrop=function(l){q(l);if(null!==x){l=qa(x.from,x.to);var u=new Date(e,c,a,x.from.getHours(),x.from.getMinutes()),P=new Date(e,c,a,x.to.getHours(),x.to.getMinutes());0<l&&P.setDate(P.getDate()+l);ya.updateEvent(x.id,{from:u,to:P,title:x.title,description:x.description,isAllDayEvent:x.isAllDayEvent})}}))}
function Xa(a,b){return(new Date(a,b+1,0)).getDate()}function Hb(a){var b=d.thText;if(31===a||21===a||1===a)b=d.stText;else if(22===a||2===a)b=d.ndText;else if(23===a||3===a)b=d.rdText;return b}function Wb(){C=f("div");C.className="calender-drop-down-menu";r.body.appendChild(C);var a=f("div");a.className="item";a.innerHTML=d.addEventTitle;C.appendChild(a);a.onclick=function(){Y(null,Ta)};a=f("div");a.className="separator";C.appendChild(a);a=f("div");a.className="item";a.innerHTML=d.expandDayTooltipText;
C.appendChild(a);a.onclick=function(){kb(Ta)};a=f("div");a.className="separator";C.appendChild(a);a=f("div");a.className="item";a.innerHTML=d.listWeekEventsTooltipText;C.appendChild(a);a.onclick=function(){eb(Ta)}}function hb(){return"block"===C.style.display}function Ca(a,b){try{a.type=b}catch(c){a.type="text"}}function Ja(){Y(null,Oa)}function $a(){var a=!1;K.checked&&(A.value=z.value,F.value="00:00",G.value="23:59",a=!0);A.disabled=a;F.disabled=a;G.disabled=a}function Y(a,b){try{r.body.appendChild(E)}catch(h){console.warn(h.message)}T.style.display=
"block";da.style.display="none";z.focus();if(k(a))L.value=d.updateText,M.style.display="block",ma.innerHTML=d.editEventTitle,ha=a,z.value=Ua(a.from,z.type),F.value=Va(a.from),A.value=Ua(a.to,A.type),G.value=Va(a.to),K.checked=a.isAllDayEvent,U.value=a.title,ca.value=a.description;else{var c=new Date,e=k(b)?b:c,g=new Date;e.getDate()===g.getDate()&&e.getFullYear()===g.getFullYear()&&e.getMonth()===g.getMonth()&&(e.setHours(c.getHours()),e.setMinutes(c.getMinutes()));L.value=d.addText;M.style.display=
"none";ma.innerHTML=d.addEventTitle;ha=null;z.value=Ua(e,z.type);F.value=Va(e);A.value=Ua(e,A.type);G.value=Va(e);K.checked=!1;U.value="";ca.value=""}$a()}function Tb(){var a=Jb(z),b=Jb(A),c=F.value.split(":"),e=G.value.split(":"),g=U.value.replace(/^\s+|\s+$/g,""),h=ca.value.replace(/^\s+|\s+$/g,"");0>=c.length?Wa(d.fromTimeErrorMessage,F):0>=e.length?Wa(d.toTimeErrorMessage,G):b<a?Wa(d.toSmallerThanFromErrorMessage,A):""===g?Wa(d.titleErrorMessage,U):(ab(),a.setHours(parseInt(c[0])),a.setMinutes(parseInt(c[1])),
b.setHours(parseInt(e[0])),b.setMinutes(parseInt(e[1])),a={from:a,to:b,title:g,description:h,isAllDayEvent:K.checked},null!==ha?ya.updateEvent(ha.id,a,!1):ya.addEvent(a,!1),S(),nb())}function Jb(a){var b=new Date;if("date"===a.type)b=new Date(a.value);else if(a=a.value.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/))a=new Date(a[3],a[2]-1,a[1]),a instanceof Date&&!isNaN(a)&&(b=a);return b}function ab(){T.style.display="none";try{r.body.removeChild(E)}catch(a){console.warn(a.message)}}function Ub(){la.style.display=
"block";var a=function(){la.style.display="none"};mc(d.confirmEventRemoveTitle,d.confirmEventRemoveMessage,function(){a();ab();null!==ha&&(ya.removeEvent(ha.id,!0),nb())},a)}function Ua(a,b){var c=("0"+a.getDate()).slice(-2),e=("0"+(a.getMonth()+1)).slice(-2);return"date"===b?a.getFullYear()+"-"+e+"-"+c:c+"/"+e+"/"+a.getFullYear()}function Va(a){return y(a.getHours())+":"+y(a.getMinutes())}function y(a){a=a.toString();return 1===a.length?"0"+a:a}function Wa(a,b){da.innerHTML=a;da.style.display="block";
b.focus()}function nb(){za(H)&&kb(Oa);za(I)&&Ab();za(J)&&eb(Fb)}function mc(a,b,c,e){N.style.display="block";Da.innerHTML=a;Ea.innerHTML=b;V.onclick=Kb;W.onclick=Kb;V.addEventListener("click",c);gb(e)&&W.addEventListener("click",e)}function Kb(){N.style.display="none"}function Ga(a,b,c){var e=f("label");e.className="radioButton";e.innerText=b;a.appendChild(e);a=f("input");a.type="radio";a.name=c;e.appendChild(a);c=f("span");c.className="check-mark";e.appendChild(c);return a}function Ka(a){try{r.body.appendChild(E)}catch(b){console.warn(b.message)}O.style.display=
"block";Aa=a;bb.checked=!0}function wb(){try{r.body.removeChild(E)}catch(a){console.warn(a.message)}O.style.display="none"}function Vb(){wb();bb.checked?Ba(Aa,"csv"):tb.checked?Ba(Aa,"xml"):ub.checked?Ba(Aa,"json"):vb.checked&&Ba(Aa,"text")}function Eb(a,b,c){q(a);null!==Q&&(clearTimeout(Q),Q=null);cb();"block"!==v.style.display&&(Q=setTimeout(function(){r.body.contains(E)||fb()||hb()||(c=k(c)?c:"",v.className=""===c?"calender-tooltip-event":"calender-tooltip",""!==c?v.innerHTML=c:(v.innerHTML="",
v.appendChild(Ha),v.appendChild(na),Ha.innerHTML=b.title,""!==b.description?(ea.innerHTML=b.description,v.appendChild(ea)):(ea.innerHTML="",v.removeChild(ea)),b.from.getDate()===b.to.getDate()?na.innerHTML=b.isAllDayEvent?d.allDayEventText:ta(b.from,b.to):Qa(na,b.from,b.to)),Ib(a,v))},d.eventTooltipDelay))}function cb(){null!==Q&&(clearTimeout(Q),Q=null);"none"!==v.style.display&&(v.style.display="none")}function t(a,b){a.onmousemove=function(c){Eb(c,null,b)}}function cc(){null===sa&&0<d.autoRefreshTimerDelay&&
(sa=setInterval(function(){db()},d.autoRefreshTimerDelay))}function db(){"block"===v.style.display||null!==Q||r.body.contains(E)||fb()||hb()||(nb(),S())}function lb(a){za(a)||(a.className+=" overlay-shown")}function jb(a){za(a)&&(a.className=a.className.replace(" overlay-shown",""))}function za(a){return-1<a.className.indexOf("overlay-shown")}function f(a){a=a.toLowerCase();var b="text"===a;ob.hasOwnProperty(a)||(ob[a]=b?r.createTextNode(""):r.createElement(a));return ob[a].cloneNode(!1)}function R(a){ia.hasOwnProperty(a)&&
null!==ia[a]||(ia[a]=r.getElementById(a));r.body.contains(ia[a])||(ia[a]=r.getElementById(a));return ia[a]}function q(a){a.preventDefault();a.cancelBubble=!0}function Ib(a,b){var c=a.clientX,e=a.clientY;b.style.display="block";c+b.offsetWidth>Ma.innerWidth?c-=b.offsetWidth:c++;e+b.offsetHeight>Ma.innerHeight?e-=b.offsetHeight:e++;b.style.left=c+"px";b.style.top=e+"px"}function k(a){return void 0!==a&&null!==a&&""!==a}function gb(a){return k(a)&&"function"===typeof a}function Ba(a,b){b=k(b)?b.toLowerCase():
"csv";var c="",e=nc(a);if("csv"===b){var g=[d.fromText,d.toText,d.isAllDayEventText,d.titleText,d.descriptionText],h=g.length;c=[];for(var m=[],l=0;l<h;l++)c.push(ja(g[l]));m.push(c.join(","));g=e.length;for(h=0;h<g;h++){c=m;l=e[h];var u=[];u.push(ja(pb(l.from)));u.push(ja(pb(l.to)));u.push(ja(l.isAllDayEvent?d.yesText:d.noText));u.push(ja(l.title.toString()));u.push(ja(l.description.toString()));c.push(u.join(","))}c=m.join("\n")}else if("xml"===b){g=[];g.push('<?xml version="1.0" ?>');g.push("<Events>");
h=e.length;for(c=0;c<h;c++){l=e[c];g.push("<Event>");for(m in l)l.hasOwnProperty(m)&&(u=Lb(m),g.push("<"+u+">"+qb(l[m])+"</"+u+">"));g.push("</Event>")}g.push("</Events>");c=g.join("\n")}else if("json"===b){m=[];m.push("{");m.push('"events:": [');h=e.length;for(c=0;c<h;c++){l=e[c];m.push("{");for(g in l)l.hasOwnProperty(g)&&m.push('"'+g+'":"'+qb(l[g])+'",');l=m[m.length-1];m[m.length-1]=l.substring(0,l.length-1);m.push("},")}m[m.length-1]="}";m.push("]");m.push("}");c=m.join("\n")}else if("text"===
b){m=[];g=e.length;for(c=0;c<g;c++){l=e[c];for(h in l)l.hasOwnProperty(h)&&m.push(Lb(h)+": "+qb(l[h]));m.push("")}m.pop();c=m.join("\n")}""!==c&&(e=f("a"),g="text"===b?"plain":b,m="text"===b?"txt":b,e.style.display="none",e.setAttribute("target","_blank"),e.setAttribute("href","data:text/"+g+";charset=utf-8,"+encodeURIComponent(c)),g=e.setAttribute,c=new Date,h=y(c.getDate())+"-"+y(c.getMonth())+"-"+c.getFullYear(),c=y(c.getHours())+"-"+y(c.getMinutes()),g.call(e,"download",d.exportStartFilename+
h+"_"+c+"."+m),r.body.appendChild(e),e.click(),r.body.removeChild(e),ra("onEventsExported"))}function nc(a){var b=[];if(k(a))for(var c=a.length,e=0;e<c;e++)b.push(a[e]);else for(c in n)if(n.hasOwnProperty(c))for(e in n[c])n[c].hasOwnProperty(e)&&b.push(n[c][e]);b.sort(function(g,h){return g.from-h.from});return b}function pb(a){var b=y(a.getDate())+"/"+y(a.getMonth())+"/"+a.getFullYear();a=y(a.getHours())+":"+y(a.getMinutes());return b+" "+a}function Lb(a){return a.charAt(0).toUpperCase()+a.slice(1)}
function qb(a){var b=a;"boolean"===typeof a?b=a?d.yesText:d.noText:"object"===typeof a&&(b=pb(a));return b}function ja(a){a=a.replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ");a=a.replace(/"/g,'""');return'"'+a+'"'}function xb(){var a=new Date(p);a.setMonth(a.getMonth()-1);a.setDate(1);ka(a);ra("onPreviousMonth")}function zb(){var a=new Date(p);a.setMonth(a.getMonth()+1);a.setDate(1);ka(a);ra("onNextMonth")}function yb(){ka();ra("onToday")}var d={},ya=this,p,ob={},ia={},r=null,Ma=null,sb=null,
rb=!1,n={},sa=null,x=null,Cb=null,w=null,oa=null,B=null,X=null,E=null,T=null,la=null,ma=null,z=null,F=null,A=null,G=null,K=null,U=null,ca=null,da=null,ha=null,L=null,M=null,H=null,ua=null,va=null,Oa=null,Pa=[],Z=null,I=null,fa=null,wa=null,J=null,D=null,ba=null,xa=null,Sa=[],Fb=null,N=null,Da=null,Ea=null,V=null,W=null,O=null,Fa=null,bb=null,tb=null,ub=null,vb=null,Aa=null,v=null,Ha=null,na=null,ea=null,Q=null,C=null,Ta=null;this.moveToPreviousMonth=function(){xb()};this.moveToNextMonth=function(){zb()};
this.moveToToday=function(){yb()};this.exportAllEvents=function(a){d.exportEventsEnabled&&(a=k(a)?a:"csv",Ba(null,a))};this.refresh=function(){db()};this.addEvents=function(a,b,c){b=k(b)?b:!0;c=k(c)?c:!0;for(var e=a.length,g=0;g<e;g++)this.addEvent(a[g],!1,!1);c&&Na("onEventAdded",a);b&&S()};this.addEvent=function(a,b,c){var e=!1;if(a.from<=a.to){var g=a.from;g=g.getFullYear()+"-"+g.getMonth()+"-"+g.getDate();var h=Bb();n.hasOwnProperty(g)||(n[g]={});n[g].hasOwnProperty(h)||(b=k(b)?b:!0,c=k(c)?c:
!0,k(a.id)?h=a.id:a.id=h,n[g][h]=pa(a),e=!0,c&&Na("onEventAdded",a),b&&S())}return e};this.updateEvent=function(a,b,c,e){if(a=this.removeEvent(a,!1,!1))c=k(c)?c:!0,e=k(e)?e:!0,b.id=Bb(),(a=this.addEvent(b,c,!1))&&e&&Na("onEventUpdated",b);return a};this.removeEvent=function(a,b,c){var e=!1,g;for(g in n)if(n.hasOwnProperty(g))for(var h in n[g])if(n[g].hasOwnProperty(h)&&h===a){b=k(b)?b:!0;c=k(c)?c:!0;delete n[g][h];e=!0;c&&Na("onEventRemoved",n[g][h]);b&&S();break}return e};this.clearEvents=function(a){a=
k(a)?a:!0;n={};ra("onEventsCleared");a&&S()};this.setOptions=function(a){d=null!==a&&"object"===typeof a?a:{};k(d.previousMonthTooltipText)||(d.previousMonthTooltipText="Previous Month");k(d.nextMonthTooltipText)||(d.nextMonthTooltipText="Next Month");k(d.addEventTooltipText)||(d.addEventTooltipText="Add Event");k(d.closeTooltipText)||(d.closeTooltipText="Close");k(d.exportEventsTooltipText)||(d.exportEventsTooltipText="Export Events");k(d.todayTooltipText)||(d.todayTooltipText="Today");k(d.refreshTooltipText)||
(d.refreshTooltipText="Refresh");k(d.expandDayTooltipText)||(d.expandDayTooltipText="Expand Day");k(d.listAllEventsTooltipText)||(d.listAllEventsTooltipText="View All Events");k(d.listWeekEventsTooltipText)||(d.listWeekEventsTooltipText="View Current Week Events");k(d.dayHeaderNames)||(d.dayHeaderNames="Mo Tu We Th Fr Sa Su".split(" "));k(d.dayNames)||(d.dayNames="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "));k(d.fromText)||(d.fromText="From:");k(d.toText)||(d.toText="To:");
k(d.isAllDayEventText)||(d.isAllDayEventText="Is All Day Event");k(d.titleText)||(d.titleText="Title:");k(d.descriptionText)||(d.descriptionText="Description:");k(d.addText)||(d.addText="Add");k(d.updateText)||(d.updateText="Update");k(d.cancelText)||(d.cancelText="Cancel");k(d.removeEventText)||(d.removeEventText="Remove Event");k(d.addEventTitle)||(d.addEventTitle="Add Event");k(d.editEventTitle)||(d.editEventTitle="Edit Event");k(d.monthNames)||(d.monthNames="January February March April May June July August September October November December".split(" "));
k(d.showDayNumberOrdinals)||(d.showDayNumberOrdinals=!0);k(d.dragAndDropForEventsEnabled)||(d.dragAndDropForEventsEnabled=!0);k(d.exportStartFilename)||(d.exportStartFilename="exported_events_");k(d.fromTimeErrorMessage)||(d.fromTimeErrorMessage="Please select a valid 'From' time.");k(d.toTimeErrorMessage)||(d.toTimeErrorMessage="Please select a valid 'To' time.");k(d.toSmallerThanFromErrorMessage)||(d.toSmallerThanFromErrorMessage="Please select a 'To' date that is larger than the 'From' date.");
k(d.titleErrorMessage)||(d.titleErrorMessage="Please enter a value in the 'Title' field (no empty space).");k(d.stText)||(d.stText="st");k(d.ndText)||(d.ndText="nd");k(d.rdText)||(d.rdText="rd");k(d.thText)||(d.thText="th");k(d.fullDayViewEnabled)||(d.fullDayViewEnabled=!0);k(d.maximumEventsPerDayDisplay)||(d.maximumEventsPerDayDisplay=3);k(d.yesText)||(d.yesText="Yes");k(d.noText)||(d.noText="No");k(d.extraSelectableYearsAhead)||(d.extraSelectableYearsAhead=51);k(d.allDayEventText)||(d.allDayEventText=
"All Day Event");k(d.allEventsText)||(d.allEventsText="All Events");k(d.exportEventsEnabled)||(d.exportEventsEnabled=!0);k(d.manualEditingEnabled)||(d.manualEditingEnabled=!0);k(d.showTimesInMainCalendarEvents)||(d.showTimesInMainCalendarEvents=!1);k(d.startsOnText)||(d.startsOnText="Starts on the");k(d.andFinishesOnText)||(d.andFinishesOnText="and finishes on the");k(d.toTimeText)||(d.toTimeText="to");k(d.autoRefreshTimerDelay)||(d.autoRefreshTimerDelay=5E3);k(d.confirmEventRemoveTitle)||(d.confirmEventRemoveTitle=
"Confirm Event Removal");k(d.confirmEventRemoveMessage)||(d.confirmEventRemoveMessage="Removing this event cannot be undone.  Do you want to continue?");k(d.okText)||(d.okText="OK");k(d.selectExportTypeTitle)||(d.selectExportTypeTitle="Select Export Type");k(d.fullScreenModeEnabled)||(d.fullScreenModeEnabled=!0);k(d.eventTooltipDelay)||(d.eventTooltipDelay=1E3)};(function(a,b){r=a;Ma=b;sb=Mb;ya.setOptions(Nb);ka(Ob)})(document,window)};