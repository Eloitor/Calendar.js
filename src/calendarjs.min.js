function calendarJs(wc,xc,yc){function O(a){n=h(a)?a:new Date;var b=(new Date(n.getFullYear(),n.getMonth(),1)).getDay();a=ub(n.getFullYear(),n.getMonth());0===b&&(b=7);qa();if(!Va){var c=ba(Qb);c.className="calendar";c.innerHTML="";zc(c);Ac(c);Bc(c);Cc(c);var e=f("div"),g=d.dayHeaderNames.length;e.className="row header-days";c.appendChild(e);for(var k=0;k<g;k++){var l=d.dayHeaderNames[k],m=f("div");m.className="cell";m.innerHTML=l;e.appendChild(m)}for(e=0;6>e;e++)for(g=f("div"),g.className="row",
c.appendChild(g),k=0;7>k;k++)l=7*e+(k+1),m=f("div"),m.className="cell",m.id="calendar-day-"+l,g.appendChild(m),0<d.minimumDayHeight&&(m.style.height=d.minimumDayHeight+"px");Va=!0}k=b;if(1<k)for(c=new Date(n),c.setMonth(c.getMonth()-1),e=ub(c.getFullYear(),c.getMonth()),g=1,k=e-k+1;k<e;k++)vb(k+1,g,c.getMonth(),c.getFullYear(),!0),g++;for(e=c=0;e<a;e++)c=b+e,vb(e+1,c,n.getMonth(),n.getFullYear(),!1);if(42>c)for(a=1,b=new Date(n),b.setMonth(b.getMonth()+1),c+=1;43>c;c++)vb(a,c,b.getMonth(),b.getFullYear(),
!0),a++;ca();null===M&&(M=f("div"),M.className="disabled-background");null===da&&(da=f("div"),da.className="calendar-dialog event-editor",q.body.appendChild(da),b=f("div"),b.className="view",da.appendChild(b),ea=f("div"),ea.className="disabled-area",b.appendChild(ea),Ca=f("div"),Ca.className="title-bar",b.appendChild(Ca),a=f("div"),a.className="contents",b.appendChild(a),b=f("p"),b.innerText=d.titleText,a.appendChild(b),b=f("div"),b.className="input-title-container",a.appendChild(b),P=f("input"),
P.type="text",b.appendChild(P),c=f("input"),c.className="select-colors",c.type="button",c.value="...",c.onclick=Dc,b.appendChild(c),b=f("p"),b.innerText=d.fromText,a.appendChild(b),b=f("div"),b.className="split",a.appendChild(b),H=f("input"),H.onchange=wb,b.appendChild(H),fa(H,"date"),I=f("input"),b.appendChild(I),fa(I,"time"),Da=Rb(a,d.isAllDayEventText,wb),b=f("p"),b.innerText=d.toText,a.appendChild(b),b=f("div"),b.className="split",a.appendChild(b),C=f("input"),b.appendChild(C),fa(C,"date"),J=
f("input"),b.appendChild(J),fa(J,"time"),b=f("p"),b.innerText=d.locationText,a.appendChild(b),ra=f("input"),ra.type="text",a.appendChild(ra),b=f("p"),b.innerText=d.descriptionText,a.appendChild(b),sa=f("textarea"),sa.className="custom-scroll-bars",a.appendChild(sa),ta=f("p"),ta.className="error",a.appendChild(ta),b=f("div"),b.className="split",a.appendChild(b),Q=f("input"),Q.className="ok",Q.type="button",Q.value=d.addText,Q.onclick=Ec,b.appendChild(Q),c=f("input"),c.className="cancel",c.type="button",
c.value=d.cancelText,c.onclick=xb,b.appendChild(c),R=f("input"),R.className="remove",R.type="button",R.value=d.removeEventText,R.onclick=Fc,a.appendChild(R));null===S&&(S=f("div"),S.className="calendar-dialog event-editor-colors",q.body.appendChild(S),a=f("div"),a.className="title-bar",a.innerHTML=d.selectColorsText,S.appendChild(a),a=f("div"),a.className="contents",S.appendChild(a),b=f("p"),b.innerText=d.backgroundColorText,a.appendChild(b),ua=f("input"),a.appendChild(ua),fa(ua,"color"),b=f("p"),
b.innerText=d.textColorText,a.appendChild(b),va=f("input"),a.appendChild(va),fa(va,"color"),b=f("p"),b.innerText=d.borderColorText,a.appendChild(b),wa=f("input"),a.appendChild(wa),fa(wa,"color"),b=f("div"),b.className="split",a.appendChild(b),a=f("input"),a.className="ok",a.type="button",a.value=d.okText,a.onclick=Gc,b.appendChild(a),a=f("input"),a.className="cancel",a.type="button",a.value=d.cancelText,a.onclick=Sb,b.appendChild(a));null===T&&(T=f("div"),T.className="calendar-dialog confirmation",
q.body.appendChild(T),Wa=f("div"),Wa.className="title-bar",T.appendChild(Wa),a=f("div"),a.className="contents",T.appendChild(a),Xa=f("div"),Xa.className="message",a.appendChild(Xa),b=f("div"),b.className="split",a.appendChild(b),ha=f("input"),ha.className="yes",ha.type="button",ha.value=d.yesText,b.appendChild(ha),ia=f("input"),ia.className="no",ia.type="button",ia.value=d.noText,b.appendChild(ia));null===U&&(U=f("div"),U.className="calendar-dialog select-export-type",q.body.appendChild(U),a=f("div"),
a.className="title-bar",a.innerHTML=d.selectExportTypeTitle,U.appendChild(a),b=f("div"),b.className="contents",U.appendChild(b),yb=Ya(b,"CSV","ExportType"),Tb=Ya(b,"XML","ExportType"),Ub=Ya(b,"JSON","ExportType"),Vb=Ya(b,"TEXT","ExportType"),a=f("div"),a.className="split",b.appendChild(a),b=f("input"),b.className="ok",b.type="button",b.value=d.okText,b.onclick=Hc,a.appendChild(b),b=f("input"),b.className="cancel",b.type="button",b.value=d.cancelText,b.onclick=Wb,a.appendChild(b));null===x&&(x=f("div"),
x.className="calendar-dialog search",q.body.appendChild(x),a=f("div"),a.className="title-bar",a.innerHTML=d.searchEventsTitle,a.onmousedown=Ic,a.onmouseup=Jc,x.appendChild(a),b=f("div"),b.className="ib-close",b.onclick=Kc,a.appendChild(b),t(b,d.closeTooltipText),a=f("div"),a.className="contents",x.appendChild(a),b=f("p"),b.innerText=d.forText,a.appendChild(b),D=f("input"),D.type="text",D.oninput=zb,D.onpropertychange=zb,D.onkeypress=Lc,a.appendChild(D),Xb=Rb(a,d.matchCaseText),b=f("div"),b.className=
"split",a.appendChild(b),V=f("input"),V.className="previous",V.type="button",V.value=d.previousText,V.onclick=Mc,b.appendChild(V),N=f("input"),N.className="next",N.type="button",N.value=d.nextText,N.onclick=Yb,b.appendChild(N),q.body.addEventListener("mousemove",Nc));null===u&&(u=f("div"),q.body.appendChild(u),Za=f("div"),Za.className="title",Ea=f("div"),Ea.className="date",xa=f("div"),xa.className="description",ya=f("div"),ya.className="location",document.body.addEventListener("mousemove",Ab));Oc();
Zb||(q.body.addEventListener("click",qa),q.body.addEventListener("contextmenu",qa),$a.addEventListener("resize",qa),Zb=!0);Fa.innerHTML=d.monthNames[n.getMonth()]+", "+n.getFullYear()+" \u25be"}function ab(){var a=[];bb(function(b){a.push(b)});return a}function bb(a){for(var b in E)if(E.hasOwnProperty(b))for(var c in E[b])if(E[b].hasOwnProperty(c)&&a($b(E[b][c]),b,c))return}function Ga(a){return a.sort(function(b,c){return b.from-c.from})}function Cc(a){w=f("div");w.className="header-date";a.appendChild(w);
d.fullScreenModeEnabled&&(w.ondblclick=function(){cb(a)});var b=f("div");b.className="ib-arrow-left-full";b.onclick=ac;b.ondblclick=r;w.appendChild(b);t(b,d.previousMonthTooltipText);b=f("div");b.className="ib-pin";b.onclick=bc;b.ondblclick=r;w.appendChild(b);t(b,d.todayTooltipText);b=f("div");b.className="ib-refresh";b.onclick=Bb;b.ondblclick=r;w.appendChild(b);t(b,d.refreshTooltipText);b=f("div");b.className="ib-search";b.onclick=Pc;b.ondblclick=r;w.appendChild(b);t(b,d.searchTooltipText);b=f("div");
b.className="ib-arrow-right-full";b.onclick=cc;b.ondblclick=r;w.appendChild(b);t(b,d.nextMonthTooltipText);d.manualEditingEnabled&&(b=f("div"),b.className="ib-plus",b.onclick=db,b.ondblclick=r,w.appendChild(b),t(b,d.addEventTooltipText));d.exportEventsEnabled&&(ja=f("div"),ja.className="ib-arrow-down-full-line",ja.ondblclick=r,w.appendChild(ja),t(ja,d.exportEventsTooltipText),ja.onclick=function(){eb()});b=f("div");b.className="ib-eye";b.onclick=dc;b.ondblclick=r;w.appendChild(b);t(b,d.listAllEventsTooltipText);
b=f("div");b.className="ib-hamburger";b.ondblclick=r;w.appendChild(b);b.onclick=function(){Cb()};t(b,d.listWeekEventsTooltipText);b=f("div");b.className="title-container";w.appendChild(b);Fa=f("span");Fa.ondblclick=r;b.appendChild(Fa);Qc(b)}function Qc(a){var b=new Date(1900,1,1),c=(new Date).getFullYear()-b.getFullYear()+d.extraSelectableYearsAhead;y=f("div");y.className="years-drop-down";a.appendChild(y);Ha=f("div");Ha.className="contents custom-scroll-bars";y.appendChild(Ha);for(a=0;a<c;a++)Rc(b.getFullYear()),
b.setFullYear(b.getFullYear()+1);Fa.onclick=Sc}function Rc(a){var b=f("div");b.innerText=a.toString();b.id="year-selected-"+a.toString();Ha.appendChild(b);b.onclick=function(){n.setFullYear(a);O(n);fb()&&(y.style.display="none")}}function $b(a){a.isAllDayEvent&&(a.from=new Date(a.from.getFullYear(),a.from.getMonth(),a.from.getDate(),0,0),a.to=new Date(a.from.getFullYear(),a.from.getMonth(),a.from.getDate(),23,59));return a}function Ia(a,b){var c=new Date(a.getFullYear(),a.getMonth(),a.getDate()),
e=new Date(b.getFullYear(),b.getMonth(),b.getDate());return Math.ceil(Math.abs(e-c)/864E5)}function Sc(a){if("block"!==y.style.display){qa();r(a);a=y.getElementsByClassName("current-year-selected");if(null!==a&&1<=a.length)for(var b=a.length,c=0;c<b;c++)a[c].removeAttribute("class");a=ba("year-selected-"+n.getFullYear());null!==a&&(a.className="current-year-selected");y.style.display="block";Ha.scrollTop=a.offsetTop-y.offsetHeight/2}}function fb(){return null!==y&&"block"===y.style.display}function Ja(a){if(null!==
d&&Db(d[a]))d[a]()}function gb(a,b){if(null!==d&&Db(d[a]))d[a](b)}function ec(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var c=Math.floor(16*Math.random()).toString(16);a.push(c)}return a.join("")}function cb(a){0>=a.className.indexOf(" full-screen-view")?(a.className+=" full-screen-view",fc=a.style.cssText,a.removeAttribute("style")):(a.className=a.className.replace(" full-screen-view",""),a.style.cssText=fc)}function qa(){Eb()&&(z.style.display="none");fb()&&(y.style.display=
"none");Ab()}function ca(){for(var a=0;6>a;a++)for(var b=0;7>b;b++)for(var c=ba("calendar-day-"+(7*a+(b+1))).getElementsByClassName(d.manualEditingEnabled?"event":"event-no-hover");c[0];)c[0].parentNode.removeChild(c[0]);null!==Ka&&0<d.autoRefreshTimerDelay&&(clearTimeout(Ka),Ka=null);a=Ga(ab());b=a.length;for(c=0;c<b;c++){var e=a[c];if(null!==Fb(e.from)&&(gc(e.from,e),e.from.getDate()!==e.to.getDate())){var g=Ia(e.from,e.to);if(0<g)for(var k=new Date(e.from),l=0;l<g;l++)k.setDate(k.getDate()+1),
null!==Fb(k)&&gc(k,e)}}d.exportEventsEnabled&&(ja.style.display=0===b?"none":"inline-block");Tc()}function gc(a,b){var c=Fb(a);if(null!==c&&c.getElementsByClassName(d.manualEditingEnabled?"event":"event-no-hover").length<d.maximumEventsPerDayDisplay){var e=f("div"),g=b.title;d.showTimesInMainCalendarEvents&&!b.isAllDayEvent&&b.from.getDate()===b.to.getDate()&&(g=La(b.from,b.to)+": "+g);e.className=d.manualEditingEnabled?"event":"event-no-hover";e.innerHTML=g;c.appendChild(e);e.onmousemove=function(k){hc(k,
b)};hb(b,e);d.manualEditingEnabled&&(e.onclick=function(){ka(b)});d.dragAndDropForEventsEnabled&&d.manualEditingEnabled&&(e.setAttribute("draggable",!0),e.ondragstart=function(){v=b})}}function Fb(a){var b=new Date(n.getFullYear(),n.getMonth(),1),c=new Date(n),e=new Date(n),g=null,k=0;c.setMonth(c.getMonth()+1);e.setMonth(e.getMonth()-1);a.getMonth()===c.getMonth()&&a.getFullYear()===c.getFullYear()?(b=b.getDay()+ub(n.getFullYear(),n.getMonth()),k=a.getDate()+b-1):a.getMonth()===e.getMonth()&&a.getFullYear()===
e.getFullYear()?k=b.getDay()-Ia(a,n):a.getMonth()===n.getMonth()&&a.getFullYear()===n.getFullYear()&&(b=b.getDay(),k=a.getDate()+b-1);0<k&&(g=ba("calendar-day-"+k));return g}function hb(a,b){a.to<new Date&&(b.className+=" expired");F(a.color)?(b.style.backgroundColor=a.color,F(a.colorText)&&(b.style.color=a.colorText),F(a.colorBorder)&&(b.style.borderLeftColor=a.colorBorder)):a.isAllDayEvent&&(b.className+=" all-day-event")}function Bc(a){W=f("div");W.className="full-day-view";a.appendChild(W);var b=
f("div");b.className="title-bar";W.appendChild(b);d.fullScreenModeEnabled&&(b.ondblclick=function(){cb(a)});Ma=f("div");Ma.className="title";b.appendChild(Ma);var c=f("div");c.className="ib-close";c.ondblclick=r;b.appendChild(c);t(c,d.closeTooltipText);c.onclick=function(){Gb(W);ib=null};d.manualEditingEnabled&&(c=f("div"),c.className="ib-plus",c.onclick=db,c.ondblclick=r,b.appendChild(c),t(c,d.addEventTooltipText));d.exportEventsEnabled&&(la=f("div"),la.className="ib-arrow-down-full-line",la.ondblclick=
r,b.appendChild(la),t(la,d.exportEventsTooltipText),la.onclick=function(){eb(Hb)});Na=f("div");Na.className="contents custom-scroll-bars";W.appendChild(Na)}function Ib(a){Jb(W);Ma.innerText="";Na.innerHTML="";ib=a;Hb=[];ma(Ma,a,!1,!0,!0);var b=[];bb(function(g){for(var k=Ia(g.from,g.to)+1,l=new Date(g.from),m=0;m<k;m++)l.getFullYear()===a.getFullYear()&&l.getMonth()===a.getMonth()&&l.getDate()===a.getDate()&&b.push(g),l.setDate(l.getDate()+1)});b=Ga(b);for(var c=b.length,e=0;e<c;e++)Uc(b[e]);d.exportEventsEnabled&&
(la.style.display=0===b.length?"none":"inline-block")}function Uc(a){var b=f("div");b.className=d.manualEditingEnabled?"event":"event-no-hover";Na.appendChild(b);var c=f("div");c.className="title";c.innerHTML=a.title;b.appendChild(c);c=f("div");c.className="date";b.appendChild(c);a.from.getDate()===a.to.getDate()?c.innerHTML=a.isAllDayEvent?d.allDayEventText:La(a.from,a.to):jb(c,a.from,a.to);hb(a,b);F(a.location)&&(c=f("div"),c.className="location",c.innerHTML=a.location,b.appendChild(c));F(a.description)&&
(c=f("div"),c.className="description",c.innerHTML=a.description,b.appendChild(c));d.manualEditingEnabled&&(b.onclick=function(){ka(a)});Hb.push(a)}function zc(a){X=f("div");X.className="list-all-events-view";a.appendChild(X);var b=f("div");b.className="title-bar";X.appendChild(b);d.fullScreenModeEnabled&&(b.ondblclick=function(){cb(a)});var c=f("div");c.className="title";c.innerHTML=d.allEventsText;b.appendChild(c);c=f("div");c.className="ib-close";c.ondblclick=r;b.appendChild(c);t(c,d.closeTooltipText);
c.onclick=function(){Gb(X)};d.manualEditingEnabled&&(c=f("div"),c.className="ib-plus",c.onclick=db,c.ondblclick=r,b.appendChild(c),t(c,d.addEventTooltipText));d.exportEventsEnabled&&(za=f("div"),za.className="ib-arrow-down-full-line",za.ondblclick=r,b.appendChild(za),t(za,d.exportEventsTooltipText),za.onclick=function(){eb()});Oa=f("div");Oa.className="contents custom-scroll-bars";X.appendChild(Oa)}function dc(){Jb(X);Oa.innerHTML="";for(var a=Ga(ab()),b=a.length,c=0;c<b;c++){var e=a[c],g=e.from,
k="month-"+g.getMonth()+"-"+g.getFullYear(),l=ba(k);if(null===l){var m=f("div");m.className="month";Oa.appendChild(m);l=f("div");l.className="header";l.innerHTML=d.monthNames[g.getMonth()]+" "+g.getFullYear();m.appendChild(l);l=f("div");l.id=k;l.className="events";m.appendChild(l)}Vc(e,l)}}function Vc(a,b){var c=f("div");c.className=d.manualEditingEnabled?"event":"event-no-hover";b.appendChild(c);var e=f("div");e.className="title";e.innerHTML=a.title;c.appendChild(e);e=f("div");e.className="date";
c.appendChild(e);a.from.getDate()===a.to.getDate()?a.isAllDayEvent?kb(e,a.from,null," - "+d.allDayEventText):kb(e,a.from,null," - "+La(a.from,a.to)):jb(e,a.from,a.to);hb(a,c);F(a.location)&&(e=f("div"),e.className="location",e.innerHTML=a.location,c.appendChild(e));F(a.description)&&(e=f("div"),e.className="description",e.innerHTML=a.description,c.appendChild(e));d.manualEditingEnabled&&(c.onclick=function(){ka(a)})}function Ac(a){Y=f("div");Y.className="list-all-week-events-view";a.appendChild(Y);
var b=f("div");b.className="title-bar";Y.appendChild(b);d.fullScreenModeEnabled&&(b.ondblclick=function(){cb(a)});G=f("div");G.className="title";b.appendChild(G);var c=f("div");c.className="ib-close";c.ondblclick=r;b.appendChild(c);t(c,d.closeTooltipText);c.onclick=function(){Gb(Y)};d.manualEditingEnabled&&(c=f("div"),c.className="ib-plus",c.onclick=db,c.ondblclick=r,b.appendChild(c),t(c,d.addEventTooltipText));d.exportEventsEnabled&&(na=f("div"),na.className="ib-arrow-down-full-line",na.ondblclick=
r,b.appendChild(na),t(na,d.exportEventsTooltipText),na.onclick=function(){eb(lb)});Pa=f("div");Pa.className="contents custom-scroll-bars";Y.appendChild(Pa)}function Cb(a){Jb(Y);Pa.innerHTML="";lb=[];ic=a;a=h(a)?a:new Date;var b=0===a.getDay()?7:a.getDay();b=a.getDate()-b+1;var c=b+6,e=new Date(a);a=new Date(a);e.setDate(b);e.setHours(0,0,0,0);a.setDate(c);a.setHours(23,59,59,99);b=[e,a];a=b[0];b=b[1];G.innerHTML="";a.getFullYear()===b.getFullYear()?(ma(G,a,!1,!1),c=f("span"),c.innerHTML=" - ",G.appendChild(c),
ma(G,b,!1,!1),c=f("span"),c.innerHTML=", "+a.getFullYear(),G.appendChild(c)):(ma(G,a,!1,!0),c=f("span"),c.innerHTML=" - ",G.appendChild(c),ma(G,b,!1,!0));c=Ga(ab());e=c.length;for(var g=0;g<e;g++){for(var k=c[g],l=Ia(k.from,k.to)+1,m=new Date(k.from),p=!1,mb=0;mb<l;mb++){if(m>=a&&m<=b){p=m;var Aa=jc(p),kc="day-"+Aa,K=ba(kc);if(null===K){var nb=f("div");nb.className="day";Pa.appendChild(nb);K=f("div");K.className="header";nb.appendChild(K);kb(K,p,d.dayNames[Aa]+", ");K=f("div");K.id=kc;K.className=
"events";nb.appendChild(K)}Wc(k,K);p=!0}m.setDate(m.getDate()+1)}p&&lb.push(k)}d.exportEventsEnabled&&(na.style.display=0===lb.length?"none":"inline-block")}function Wc(a,b){var c=f("div");c.className=d.manualEditingEnabled?"event":"event-no-hover";b.appendChild(c);var e=f("div");e.className="title";e.innerHTML=a.title;c.appendChild(e);e=f("div");e.className="date";c.appendChild(e);a.from.getDate()===a.to.getDate()?e.innerHTML=a.isAllDayEvent?d.allDayEventText:La(a.from,a.to):jb(e,a.from,a.to);hb(a,
c);F(a.location)&&(e=f("div"),e.className="location",e.innerHTML=a.location,c.appendChild(e));F(a.description)&&(e=f("div"),e.className="description",e.innerHTML=a.description,c.appendChild(e));d.manualEditingEnabled&&(c.onclick=function(){ka(a)})}function jc(a){return 0>a.getDay()-1?6:a.getDay()-1}function La(a,b){return Kb(a)+" "+d.toTimeText+" "+Kb(b)}function Kb(a){return A(a.getHours())+":"+A(a.getMinutes())}function jb(a,b,c){a.innerHTML="";var e=f("span");e.innerText=d.startsOnText+" ";a.appendChild(e);
ma(a,b);b=f("span");b.innerText=" "+d.andFinishesOnText+" ";a.appendChild(b);ma(a,c)}function ma(a,b,c,e,g){c=h(c)?c:!0;e=h(e)?e:!0;if(g=h(g)?g:!1){g=jc(b);var k=f("span");k.innerText=d.dayNames[g]+", ";a.appendChild(k)}kb(a,b);g=f("span");g.innerText=" "+d.monthNames[b.getMonth()];a.appendChild(g);e&&(e=f("span"),e.innerText=" "+b.getFullYear(),a.appendChild(e));c&&(c=f("span"),c.innerText=" "+Kb(b),a.appendChild(c))}function kb(a,b,c,e){if(h(c)){var g=f("span");g.innerText=c;a.appendChild(g)}c=
f("span");c.innerText=b.getDate();a.appendChild(c);d.showDayNumberOrdinals&&(c=f("sup"),c.innerText=lc(b.getDate()),a.appendChild(c));h(e)&&(b=f("span"),b.innerText=e,a.appendChild(b))}function vb(a,b,c,e,g){var k=new Date;k=a===k.getDate()&&e===k.getFullYear()&&c===k.getMonth();b=ba("calendar-day-"+b);var l=f("span"),m=new Date(e,c,a);b.innerHTML="";l.className=g?"day-muted":"";l.className+=k?" today":"";l.innerText=a;if(6===m.getDay()||0===m.getDay())b.className+=" weekend-day";b.oncontextmenu=
function(p){ob=m;qa();r(p);mc(p,z)};d.showDayNumberOrdinals&&(g=f("sup"),g.innerText=lc(a),l.appendChild(g));b.appendChild(l);d.fullDayViewEnabled&&(g=f("div"),g.className="expand-day",b.appendChild(g),t(g,d.expandDayTooltipText),g.onclick=function(){Ib(m)});d.manualEditingEnabled&&(b.ondblclick=function(){ka(null,m)},d.manualEditingEnabled&&(b.ondragover=function(p){r(p)},b.ondrop=function(p){r(p);if(null!==v){p=Ia(v.from,v.to);var mb=new Date(e,c,a,v.from.getHours(),v.from.getMinutes()),Aa=new Date(e,
c,a,v.to.getHours(),v.to.getMinutes());0<p&&Aa.setDate(Aa.getDate()+p);Qa.updateEvent(v.id,{from:mb,to:Aa,title:v.title,description:v.description,location:v.location,isAllDayEvent:v.isAllDayEvent,color:v.color,colorText:v.colorText,colorBorder:v.colorBorder})}}))}function ub(a,b){return(new Date(a,b+1,0)).getDate()}function lc(a){var b=d.thText;if(31===a||21===a||1===a)b=d.stText;else if(22===a||2===a)b=d.ndText;else if(23===a||3===a)b=d.rdText;return b}function Oc(){z=f("div");z.className="calendar-drop-down-menu";
q.body.appendChild(z);var a=f("div");a.className="item";a.innerHTML=d.addEventTitle;z.appendChild(a);a.onclick=function(){ka(null,ob)};a=f("div");a.className="separator";z.appendChild(a);a=f("div");a.className="item";a.innerHTML=d.expandDayTooltipText;z.appendChild(a);a.onclick=function(){Ib(ob)};a=f("div");a.className="separator";z.appendChild(a);a=f("div");a.className="item";a.innerHTML=d.listWeekEventsTooltipText;z.appendChild(a);a.onclick=function(){Cb(ob)}}function Eb(){return null!==z&&"block"===
z.style.display}function fa(a,b){try{a.type=b}catch(c){a.type="text"}}function db(){ka(null,ib)}function wb(){var a=!1;Da.checked&&(C.value=H.value,I.value="00:00",J.value="23:59",a=!0);C.disabled=a;I.disabled=a;J.disabled=a}function ka(a,b){pb(q.body,M);da.style.display="block";ta.style.display="none";P.focus();if(h(a))Q.value=d.updateText,R.style.display="block",Ca.innerHTML=d.editEventTitle,B=a,H.value=qb(a.from,H.type),I.value=rb(a.from),C.value=qb(a.to,C.type),J.value=rb(a.to),Da.checked=a.isAllDayEvent,
P.value=L(a.title),sa.value=L(a.description),ra.value=L(a.location),ua.value=L(a.color,"#484848"),va.value=L(a.colorText,"#F5F5F5"),wa.value=L(a.colorBorder,"#282828");else{var c=new Date,e=h(b)?b:c,g=new Date;e.getDate()===g.getDate()&&e.getFullYear()===g.getFullYear()&&e.getMonth()===g.getMonth()&&(e.setHours(c.getHours()),e.setMinutes(c.getMinutes()));Q.value=d.addText;R.style.display="none";Ca.innerHTML=d.addEventTitle;B={};H.value=qb(e,H.type);I.value=rb(e);C.value=qb(e,C.type);J.value=rb(e);
Da.checked=!1;P.value="";sa.value="";ra.value="";ua.value="#484848";va.value="#F5F5F5";wa.value="#282828"}wb()}function Ec(){var a=nc(H),b=nc(C),c=I.value.split(":"),e=J.value.split(":"),g=Lb(P.value),k=Lb(sa.value),l=Lb(ra.value);2>c.length?sb(d.fromTimeErrorMessage,I):2>e.length?sb(d.toTimeErrorMessage,J):b<a?sb(d.toSmallerThanFromErrorMessage,C):""===g?sb(d.titleErrorMessage,P):(xb(),oc(a,I.value),oc(b,J.value),a={from:a,to:b,title:g,description:k,location:l,isAllDayEvent:Da.checked,color:B.color,
colorText:B.colorText,colorBorder:B.colorBorder},h(B.id)?Qa.updateEvent(B.id,a,!1):Qa.addEvent(a,!1),ca(),Mb())}function oc(a,b){var c=0,e=0,g=b.split(":");if(2===g.length){var k=parseInt(g[0]);g=parseInt(g[1]);!isNaN(k)&&2>=k.toString().length&&(c=k);!isNaN(g)&&2>=g.toString().length&&(e=g)}a.setHours(c);a.setMinutes(e)}function nc(a){var b=new Date;if("date"===a.type)b=new Date(a.value);else if(a=a.value.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/))a=new Date(a[3],a[2]-1,a[1]),a instanceof Date&&!isNaN(a)&&
(b=a);return b}function xb(){da.style.display="none";tb(q.body,M)}function Fc(){ea.style.display="block";var a=function(){ea.style.display="none"};Xc(d.confirmEventRemoveTitle,d.confirmEventRemoveMessage,function(){a();xb();h(B.id)&&(Qa.removeEvent(B.id,!0),Mb())},a)}function qb(a,b){var c=("0"+a.getDate()).slice(-2),e=("0"+(a.getMonth()+1)).slice(-2);return"date"===b?a.getFullYear()+"-"+e+"-"+c:c+"/"+e+"/"+a.getFullYear()}function rb(a){return A(a.getHours())+":"+A(a.getMinutes())}function A(a){a=
a.toString();return 1===a.length?"0"+a:a}function sb(a,b){ta.innerHTML=a;ta.style.display="block";b.focus()}function Lb(a){return a.replace(/^\s+|\s+$/g,"")}function Mb(){Ra(W)&&Ib(ib);Ra(X)&&dc();Ra(Y)&&Cb(ic)}function Gc(){Sb();B.color=ua.value;B.colorText=va.value;B.colorBorder=wa.value}function Sb(){S.style.display="none";ea.style.display="none"}function Dc(){S.style.display="block";ea.style.display="block"}function Xc(a,b,c,e){T.style.display="block";Wa.innerHTML=a;Xa.innerHTML=b;ha.onclick=
pc;ia.onclick=pc;ha.addEventListener("click",c);Db(e)&&ia.addEventListener("click",e)}function pc(){T.style.display="none"}function eb(a){pb(q.body,M);U.style.display="block";Sa=a;yb.checked=!0}function Wb(){tb(q.body,M);U.style.display="none"}function Hc(){Wb();yb.checked?Ta(Sa,"csv"):Tb.checked?Ta(Sa,"xml"):Ub.checked?Ta(Sa,"json"):Vb.checked&&Ta(Sa,"text")}function Ic(a){Ua||(Ua=!0,qc=a.pageX-x.offsetLeft,rc=a.pageY-x.offsetTop)}function Nc(a){Ua&&(x.style.left=a.pageX-qc+"px",x.style.top=a.pageY-
rc+"px")}function Jc(){Ua&&(Ua=!1)}function zb(){V.disabled=!0;N.disabled=""===D.value;oa=[];Z=0}function Pc(){oa=[];x.style.display="block";D.value="";D.focus();zb()}function Kc(){x.style.display="none"}function Mc(){0<Z&&(Z--,sc(),O(oa[Z].from))}function Lc(a){13!==a.keyCode||N.disabled||Yb()}function Yb(){if(0===oa.length){var a=Xb.checked,b=a?D.value:D.value.toLowerCase(),c={};bb(function(e){var g=a?e.title:e.title.toLowerCase(),k=a?e.description:e.description.toLowerCase();if(-1<g.indexOf(b)||
-1<k.indexOf(b))g=e.from.getMonth()+"-"+e.from.getFullYear(),c.hasOwnProperty(g)||(oa.push(e),c[g]=!0)})}else Z++;sc();O(oa[Z].from)}function sc(){V.disabled=0===Z;N.disabled=Z===oa.length-1}function hc(a,b,c){r(a);null!==aa&&(clearTimeout(aa),aa=null);Ab();"block"!==u.style.display&&(aa=setTimeout(function(){q.body.contains(M)||fb()||Eb()||(c=h(c)?c:"",u.className=""===c?"calendar-tooltip-event":"calendar-tooltip",""!==c?u.innerHTML=c:(u.innerHTML="",u.appendChild(Za),u.appendChild(Ea),Za.innerHTML=
b.title,F(b.location)?(ya.innerHTML=b.location,pb(u,ya)):(ya.innerHTML="",tb(u,ya)),F(b.description)?(xa.innerHTML=b.description,pb(u,xa)):(xa.innerHTML="",tb(u,xa)),b.from.getDate()===b.to.getDate()?Ea.innerHTML=b.isAllDayEvent?d.allDayEventText:La(b.from,b.to):jb(Ea,b.from,b.to)),mc(a,u))},d.eventTooltipDelay))}function Ab(){null!==aa&&(clearTimeout(aa),aa=null);tc()&&(u.style.display="none")}function tc(){return null!==aa||null!==u&&"block"===u.style.display}function t(a,b){a.onmousemove=function(c){hc(c,
null,b)}}function Tc(){null===Ka&&0<d.autoRefreshTimerDelay&&(Ka=setInterval(function(){Bb()},d.autoRefreshTimerDelay))}function Bb(){tc()||q.body.contains(M)||fb()||Eb()||(Mb(),ca())}function Jb(a){Ra(a)||(a.className+=" overlay-shown")}function Gb(a){Ra(a)&&(a.className=a.className.replace(" overlay-shown",""))}function Ra(a){return-1<a.className.indexOf("overlay-shown")}function f(a){a=a.toLowerCase();var b="text"===a;Nb.hasOwnProperty(a)||(Nb[a]=b?q.createTextNode(""):q.createElement(a));return Nb[a].cloneNode(!1)}
function ba(a){Ba.hasOwnProperty(a)&&null!==Ba[a]||(Ba[a]=q.getElementById(a));q.body.contains(Ba[a])||(Ba[a]=q.getElementById(a));return Ba[a]}function pb(a,b){try{a.contains(b)||a.appendChild(b)}catch(c){console.warn(c.message)}}function tb(a,b){try{a.contains(b)&&a.removeChild(b)}catch(c){console.warn(c.message)}}function r(a){a.preventDefault();a.cancelBubble=!0}function mc(a,b){var c=a.pageX,e=a.pageY;b.style.display="block";c+b.offsetWidth>$a.innerWidth?c-=b.offsetWidth:c++;e+b.offsetHeight>
$a.innerHeight?e-=b.offsetHeight:e++;b.style.left=c+"px";b.style.top=e+"px"}function Ya(a,b,c){var e=f("div");a.appendChild(e);a=f("label");a.className="radioButton";a.innerText=b;e.appendChild(a);b=f("input");b.type="radio";b.name=c;a.appendChild(b);c=f("span");c.className="check-mark";a.appendChild(c);return b}function Rb(a,b,c){var e=f("div");a.appendChild(e);a=f("label");a.className="checkbox";a.innerText=b;e.appendChild(a);b=f("input");b.type="checkbox";a.appendChild(b);h(c)&&(b.onchange=c);
c=f("span");c.className="check-mark";a.appendChild(c);return b}function h(a){return void 0!==a&&null!==a&&""!==a}function Db(a){return h(a)&&"function"===typeof a}function uc(a){return h(a)&&"string"===typeof a}function F(a){return uc(a)&&""!==a}function Ta(a,b){b=h(b)?b.toLowerCase():"csv";var c="";var e=[];e=h(a)?e.concat(a):ab();e=Ga(e);if("csv"===b){var g=[d.fromText,d.toText,d.isAllDayEventText,d.titleText,d.descriptionText,d.locationText],k=g.length;c=[];for(var l=[],m=0;m<k;m++)c.push(pa(g[m]));
l.push(c.join(","));g=e.length;for(k=0;k<g;k++){c=l;m=e[k];var p=[];p.push(pa(Ob(m.from)));p.push(pa(Ob(m.to)));p.push(pa(m.isAllDayEvent?d.yesText:d.noText));p.push(pa(L(m.title)));p.push(pa(L(m.description)));p.push(pa(L(m.location)));c.push(p.join(","))}c=l.join("\n")}else if("xml"===b){g=[];g.push('<?xml version="1.0" ?>');g.push("<Events>");k=e.length;for(c=0;c<k;c++){m=e[c];g.push("<Event>");for(l in m)m.hasOwnProperty(l)&&(p=vc(l),g.push("<"+p+">"+Pb(m[l])+"</"+p+">"));g.push("</Event>")}g.push("</Events>");
c=g.join("\n")}else if("json"===b){l=[];l.push("{");l.push('"events:": [');k=e.length;for(c=0;c<k;c++){m=e[c];l.push("{");for(g in m)m.hasOwnProperty(g)&&l.push('"'+g+'":"'+Pb(m[g])+'",');m=l[l.length-1];l[l.length-1]=m.substring(0,m.length-1);l.push("},")}l[l.length-1]="}";l.push("]");l.push("}");c=l.join("\n")}else if("text"===b){l=[];g=e.length;for(c=0;c<g;c++){m=e[c];for(k in m)m.hasOwnProperty(k)&&l.push(vc(k)+": "+Pb(m[k]));l.push("")}l.pop();c=l.join("\n")}""!==c&&(e=f("a"),g="text"===b?"plain":
b,l="text"===b?"txt":b,e.style.display="none",e.setAttribute("target","_blank"),e.setAttribute("href","data:text/"+g+";charset=utf-8,"+encodeURIComponent(c)),g=e.setAttribute,c=new Date,k=A(c.getDate())+"-"+A(c.getMonth())+"-"+c.getFullYear(),c=A(c.getHours())+"-"+A(c.getMinutes()),g.call(e,"download",d.exportStartFilename+k+"_"+c+"."+l),q.body.appendChild(e),e.click(),q.body.removeChild(e),Ja("onEventsExported"))}function Ob(a){var b=A(a.getDate())+"/"+A(a.getMonth())+"/"+a.getFullYear();a=A(a.getHours())+
":"+A(a.getMinutes());return b+" "+a}function L(a,b){b=h(b)?b:"";return uc(a)?a:b}function vc(a){return a.charAt(0).toUpperCase()+a.slice(1)}function Pb(a){var b=L(a);"boolean"===typeof a?b=a?d.yesText:d.noText:"object"===typeof a&&(b=Ob(a));return b}function pa(a){a=a.replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ");a=a.replace(/"/g,'""');return'"'+a+'"'}function ac(){var a=new Date(n);a.setMonth(a.getMonth()-1);a.setDate(1);O(a);Ja("onPreviousMonth")}function cc(){var a=new Date(n);a.setMonth(a.getMonth()+
1);a.setDate(1);O(a);Ja("onNextMonth")}function bc(){var a=new Date;if(n.getMonth()!==a.getMonth()||n.getFullYear()!==a.getFullYear())O(),Ja("onToday")}var d={},Qa=this,n,Nb={},Ba={},q=null,$a=null,Qb=null,Va=!1,Zb=!1,E={},Ka=null,v=null,fc=null,w=null,Fa=null,y=null,Ha=null,ja=null,M=null,da=null,ea=null,Ca=null,H=null,I=null,C=null,J=null,Da=null,P=null,sa=null,ra=null,ta=null,B={},Q=null,R=null,S=null,ua=null,va=null,wa=null,W=null,Ma=null,Na=null,ib=null,Hb=[],la=null,X=null,za=null,Oa=null,Y=
null,G=null,na=null,Pa=null,lb=[],ic=null,T=null,Wa=null,Xa=null,ha=null,ia=null,U=null,yb=null,Tb=null,Ub=null,Vb=null,Sa=null,u=null,Za=null,Ea=null,xa=null,ya=null,aa=null,z=null,ob=null,x=null,D=null,Xb=null,V=null,N=null,Ua=!1,qc=0,rc=0,oa=[],Z=0;this.moveToPreviousMonth=function(){ac()};this.moveToNextMonth=function(){cc()};this.moveToToday=function(){bc()};this.exportAllEvents=function(a){d.exportEventsEnabled&&(a=h(a)?a:"csv",Ta(null,a))};this.refresh=function(){Bb()};this.addEvents=function(a,
b,c){b=h(b)?b:!0;c=h(c)?c:!0;for(var e=a.length,g=0;g<e;g++)this.addEvent(a[g],!1,!1);c&&gb("onEventAdded",a);b&&ca()};this.addEvent=function(a,b,c){var e=!1;if(a.from<=a.to){var g=a.from;g=g.getFullYear()+"-"+g.getMonth()+"-"+g.getDate();var k=ec();E.hasOwnProperty(g)||(E[g]={});E[g].hasOwnProperty(k)||(b=h(b)?b:!0,c=h(c)?c:!0,h(a.id)?k=a.id:a.id=k,E[g][k]=$b(a),e=!0,c&&gb("onEventAdded",a),b&&ca())}return e};this.updateEvent=function(a,b,c,e){if(a=this.removeEvent(a,!1,!1))c=h(c)?c:!0,e=h(e)?e:
!0,b.id=ec(),(a=this.addEvent(b,c,!1))&&e&&gb("onEventUpdated",b);return a};this.removeEvent=function(a,b,c){var e=!1;bb(function(g,k,l){if(l===a)return b=h(b)?b:!0,c=h(c)?c:!0,delete E[k][l],e=!0,c&&gb("onEventRemoved",g),b&&ca(),!0});return e};this.clearEvents=function(a){a=h(a)?a:!0;E={};Ja("onEventsCleared");a&&ca()};this.setOptions=function(a){d=null!==a&&"object"===typeof a?a:{};h(d.previousMonthTooltipText)||(d.previousMonthTooltipText="Previous Month");h(d.nextMonthTooltipText)||(d.nextMonthTooltipText=
"Next Month");h(d.addEventTooltipText)||(d.addEventTooltipText="Add Event");h(d.closeTooltipText)||(d.closeTooltipText="Close");h(d.exportEventsTooltipText)||(d.exportEventsTooltipText="Export Events");h(d.todayTooltipText)||(d.todayTooltipText="Today");h(d.refreshTooltipText)||(d.refreshTooltipText="Refresh");h(d.searchTooltipText)||(d.searchTooltipText="Search");h(d.expandDayTooltipText)||(d.expandDayTooltipText="Expand Day");h(d.listAllEventsTooltipText)||(d.listAllEventsTooltipText="View All Events");
h(d.listWeekEventsTooltipText)||(d.listWeekEventsTooltipText="View Current Week Events");h(d.dayHeaderNames)||(d.dayHeaderNames="Mo Tu We Th Fr Sa Su".split(" "));h(d.dayNames)||(d.dayNames="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "));h(d.fromText)||(d.fromText="From:");h(d.toText)||(d.toText="To:");h(d.isAllDayEventText)||(d.isAllDayEventText="Is All Day Event");h(d.titleText)||(d.titleText="Title:");h(d.descriptionText)||(d.descriptionText="Description:");h(d.locationText)||
(d.locationText="Location:");h(d.addText)||(d.addText="Add");h(d.updateText)||(d.updateText="Update");h(d.cancelText)||(d.cancelText="Cancel");h(d.removeEventText)||(d.removeEventText="Remove Event");h(d.addEventTitle)||(d.addEventTitle="Add Event");h(d.editEventTitle)||(d.editEventTitle="Edit Event");h(d.monthNames)||(d.monthNames="January February March April May June July August September October November December".split(" "));h(d.showDayNumberOrdinals)||(d.showDayNumberOrdinals=!0);h(d.dragAndDropForEventsEnabled)||
(d.dragAndDropForEventsEnabled=!0);h(d.exportStartFilename)||(d.exportStartFilename="exported_events_");h(d.fromTimeErrorMessage)||(d.fromTimeErrorMessage="Please select a valid 'From' time.");h(d.toTimeErrorMessage)||(d.toTimeErrorMessage="Please select a valid 'To' time.");h(d.toSmallerThanFromErrorMessage)||(d.toSmallerThanFromErrorMessage="Please select a 'To' date that is larger than the 'From' date.");h(d.titleErrorMessage)||(d.titleErrorMessage="Please enter a value in the 'Title' field (no empty space).");
h(d.stText)||(d.stText="st");h(d.ndText)||(d.ndText="nd");h(d.rdText)||(d.rdText="rd");h(d.thText)||(d.thText="th");h(d.fullDayViewEnabled)||(d.fullDayViewEnabled=!0);h(d.maximumEventsPerDayDisplay)||(d.maximumEventsPerDayDisplay=3);h(d.yesText)||(d.yesText="Yes");h(d.noText)||(d.noText="No");h(d.extraSelectableYearsAhead)||(d.extraSelectableYearsAhead=51);h(d.allDayEventText)||(d.allDayEventText="All Day Event");h(d.allEventsText)||(d.allEventsText="All Events");h(d.exportEventsEnabled)||(d.exportEventsEnabled=
!0);h(d.manualEditingEnabled)||(d.manualEditingEnabled=!0);h(d.showTimesInMainCalendarEvents)||(d.showTimesInMainCalendarEvents=!1);h(d.startsOnText)||(d.startsOnText="Starts on the");h(d.andFinishesOnText)||(d.andFinishesOnText="and finishes on the");h(d.toTimeText)||(d.toTimeText="to");h(d.autoRefreshTimerDelay)||(d.autoRefreshTimerDelay=5E3);h(d.confirmEventRemoveTitle)||(d.confirmEventRemoveTitle="Confirm Event Removal");h(d.confirmEventRemoveMessage)||(d.confirmEventRemoveMessage="Removing this event cannot be undone.  Do you want to continue?");
h(d.okText)||(d.okText="OK");h(d.selectExportTypeTitle)||(d.selectExportTypeTitle="Select Export Type");h(d.fullScreenModeEnabled)||(d.fullScreenModeEnabled=!0);h(d.eventTooltipDelay)||(d.eventTooltipDelay=1E3);h(d.selectColorsText)||(d.selectColorsText="Select Colors");h(d.backgroundColorText)||(d.backgroundColorText="Background Color:");h(d.textColorText)||(d.textColorText="Text Color:");h(d.borderColorText)||(d.borderColorText="Border Color:");h(d.searchEventsTitle)||(d.searchEventsTitle="Search Events");
h(d.forText)||(d.forText="For:");h(d.previousText)||(d.previousText="Previous");h(d.nextText)||(d.nextText="Next");h(d.matchCaseText)||(d.matchCaseText="Match Case");h(d.minimumDayHeight)||(d.minimumDayHeight=0);Va&&(Va=!1,O(n))};(function(a,b){q=a;$a=b;Qb=wc;Qa.setOptions(xc);O(yc)})(document,window)};