function calendarJs(ib,jb,kb){function Y(a){n=k(a)?a:new Date;var b=(new Date(n.getFullYear(),n.getMonth(),1)).getDay();a=Ea(n.getFullYear(),n.getMonth());0===b&&(b=7);pa();if(!Ta){var d=P(Ua);d.className="calendar";lb(d);mb(d);nb(d);ob(d);pb();var e=f("div"),g=c.dayHeaderNames.length;e.className="row header-days";d.appendChild(e);for(var h=0;h<g;h++){var p=c.dayHeaderNames[h],m=f("div");m.className="cell";m.innerHTML=p;e.appendChild(m)}for(e=0;6>e;e++)for(g=f("div"),g.className="row",d.appendChild(g),
h=0;7>h;h++)p=7*e+(h+1),m=f("div"),m.className="cell",m.id="calendar-day-"+p,g.appendChild(m);Ta=!0}h=b;if(1<h)for(d=new Date(n),d.setMonth(d.getMonth()-1),e=Ea(d.getFullYear(),d.getMonth()),g=1,h=e-h+1;h<e;h++)Fa(h+1,g,d.getMonth(),d.getFullYear(),!0),g++;for(e=d=0;e<a;e++)d=b+e,Fa(e+1,d,n.getMonth(),n.getFullYear(),!1);if(42>d)for(a=1,b=new Date(n),b.setMonth(b.getMonth()+1),d+=1;43>d;d++)Fa(a,d,b.getMonth(),b.getFullYear(),!0),a++;J();null===Z&&(Z=f("div"),Z.className="disabled-background");null===
K&&(K=f("div"),K.className="calender-event-editor-dialog",q.body.appendChild(K),b=f("div"),b.className="view",K.appendChild(b),aa=f("div"),aa.className="disabled-area",b.appendChild(aa),ba=f("div"),ba.className="title-bar",b.appendChild(ba),a=f("div"),a.className="contents",b.appendChild(a),b=f("p"),b.innerText=c.fromText,a.appendChild(b),b=f("div"),b.className="split",a.appendChild(b),y=f("input"),y.onchange=Ga,b.appendChild(y),qa(y,"date"),z=f("input"),b.appendChild(z),qa(z,"time"),b=f("label"),
b.className="checkbox",b.innerText=c.isAllDayEventText,a.appendChild(b),F=f("input"),F.type="checkbox",F.onchange=Ga,b.appendChild(F),d=f("span"),d.className="check-mark",b.appendChild(d),b=f("p"),b.innerText=c.toText,a.appendChild(b),b=f("div"),b.className="split",a.appendChild(b),A=f("input"),b.appendChild(A),qa(A,"date"),B=f("input"),b.appendChild(B),qa(B,"time"),b=f("p"),b.innerText=c.titleText,a.appendChild(b),L=f("input"),L.type="text",a.appendChild(L),b=f("p"),b.innerText=c.descriptionText,
a.appendChild(b),ca=f("textarea"),a.appendChild(ca),Q=f("p"),Q.className="error",a.appendChild(Q),b=f("div"),b.className="split",a.appendChild(b),G=f("input"),G.className="ok",G.type="button",G.value=c.addText,G.onclick=qb,b.appendChild(G),d=f("input"),d.className="cancel",d.type="button",d.value=c.cancelText,d.onclick=Ha,b.appendChild(d),H=f("input"),H.className="remove",H.type="button",H.value=c.removeEventText,H.onclick=rb,a.appendChild(H));null===I&&(I=f("div"),I.className="calender-confirmation-dialog",
q.body.appendChild(I),ra=f("div"),ra.className="title-bar",I.appendChild(ra),a=f("div"),a.className="contents",I.appendChild(a),sa=f("div"),sa.className="message",a.appendChild(sa),b=f("div"),b.className="split",a.appendChild(b),M=f("input"),M.className="yes",M.type="button",M.value=c.yesText,b.appendChild(M),N=f("input"),N.className="no",N.type="button",N.value=c.noText,b.appendChild(N));ta.innerHTML=c.monthNames[n.getMonth()]+", "+n.getFullYear()+" \u25be"}function ob(a){r=f("div");r.className=
"header-date";a.appendChild(r);a=f("div");a.className="arrow previous-month";a.title=c.previousMonthTooltipText;a.onclick=Va;r.appendChild(a);a=f("div");a.className="today";a.title=c.todayTooltipText;a.onclick=Wa;r.appendChild(a);a=f("div");a.className="refresh";a.title=c.refreshTooltipText;a.onclick=Ia;r.appendChild(a);a=f("div");a.className="arrow next-month";a.title=c.nextMonthTooltipText;a.onclick=Xa;r.appendChild(a);c.manualEditingEnabled&&(a=f("div"),a.className="add-event",a.title=c.addEventTooltipText,
a.onclick=ua,r.appendChild(a));c.exportEventsEnabled&&(R=f("div"),R.className="export-events",R.title=c.exportEventsTooltipText,r.appendChild(R),R.onclick=function(){da()});a=f("div");a.className="list-all-events";a.title=c.listAllEventsTooltipText;a.onclick=Ya;r.appendChild(a);a=f("div");a.className="list-week-events";a.title=c.listWeekEventsTooltipText;a.onclick=Za;r.appendChild(a);ta=f("span");r.appendChild(ta)}function pb(){if(null===w){var a=new Date(1900,1,1),b=(new Date).getFullYear()-a.getFullYear()+
c.extraSelectableYearsAhead;w=f("div");w.className="years-drop-down";r.appendChild(w);var d=f("div");d.className="contents custom-scroll-bars";w.appendChild(d);for(var e=0;e<b;e++)sb(d,a.getFullYear()),a.setFullYear(a.getFullYear()+1);ta.onclick=function(g){"block"!==w.style.display&&(g.preventDefault(),g.cancelBubble=!0,w.style.display="block")};q.body.onclick=pa;$a.onresize=pa}}function sb(a,b){var d=f("div");d.innerText=b.toString();a.appendChild(d);d.onclick=function(){n.setFullYear(b);Y(n);pa()}}
function ea(a){a.isAllDayEvent&&(a.from=new Date(a.from.getFullYear(),a.from.getMonth(),a.from.getDate(),0,0),a.to=new Date(a.from.getFullYear(),a.from.getMonth(),a.from.getDate(),23,59));return a}function fa(a,b){var d=new Date(a.getFullYear(),a.getMonth(),a.getDate()),e=new Date(b.getFullYear(),b.getMonth(),b.getDate());return Math.ceil(Math.abs(e-d)/864E5)}function pa(){null!==w&&"none"!==w.style.display&&(w.style.display="none")}function ha(a){if(null!==c&&Ja(c[a]))c[a]()}function va(a,b){if(null!==
c&&Ja(c[a]))c[a](b)}function ab(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var d=Math.floor(16*Math.random()).toString(16);a.push(d)}return a.join("")}function J(){tb();bb();for(var a in l)if(l.hasOwnProperty(a)){var b=[],d;for(d in l[a])l[a].hasOwnProperty(d)&&b.push(ea(l[a][d]));b.sort(function(p,m){return p.from-m.from});for(var e=b.length,g=0;g<e;g++){var h=b[g];null!==Ka(h.from)&&ub(h)}b=[]}vb();cb()}function ub(a){db(a.from,a);if(a.from.getDate()!==a.to.getDate()){var b=
fa(a.from,a.to);if(0<b)for(var d=new Date(a.from),e=0;e<b;e++)d.setDate(d.getDate()+1),null!==Ka(d)&&db(d,a)}}function db(a,b){var d=Ka(a);if(null!==d&&d.getElementsByClassName(c.manualEditingEnabled?"event":"event-no-hover").length<c.maximumEventsPerDayDisplay){var e=f("div"),g=b.title;c.showTimesInMainCalendarEvents&&!b.isAllDayEvent&&b.from.getDate()===b.to.getDate()&&(g=wa(b.from,b.to)+": "+g);e.className=c.manualEditingEnabled?"event":"event-no-hover";e.title=g;e.innerHTML=g;d.appendChild(e);
b.to<new Date&&(e.className+=" expired");b.isAllDayEvent&&(e.className+=" all-day-event");c.dragAndDropForEventsEnabled&&c.manualEditingEnabled&&e.setAttribute("draggable",!0);c.manualEditingEnabled&&(e.onclick=function(){S(b)});c.dragAndDropForEventsEnabled&&c.manualEditingEnabled&&(e.ondragstart=function(){t=b})}}function vb(){var a=0,b;for(b in l)if(l.hasOwnProperty(b))for(var d in l[b])if(l[b].hasOwnProperty(d)){a++;break}c.exportEventsEnabled&&(R.style.display=0===a?"none":"block")}function Ka(a){var b=
new Date(n.getFullYear(),n.getMonth(),1),d=new Date(n),e=new Date(n),g=null,h=0;d.setMonth(d.getMonth()+1);e.setMonth(e.getMonth()-1);a.getMonth()===d.getMonth()&&a.getFullYear()===d.getFullYear()?(b=b.getDay()+Ea(n.getFullYear(),n.getMonth()),h=a.getDate()+b-1):a.getMonth()===e.getMonth()&&a.getFullYear()===e.getFullYear()?h=b.getDay()-fa(a,n):a.getMonth()===n.getMonth()&&a.getFullYear()===n.getFullYear()&&(b=b.getDay(),h=a.getDate()+b-1);0<h&&(g=P("calendar-day-"+h));return g}function tb(){for(var a=
0;6>a;a++)for(var b=0;7>b;b++)for(var d=P("calendar-day-"+(7*a+(b+1))).getElementsByClassName(c.manualEditingEnabled?"event":"event-no-hover");d[0];)d[0].parentNode.removeChild(d[0])}function nb(a){if(null===C){C=f("div");C.className="full-day-view";a.appendChild(C);a=f("div");a.className="title-bar";C.appendChild(a);O=f("div");O.className="title";a.appendChild(O);var b=f("div");b.className="close";b.title=c.closeTooltipText;a.appendChild(b);b.onclick=function(){La(C);xa=null};c.manualEditingEnabled&&
(b=f("div"),b.className="add-event",b.title=c.addEventTooltipText,b.onclick=ua,a.appendChild(b));c.exportEventsEnabled&&(T=f("div"),T.className="export-events",T.title=c.exportEventsTooltipText,a.appendChild(T),T.onclick=function(){da(ya)});ia=f("div");ia.className="contents custom-scroll-bars";C.appendChild(ia)}}function eb(a){Ma(C);O.innerText="";ia.innerHTML="";xa=a;ya=[];var b=f("span");b.innerText=a.getDate();O.appendChild(b);c.showDayNumberOrdinals&&(b=f("sup"),b.innerText=Na(a.getDate()),O.appendChild(b));
b=f("span");b.innerText=" "+c.monthNames[a.getMonth()]+" "+a.getFullYear();O.appendChild(b);for(var d in l)if(l.hasOwnProperty(d)){b=[];for(var e in l[d])if(l[d].hasOwnProperty(e))for(var g=ea(l[d][e]),h=fa(g.from,g.to)+1,p=new Date(g.from),m=0;m<h;m++)p.getFullYear()===a.getFullYear()&&p.getMonth()===a.getMonth()&&p.getDate()===a.getDate()&&b.push(g),p.setDate(p.getDate()+1);b.sort(function(v,x){return v.from-x.from});g=b.length;for(h=0;h<g;h++)wb(b[h])}c.exportEventsEnabled&&(T.style.display=0===
ya.length?"none":"block")}function wb(a){var b=f("div");b.className=c.manualEditingEnabled?"event":"event-no-hover";ia.appendChild(b);var d=f("div");d.className="title";d.innerHTML=a.title;b.appendChild(d);d=f("div");d.className="date";b.appendChild(d);a.from.getDate()===a.to.getDate()?d.innerHTML=a.isAllDayEvent?c.allDayEventText:wa(a.from,a.to):Oa(d,a.from,a.to);a.to<new Date&&(b.className+=" expired");a.isAllDayEvent&&(b.className+=" all-day-event");""!==a.description&&(d=f("div"),d.className=
"description",d.innerHTML=a.description,b.appendChild(d));c.manualEditingEnabled&&(b.onclick=function(){S(a)});ya.push(a)}function lb(a){if(null===D){D=f("div");D.className="list-all-events-view";a.appendChild(D);a=f("div");a.className="title-bar";D.appendChild(a);var b=f("div");b.className="title";b.innerHTML=c.allEventsText;a.appendChild(b);b=f("div");b.className="close";b.title=c.closeTooltipText;a.appendChild(b);b.onclick=function(){La(D)};c.manualEditingEnabled&&(b=f("div"),b.className="add-event",
b.title=c.addEventTooltipText,b.onclick=ua,a.appendChild(b));c.exportEventsEnabled&&(ja=f("div"),ja.className="export-events",ja.title=c.exportEventsTooltipText,a.appendChild(ja),ja.onclick=function(){da()});ka=f("div");ka.className="contents custom-scroll-bars";D.appendChild(ka)}}function Ya(){Ma(D);ka.innerHTML="";var a=[];for(d in l)if(l.hasOwnProperty(d))for(var b in l[d])l[d].hasOwnProperty(b)&&a.push(ea(l[d][b]));a.sort(function(h,p){return h.from-p.from});var d=a.length;for(b=0;b<d;b++){var e=
a[b],g=xb(e.from);yb(e,g)}}function yb(a,b){var d=f("div");d.className=c.manualEditingEnabled?"event":"event-no-hover";b.appendChild(d);var e=f("div");e.className="title";e.innerHTML=a.title;d.appendChild(e);e=f("div");e.className="date";d.appendChild(e);a.from.getDate()===a.to.getDate()?a.isAllDayEvent?za(e,a.from,null," - "+c.allDayEventText):za(e,a.from,null," - "+wa(a.from,a.to)):Oa(e,a.from,a.to);a.to<new Date&&(d.className+=" expired");a.isAllDayEvent&&(d.className+=" all-day-event");""!==a.description&&
(e=f("div"),e.className="description",e.innerHTML=a.description,d.appendChild(e));c.manualEditingEnabled&&(d.onclick=function(){S(a)})}function xb(a){var b="month-"+a.getMonth()+"-"+a.getFullYear(),d=P(b);if(null===d){var e=f("div");e.className="month";ka.appendChild(e);d=f("div");d.className="header";d.innerHTML=c.monthNames[a.getMonth()]+" "+a.getFullYear();e.appendChild(d);d=f("div");d.id=b;d.className="events";e.appendChild(d)}return d}function mb(a){if(null===E){E=f("div");E.className="list-all-week-events-view";
a.appendChild(E);a=f("div");a.className="title-bar";E.appendChild(a);var b=f("div");b.className="title";b.innerHTML=c.allWeekEventsText;a.appendChild(b);b=f("div");b.className="close";b.title=c.closeTooltipText;a.appendChild(b);b.onclick=function(){La(E)};c.manualEditingEnabled&&(b=f("div"),b.className="add-event",b.title=c.addEventTooltipText,b.onclick=ua,a.appendChild(b));c.exportEventsEnabled&&(U=f("div"),U.className="export-events",U.title=c.exportEventsTooltipText,a.appendChild(U),U.onclick=
function(){da(Aa)});la=f("div");la.className="contents custom-scroll-bars";E.appendChild(la)}}function Za(){Ma(E);la.innerHTML="";Aa=[];var a=[],b=new Date,d=b.getDate()-b.getDay()+1,e=d+6;d=new Date(b.setDate(d));b=new Date(b.setDate(e));d.setHours(0,0,0,0);b.setHours(0,0,0,0);for(var g in l)if(l.hasOwnProperty(g))for(var h in l[g])l[g].hasOwnProperty(h)&&a.push(ea(l[g][h]));a.sort(function(Pa,zb){return Pa.from-zb.from});g=a.length;for(h=0;h<g;h++){e=a[h];for(var p=fa(e.from,e.to)+1,m=new Date(e.from),
v=!1,x=0;x<p;x++)m>=d&&m<=b&&(v=Ab(m),Bb(e,v),v=!0),m.setDate(m.getDate()+1);v&&Aa.push(e)}c.exportEventsEnabled&&(U.style.display=0===Aa.length?"none":"block")}function Bb(a,b){var d=f("div");d.className=c.manualEditingEnabled?"event":"event-no-hover";b.appendChild(d);var e=f("div");e.className="title";e.innerHTML=a.title;d.appendChild(e);e=f("div");e.className="date";d.appendChild(e);a.from.getDate()===a.to.getDate()?e.innerHTML=a.isAllDayEvent?c.allDayEventText:wa(a.from,a.to):Oa(e,a.from,a.to);
a.to<new Date&&(d.className+=" expired");a.isAllDayEvent&&(d.className+=" all-day-event");""!==a.description&&(e=f("div"),e.className="description",e.innerHTML=a.description,d.appendChild(e));c.manualEditingEnabled&&(d.onclick=function(){S(a)})}function Ab(a){var b=0>a.getDay()-1?6:a.getDay()-1,d="day-"+b,e=P(d);if(null===e){var g=f("div");g.className="day";la.appendChild(g);e=f("div");e.className="header";g.appendChild(e);za(e,a,c.dayNames[b]+", ");e=f("div");e.id=d;e.className="events";g.appendChild(e)}return e}
function wa(a,b){return Qa(a)+" "+c.toTimeText+" "+Qa(b)}function Qa(a){return u(a.getHours())+":"+u(a.getMinutes())}function Oa(a,b,d){var e=f("span");e.innerText=c.startsAtText+" ";a.appendChild(e);fb(a,b);b=f("span");b.innerText=" "+c.andFinishesAtText+" ";a.appendChild(b);fb(a,d)}function fb(a,b,d){d=k(d)?d:!0;za(a,b);var e=f("span");e.innerText=" "+c.monthNames[b.getMonth()]+" "+b.getFullYear();a.appendChild(e);d&&(d=f("span"),d.innerText=" "+Qa(b),a.appendChild(d))}function za(a,b,d,e){if(k(d)){var g=
f("span");g.innerText=d;a.appendChild(g)}d=f("span");d.innerText=b.getDate();a.appendChild(d);c.showDayNumberOrdinals&&(d=f("sup"),d.innerText=Na(b.getDate()),a.appendChild(d));k(e)&&(b=f("span"),b.innerText=e,a.appendChild(b))}function Fa(a,b,d,e,g){var h=new Date;h=a===h.getDate()&&n.getFullYear()===h.getFullYear()&&n.getMonth()===h.getMonth();b=P("calendar-day-"+b);var p=f("span");b.className="cell"+(h?" today":"");b.innerHTML="";p.className=g?"day-muted":"";p.innerText=a;c.showDayNumberOrdinals&&
(g=f("sup"),g.innerText=Na(a),p.appendChild(g));b.appendChild(p);c.fullDayViewEnabled&&(g=f("div"),g.className="expand-day",g.title=c.expandDayTooltipText,b.appendChild(g),g.onclick=function(){eb(new Date(e,d,a))});c.manualEditingEnabled&&(b.ondblclick=function(){S(null,new Date(e,d,a))},c.manualEditingEnabled&&(b.ondragover=function(m){m.preventDefault();m.cancelBubble=!0},b.ondrop=function(m){m.preventDefault();m.cancelBubble=!0;if(null!==t){m=fa(t.from,t.to);var v=new Date(e,d,a,t.from.getHours(),
t.from.getMinutes()),x=new Date(e,d,a,t.to.getHours(),t.to.getMinutes());0<m&&x.setDate(x.getDate()+m);ma.updateEvent(t.id,{from:v,to:x,title:t.title,description:t.description,isAllDayEvent:t.isAllDayEvent})}}))}function Ea(a,b){return(new Date(a,b+1,0)).getDate()}function Na(a){var b=c.thText;if(31===a||21===a||1===a)b=c.stText;else if(22===a||2===a)b=c.ndText;else if(23===a||3===a)b=c.rdText;return b}function qa(a,b){try{a.type=b}catch(d){a.type="text"}}function ua(){S(null,xa)}function Ga(){var a=
!1;F.checked&&(A.value=y.value,z.value="00:00",B.value="23:59",a=!0);A.disabled=a;z.disabled=a;B.disabled=a}function S(a,b){try{q.body.appendChild(Z)}catch(h){console.warn(h.message)}bb();K.style.display="block";Q.style.display="none";y.focus();if(k(a))G.value=c.updateText,H.style.display="block",ba.innerHTML=c.editEventTitle,V=a,y.value=Ba(a.from),z.value=Ca(a.from),A.value=Ba(a.to),B.value=Ca(a.to),F.checked=a.isAllDayEvent,L.value=a.title,ca.value=a.description;else{var d=new Date,e=k(b)?b:d,g=
new Date;e.getDate()===g.getDate()&&e.getFullYear()===g.getFullYear()&&e.getMonth()===g.getMonth()&&(e.setHours(d.getHours()),e.setMinutes(d.getMinutes()));G.value=c.addText;H.style.display="none";ba.innerHTML=c.addEventTitle;V=null;y.value=Ba(e);z.value=Ca(e);A.value=Ba(e);B.value=Ca(e);F.checked=!1;L.value="";ca.value=""}Ga()}function qb(){var a=new Date(y.value),b=new Date(A.value),d=z.value.split(":"),e=B.value.split(":"),g=L.value.replace(/^\s+|\s+$/g,""),h=ca.value.replace(/^\s+|\s+$/g,"");
0>=d.length?Da(c.fromTimeErrorMessage,z):0>=e.length?Da(c.toTimeErrorMessage,B):b<a?Da(c.toSmallerThanFromErrorMessage,A):""===g?Da(c.titleErrorMessage,L):(Ha(),a.setHours(parseInt(d[0])),a.setMinutes(parseInt(d[1])),b.setHours(parseInt(e[0])),b.setMinutes(parseInt(e[1])),a={from:a,to:b,title:g,description:h,isAllDayEvent:F.checked},null!==V?ma.updateEvent(V.id,a,!1):ma.addEvent(a,!1),J(),Ra())}function Ha(){K.style.display="none";try{q.body.removeChild(Z)}catch(a){console.warn(a.message)}cb()}function rb(){aa.style.display=
"block";var a=function(){aa.style.display="none"};Cb(c.confirmEventRemoveTitle,c.confirmEventRemoveMessage,function(){a();Ha();null!==V&&(ma.removeEvent(V.id,!0),Ra())},a)}function Ba(a){var b=("0"+a.getDate()).slice(-2),d=("0"+(a.getMonth()+1)).slice(-2);return a.getFullYear()+"-"+d+"-"+b}function Ca(a){return u(a.getHours())+":"+u(a.getMinutes())}function u(a){a=a.toString();return 1===a.length?"0"+a:a}function Da(a,b){Q.innerHTML=a;Q.style.display="block";b.focus()}function Ra(){na(C)&&eb(xa);
na(D)&&Ya();na(E)&&Za()}function Cb(a,b,d,e){I.style.display="block";ra.innerHTML=a;sa.innerHTML=b;M.onclick=gb;N.onclick=gb;M.addEventListener("click",d);Ja(e)&&N.addEventListener("click",e)}function gb(){I.style.display="none"}function cb(){null===oa&&0<c.autoRefreshTimerDelay&&(oa=setInterval(function(){Ia()},c.autoRefreshTimerDelay))}function bb(){null!==oa&&0<c.autoRefreshTimerDelay&&(clearTimeout(oa),oa=null)}function Ia(){Ra();J()}function Ma(a){na(a)||(a.className+=" overlay-shown")}function La(a){na(a)&&
(a.className=a.className.replace(" overlay-shown",""))}function na(a){return-1<a.className.indexOf("overlay-shown")}function f(a){a=a.toLowerCase();var b="text"===a;Sa.hasOwnProperty(a)||(Sa[a]=b?q.createTextNode(""):q.createElement(a));return Sa[a].cloneNode(!1)}function P(a){W.hasOwnProperty(a)&&null!==W[a]||(W[a]=q.getElementById(a));q.body.contains(W[a])||(W[a]=q.getElementById(a));return W[a]}function k(a){return void 0!==a&&null!==a&&""!==a}function Ja(a){return k(a)&&"function"===typeof a}
function Va(){var a=new Date(n);a.setMonth(a.getMonth()-1);a.setDate(1);Y(a);ha("onPreviousMonth")}function Xa(){var a=new Date(n);a.setMonth(a.getMonth()+1);a.setDate(1);Y(a);ha("onNextMonth")}function Wa(){Y();ha("onToday")}function da(a){for(var b=[c.fromText,c.toText,c.isAllDayEventText,c.titleText,c.descriptionText],d=b.length,e=[],g=[],h=[],p=0;p<d;p++)e.push(X(b[p]));g.push(e.join(","));if(k(a))for(b=a.length,d=0;d<b;d++)h.push(a[d]);else for(var m in l)if(l.hasOwnProperty(m))for(var v in l[m])l[m].hasOwnProperty(v)&&
h.push(l[m][v]);h.sort(function(x,Pa){return x.from-Pa.from});a=h.length;for(b=0;b<a;b++)Db(g,h[b]);g=g.join("\n");h=f("a");h.style.display="none";h.setAttribute("target","_blank");h.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(g));h.setAttribute("download",Eb());q.body.appendChild(h);h.click();q.body.removeChild(h);ha("onEventsExported")}function Db(a,b){var d=[];d.push(X(hb(b.from)));d.push(X(hb(b.to)));d.push(X(b.isAllDayEvent?c.yesText:c.noText));d.push(X(b.title.toString()));
d.push(X(b.description.toString()));a.push(d.join(","))}function Eb(){var a=new Date,b=u(a.getDate())+"-"+u(a.getMonth())+"-"+a.getFullYear();a=u(a.getHours())+"-"+u(a.getMinutes());return c.csvStartFilename+b+"_"+a+".csv"}function X(a){a=a.replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ");a=a.replace(/"/g,'""');return'"'+a+'"'}function hb(a){var b=u(a.getDate())+"/"+u(a.getMonth())+"/"+a.getFullYear();a=u(a.getHours())+":"+u(a.getMinutes());return b+" "+a}var c={},ma=this,n,Sa={},W={},q=null,
$a=null,Ua=null,Ta=!1,l={},oa=null,t=null,r=null,ta=null,w=null,R=null,Z=null,K=null,aa=null,ba=null,y=null,z=null,A=null,B=null,F=null,L=null,ca=null,Q=null,V=null,G=null,H=null,C=null,O=null,ia=null,xa=null,ya=[],T=null,D=null,ja=null,ka=null,E=null,U=null,la=null,Aa=[],I=null,ra=null,sa=null,M=null,N=null;this.moveToPreviousMonth=function(){Va()};this.moveToNextMonth=function(){Xa()};this.moveToToday=function(){Wa()};this.exportAllEvents=function(){c.exportEventsEnabled&&da()};this.refresh=function(){Ia()};
this.addEvents=function(a,b,d){b=k(b)?b:!0;d=k(d)?d:!0;for(var e=a.length,g=0;g<e;g++)this.addEvent(a[g],!1,!1);d&&va("onEventAdded",a);b&&J()};this.addEvent=function(a,b,d){var e=!1;if(a.from<=a.to){var g=a.from;g=g.getFullYear()+"-"+g.getMonth()+"-"+g.getDate();var h=ab();l.hasOwnProperty(g)||(l[g]={});l[g].hasOwnProperty(h)||(b=k(b)?b:!0,d=k(d)?d:!0,a.id=h,l[g][h]=ea(a),e=!0,d&&va("onEventAdded",a),b&&J())}return e};this.updateEvent=function(a,b,d,e){if(a=this.removeEvent(a,!1,!1))d=k(d)?d:!0,
e=k(e)?e:!0,b.id=ab(),(a=this.addEvent(b,d,!1))&&e&&va("onEventUpdated",b);return a};this.removeEvent=function(a,b,d){var e=!1,g;for(g in l)if(l.hasOwnProperty(g))for(var h in l[g])if(l[g].hasOwnProperty(h)&&h===a){b=k(b)?b:!0;d=k(d)?d:!0;delete l[g][h];e=!0;d&&va("onEventRemoved",l[g][h]);b&&J();break}return e};this.clearEvents=function(a){a=k(a)?a:!0;l={};ha("onEventsCleared");a&&J()};this.setOptions=function(a){c=null!==a&&"object"===typeof a?a:{};k(c.previousMonthTooltipText)||(c.previousMonthTooltipText=
"Previous Month");k(c.nextMonthTooltipText)||(c.nextMonthTooltipText="Next Month");k(c.addEventTooltipText)||(c.addEventTooltipText="Add Event");k(c.closeTooltipText)||(c.closeTooltipText="Close");k(c.exportEventsTooltipText)||(c.exportEventsTooltipText="Export Events");k(c.todayTooltipText)||(c.todayTooltipText="Today");k(c.refreshTooltipText)||(c.refreshTooltipText="Refresh");k(c.expandDayTooltipText)||(c.expandDayTooltipText="Expand Day");k(c.listAllEventsTooltipText)||(c.listAllEventsTooltipText=
"View All Events");k(c.listWeekEventsTooltipText)||(c.listWeekEventsTooltipText="View Week Events");k(c.dayHeaderNames)||(c.dayHeaderNames="Mo Tu We Th Fr Sa Su".split(" "));k(c.dayNames)||(c.dayNames="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "));k(c.fromText)||(c.fromText="From:");k(c.toText)||(c.toText="To:");k(c.isAllDayEventText)||(c.isAllDayEventText="Is All Day Event");k(c.titleText)||(c.titleText="Title:");k(c.descriptionText)||(c.descriptionText="Description:");k(c.addText)||
(c.addText="Add");k(c.updateText)||(c.updateText="Update");k(c.cancelText)||(c.cancelText="Cancel");k(c.removeEventText)||(c.removeEventText="Remove Event");k(c.addEventTitle)||(c.addEventTitle="Add Event");k(c.editEventTitle)||(c.editEventTitle="Edit Event");k(c.monthNames)||(c.monthNames="January February March April May June July August September October November December".split(" "));k(c.showDayNumberOrdinals)||(c.showDayNumberOrdinals=!0);k(c.dragAndDropForEventsEnabled)||(c.dragAndDropForEventsEnabled=
!0);k(c.csvStartFilename)||(c.csvStartFilename="exported_events_");k(c.fromTimeErrorMessage)||(c.fromTimeErrorMessage="Please select a valid 'From' time.");k(c.toTimeErrorMessage)||(c.toTimeErrorMessage="Please select a valid 'To' time.");k(c.toSmallerThanFromErrorMessage)||(c.toSmallerThanFromErrorMessage="Please select a 'To' date that is larger than the 'From' date.");k(c.titleErrorMessage)||(c.titleErrorMessage="Please enter a value in the 'Title' field (no empty space).");k(c.stText)||(c.stText=
"st");k(c.ndText)||(c.ndText="nd");k(c.rdText)||(c.rdText="rd");k(c.thText)||(c.thText="th");k(c.fullDayViewEnabled)||(c.fullDayViewEnabled=!0);k(c.maximumEventsPerDayDisplay)||(c.maximumEventsPerDayDisplay=3);k(c.yesText)||(c.yesText="Yes");k(c.noText)||(c.noText="No");k(c.extraSelectableYearsAhead)||(c.extraSelectableYearsAhead=51);k(c.allDayEventText)||(c.allDayEventText="All Day Event");k(c.allEventsText)||(c.allEventsText="All Events");k(c.allWeekEventsText)||(c.allWeekEventsText="All Week Events");
k(c.exportEventsEnabled)||(c.exportEventsEnabled=!0);k(c.manualEditingEnabled)||(c.manualEditingEnabled=!0);k(c.showTimesInMainCalendarEvents)||(c.showTimesInMainCalendarEvents=!1);k(c.startsAtText)||(c.startsAtText="Starts at");k(c.andFinishesAtText)||(c.andFinishesAtText="and finishes at");k(c.toTimeText)||(c.toTimeText="to");k(c.autoRefreshTimerDelay)||(c.autoRefreshTimerDelay=5E3);k(c.confirmEventRemoveTitle)||(c.confirmEventRemoveTitle="Confirm Event Removal");k(c.confirmEventRemoveMessage)||
(c.confirmEventRemoveMessage="Removing this event cannot be undone.  Do you want to continue?")};(function(a,b){q=a;$a=b;Ua=ib;ma.setOptions(jb);Y(kb)})(document,window)};