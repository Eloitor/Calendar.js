function calendarJs(Nd,Od,Pd){function I(a,d){u=h(a)?a:new Date;d=h(d)?d:!1;u.setDate(1);u.setHours(0,0,0,0);var c=(new Date(u.getFullYear(),u.getMonth(),1)).getDay(),e=Db(u.getFullYear(),u.getMonth());0===c&&(c=7);ta();if(!Eb){A=Ha(Rc);A.className="calendar";A.innerHTML="";Qd();Rd();Sd();Td();var f=g("div","row header-days"),k=b.dayHeaderNames.length;A.appendChild(f);for(var l=0;l<k;l++){var m=b.dayHeaderNames[l],n=g("div","cell");n.innerHTML=m;f.appendChild(n)}for(f=0;6>f;f++)for(k=g("div","row"),
A.appendChild(k),l=0;7>l;l++)m=7*f+(l+1),n=g("div","cell"),n.id="calendar-day-"+m,k.appendChild(n),0<b.minimumDayHeight&&(n.style.height=b.minimumDayHeight+"px");Ud();Eb=!0}m=c;if(1<m)for(f=new Date(u),f.setMonth(f.getMonth()-1),k=Db(f.getFullYear(),f.getMonth()),l=1,m=k-m+1;m<k;m++)oc(m+1,l,f.getMonth(),f.getFullYear(),!0),l++;for(k=f=0;k<e;k++)f=c+k,oc(k+1,f,u.getMonth(),u.getFullYear(),!1);if(42>f){c=1;e=new Date(u);e.setMonth(e.getMonth()+1);for(f+=1;43>f;f++)oc(c,f,e.getMonth(),e.getFullYear(),
!0),c++;c=Db(e.getFullYear(),e.getMonth());c=Math.round(c/2);pc=new Date(e.getFullYear(),e.getMonth(),c)}else pc=null;fa();d&&(null===Q&&(Q=g("div","disabled-background")),null!==ua&&B(r.body,ua),ua=g("div","calendar-dialog event-editor"),r.body.appendChild(ua),c=g("div","view"),ua.appendChild(c),ha=g("div","disabled-area"),c.appendChild(ha),Fb=g("div","title-bar"),c.appendChild(Fb),e=g("div","contents"),c.appendChild(e),c=g("p"),c.innerText=b.titleText,e.appendChild(c),c=g("div","input-title-container"),
e.appendChild(c),va=g("input",null,"text"),c.appendChild(va),f=g("input","select-colors","button"),f.value="...",f.onclick=Vd,c.appendChild(f),c=g("p"),c.innerText=b.fromText.replace(":","")+"/"+b.toText,e.appendChild(c),c=g("div","split"),e.appendChild(c),J=g("input"),J.onchange=Gb,c.appendChild(J),wa(J,"date"),R=g("input"),c.appendChild(R),wa(R,"time"),c=g("div","split"),e.appendChild(c),E=g("input"),E.onchange=Gb,c.appendChild(E),wa(E,"date"),S=g("input"),c.appendChild(S),wa(S,"time"),bb=F(e,b.isAllDayText,
Gb)[0],c=g("p"),c.innerText=b.repeatsText,e.appendChild(c),c=g("div","radioButtonsContainer"),e.appendChild(c),xa=T(c,b.repeatsNever,"RepeatType",Ia),Hb=T(c,b.repeatsEveryDayText,"RepeatType",Ia),Ib=T(c,b.repeatsEveryWeekText,"RepeatType",Ia),Jb=T(c,b.repeatsEveryMonthText,"RepeatType",Ia),Kb=T(c,b.repeatsEveryYearText,"RepeatType",Ia),Ja=g("input","repeat-options","button"),Ja.value="...",Ja.onclick=Wd,c.appendChild(Ja),c=g("p"),c.innerText=b.locationText,e.appendChild(c),cb=g("input",null,"text"),
e.appendChild(cb),c=g("p"),c.innerText=b.descriptionText,e.appendChild(c),db=g("textarea","custom-scroll-bars"),e.appendChild(db),eb=g("p","error"),e.appendChild(eb),c=g("div","split"),e.appendChild(c),Ka=g("input","ok","button"),Ka.value=b.addText,Ka.onclick=Xd,c.appendChild(Ka),f=g("input","cancel","button"),f.value=b.cancelText,f.onclick=qc,c.appendChild(f),La=g("input","remove","button"),La.value=b.removeEventText,La.onclick=Yd,e.appendChild(La),null!==ia&&B(r.body,ia),ia=g("div","calendar-dialog event-editor-colors"),
r.body.appendChild(ia),e=g("div","title-bar"),e.innerHTML=b.selectColorsText,ia.appendChild(e),e=g("div","contents"),ia.appendChild(e),c=g("p"),c.innerText=b.backgroundColorText,e.appendChild(c),Ma=g("input"),e.appendChild(Ma),wa(Ma,"color"),c=g("p"),c.innerText=b.textColorText,e.appendChild(c),Na=g("input"),e.appendChild(Na),wa(Na,"color"),c=g("p"),c.innerText=b.borderColorText,e.appendChild(c),Oa=g("input"),e.appendChild(Oa),wa(Oa,"color"),c=g("div","split"),e.appendChild(c),e=g("input","ok","button"),
e.value=b.okText,e.onclick=Zd,c.appendChild(e),e=g("input","cancel","button"),e.value=b.cancelText,e.onclick=Sc,c.appendChild(e),null!==ja&&B(r.body,ja),ja=g("div","calendar-dialog event-editor-repeat-options"),r.body.appendChild(ja),e=g("div","title-bar"),e.innerHTML=b.repeatOptionsTitle,ja.appendChild(e),c=g("div","contents"),ja.appendChild(c),e=g("p"),e.innerText=b.daysToExcludeText,c.appendChild(e),Lb=F(c,b.dayNames[0])[0],Mb=F(c,b.dayNames[1])[0],Nb=F(c,b.dayNames[2])[0],Ob=F(c,b.dayNames[3])[0],
Pb=F(c,b.dayNames[4])[0],Qb=F(c,b.dayNames[5])[0],Rb=F(c,b.dayNames[6])[0],e=g("div","split"),c.appendChild(e),c=g("input","ok","button"),c.value=b.okText,c.onclick=$d,e.appendChild(c),c=g("input","cancel","button"),c.value=b.cancelText,c.onclick=Tc,e.appendChild(c),null!==ka&&B(r.body,ka),ka=g("div","calendar-dialog confirmation"),r.body.appendChild(ka),rc=g("div","title-bar"),ka.appendChild(rc),e=g("div","contents"),ka.appendChild(e),sc=g("div","message"),e.appendChild(sc),c=F(e,b.removeAllEventsInSeriesText),
Sb=c[0],tc=c[1],c=g("div","split"),e.appendChild(c),fb=g("input","yes","button"),fb.value=b.yesText,c.appendChild(fb),gb=g("input","no","button"),gb.value=b.noText,c.appendChild(gb),null!==la&&B(r.body,la),la=g("div","calendar-dialog select-export-type"),r.body.appendChild(la),e=g("div","title-bar"),e.innerHTML=b.selectExportTypeTitle,la.appendChild(e),c=g("div","contents"),la.appendChild(c),e=g("div","radioButtonsContainer"),c.appendChild(e),uc=T(e,"CSV","ExportType"),Uc=T(e,"XML","ExportType"),
Vc=T(e,"JSON","ExportType"),Wc=T(e,"TEXT","ExportType"),Xc=T(e,"iCAL","ExportType"),e=g("div","split"),c.appendChild(e),c=g("input","ok","button"),c.value=b.okText,c.onclick=ae,e.appendChild(c),c=g("input","cancel","button"),c.value=b.cancelText,c.onclick=Yc,e.appendChild(c),null!==y&&B(r.body,y),y=g("div","calendar-dialog search"),r.body.appendChild(y),e=g("div","title-bar"),e.innerHTML=b.searchEventsTitle,e.onmousedown=be,e.onmouseup=ce,y.appendChild(e),c=g("div","ib-close"),c.onclick=de,e.appendChild(c),
p(c,b.closeTooltipText),ma=g("div","ib-minus"),ma.onclick=ee,e.appendChild(ma),p(ma,b.minimizedTooltipText),K=g("div","contents"),y.appendChild(K),e=g("p"),e.innerText=b.forText,K.appendChild(e),U=g("input",null,"text"),U.oninput=ya,U.onpropertychange=ya,U.onkeypress=fe,K.appendChild(U),Zc=F(K,b.matchCaseText,ya)[0],e=g("p"),e.innerText=b.includeText,K.appendChild(e),e=g("div","checkboxContainer"),K.appendChild(e),$c=F(e,b.titleText.replace(":",""),ya)[0],ad=F(e,b.locationText.replace(":",""),ya)[0],
bd=F(e,b.descriptionText.replace(":",""),ya)[0],e=g("div","split"),K.appendChild(e),Pa=g("input","previous","button"),Pa.value=b.previousText,Pa.onclick=ge,e.appendChild(Pa),za=g("input","next","button"),za.value=b.nextText,za.onclick=cd,e.appendChild(za),r.body.addEventListener("mousemove",he),null===w&&(w=g("div"),r.body.appendChild(w),vc=g("div","title"),Tb=g("div","date"),hb=g("div","repeats"),ib=g("div","description"),jb=g("div","location"),document.body.addEventListener("mousemove",wc)),ie(),
je());kb.innerHTML=b.monthNames[u.getMonth()]+", "+u.getFullYear()+" \u25be"}function lb(){var a=[];mb(function(d){a.push(d)});return a}function mb(a){for(var d in L)if(L.hasOwnProperty(d))for(var c in L[d])if(L[d].hasOwnProperty(c)){var e=dd(L[d][c]);if(a(e,d,c))return}}function Aa(a,d){d=h(d)?d:!0;a=a.sort(function(c,e){return c.from-e.from});d&&(a=a.sort(function(c,e){return ed(e.isAllDay)-ed(c.isAllDay)}));return a}function Td(){C=g("div","header-date");A.appendChild(C);b.fullScreenModeEnabled&&
(C.ondblclick=function(){Y()});var a=g("div","ib-arrow-left-full");a.onclick=xc;a.ondblclick=t;C.appendChild(a);p(a,b.previousMonthTooltipText);a=g("div","ib-pin");a.onclick=yc;a.ondblclick=t;C.appendChild(a);p(a,b.todayTooltipText);a=g("div","ib-refresh");a.onclick=Ub;a.ondblclick=t;C.appendChild(a);p(a,b.refreshTooltipText);a=g("div","ib-search");a.onclick=fd;a.ondblclick=t;C.appendChild(a);p(a,b.searchTooltipText);a=g("div","ib-arrow-right-full");a.onclick=zc;a.ondblclick=t;C.appendChild(a);p(a,
b.nextMonthTooltipText);b.manualEditingEnabled&&(a=g("div","ib-plus"),a.onclick=Vb,a.ondblclick=t,C.appendChild(a),p(a,b.addEventTooltipText));b.exportEventsEnabled&&(Qa=g("div","ib-arrow-down-full-line"),Qa.ondblclick=t,C.appendChild(Qa),p(Qa,b.exportEventsTooltipText),Qa.onclick=function(){Wb()});a=g("div","ib-eye");a.ondblclick=t;C.appendChild(a);a.onclick=function(){gd(!0)};p(a,b.listAllEventsTooltipText);a=g("div","ib-hamburger");a.ondblclick=t;C.appendChild(a);a.onclick=function(){nb(null,!0)};
p(a,b.listWeekEventsTooltipText);b.fullScreenModeEnabled&&(Z=g("div","ib-arrow-expand-left-right"),Z.ondblclick=t,C.appendChild(Z),p(Z,b.enableFullScreenTooltipText),Z.onclick=function(){Y()});a=g("div","title-container");C.appendChild(a);kb=g("span");kb.ondblclick=t;a.appendChild(kb);ke(a)}function ke(a){var d=new Date(1900,1,1),c=(new Date).getFullYear()-d.getFullYear()+b.extraSelectableYearsAhead;M=g("div","years-drop-down");a.appendChild(M);Xb=g("div","contents custom-scroll-bars");M.appendChild(Xb);
for(a=0;a<c;a++)le(d.getFullYear()),d.setFullYear(d.getFullYear()+1);kb.onclick=me}function le(a){var d=g("div");d.innerText=a.toString();d.id="year-selected-"+a.toString();Xb.appendChild(d);d.onclick=function(){u.setFullYear(a);I(u);Yb()&&(M.style.display="none")}}function dd(a){a.isAllDay&&(a.from=new Date(a.from.getFullYear(),a.from.getMonth(),a.from.getDate(),0,0),a.to=new Date(a.from.getFullYear(),a.from.getMonth(),a.from.getDate(),23,59));return a}function ob(a,d){var c=new Date(a.getFullYear(),
a.getMonth(),a.getDate()),e=new Date(d.getFullYear(),d.getMonth(),d.getDate());return Math.ceil(Math.abs(e-c)/864E5)}function me(a){if("block"!==M.style.display){ta();t(a);a=M.getElementsByClassName("current-year-selected");if(1<=a.length)for(var d=a.length,c=0;c<d;c++)a[c].removeAttribute("class");a=Ha("year-selected-"+u.getFullYear());null!==a&&(a.className="current-year-selected");M.style.display="block";Xb.scrollTop=a.offsetTop-M.offsetHeight/2}}function Yb(){return null!==M&&"block"===M.style.display}
function na(a){if(null!==b&&Ac(b[a]))b[a]()}function Zb(a,d){if(null!==b&&Ac(b[a]))b[a](d)}function hd(){for(var a=[],d=0;32>d;d++){8!==d&&12!==d&&16!==d&&20!==d||a.push("-");var c=Math.floor(16*Math.random()).toString(16);a.push(c)}return a.join("")}function Y(){Ra?id():jd()}function jd(){!Ra&&b.fullScreenModeEnabled&&(kd=A.style.cssText,Ra=!0,Z.className="ib-arrow-contract-left-right",aa.className="ib-arrow-contract-left-right",ba.className="ib-arrow-contract-left-right",ca.className="ib-arrow-contract-left-right",
p(Z,b.disableFullScreenTooltipText),p(aa,b.disableFullScreenTooltipText),p(ba,b.disableFullScreenTooltipText),p(ca,b.disableFullScreenTooltipText),A.className+=" full-screen-view",A.removeAttribute("style"))}function id(){Ra&&b.fullScreenModeEnabled&&(Ra=!1,Z.className="ib-arrow-expand-left-right",aa.className="ib-arrow-expand-left-right",ba.className="ib-arrow-expand-left-right",ca.className="ib-arrow-expand-left-right",p(Z,b.enableFullScreenTooltipText),p(aa,b.enableFullScreenTooltipText),p(ba,
b.enableFullScreenTooltipText),p(ca,b.enableFullScreenTooltipText),A.className=A.className.replace(" full-screen-view",""),A.style.cssText=kd)}function Ud(){ld||(r.body.addEventListener("click",ta),r.body.addEventListener("contextmenu",ta),Ba.addEventListener("resize",ta),Ba.addEventListener("resize",md),r.addEventListener("keydown",function(a){Ra&&nd()&&(37===a.keyCode&&(a.ctrlKey||a.metaKey)?(a.preventDefault(),od()):39===a.keyCode&&(a.ctrlKey||a.metaKey)?(a.preventDefault(),pd()):70===a.keyCode&&
(a.ctrlKey||a.metaKey)?(a.preventDefault(),fd()):27===a.keyCode?Y():37===a.keyCode?xc():39===a.keyCode?zc():40===a.keyCode?yc():116===a.keyCode&&Ub())}),ld=!0)}function ta(){Bc()&&(G.style.display="none");Cc()&&(N.style.display="none");Yb()&&(M.style.display="none");wc()}function fa(){ne();qd();for(var a=Aa(lb()),d=a.length,c=0;c<d;c++){var e=a[c];null!==$b(e.from)&&oe(e);var f=da(e.repeatEvery);0<f&&(1===f?ac(e,function(k){k.setDate(k.getDate()+1)}):2===f?ac(e,function(k){k.setDate(k.getDate()+7)}):
3===f?ac(e,function(k){k.setMonth(k.getMonth()+1)}):4===f&&ac(e,function(k){k.setFullYear(k.getFullYear()+1)}))}b.exportEventsEnabled&&(Qa.style.display=0===d?"none":"inline-block");rd()}function ac(a,d){for(var c=new Date(a.from),e=V(a.repeatEveryExcludeDays),f=V(a.seriesIgnoreDates);c<pc;){d(c);var k=Sa(c);-1===e.indexOf(c.getDay())&&-1===f.indexOf(k)&&null!==$b(c)&&Dc(c,a)}}function oe(a){Dc(a.from,a);if(a.from.getDate()!==a.to.getDate()){var d=ob(a.from,a.to);if(0<d)for(var c=new Date(a.from),
e=0;e<d;e++)c.setDate(c.getDate()+1),null!==$b(c)&&Dc(c,a)}}function Dc(a,d){var c=$b(a);if(null!==c){var e=b.manualEditingEnabled?"event":"event-no-hover";if(c.getElementsByClassName(e).length<b.maximumEventsPerDayDisplay){e=g("div",e);var f=d.title;b.showTimesInMainCalendarEvents&&!d.isAllDay&&d.from.getDate()===d.to.getDate()&&(f=pb(d.from,d.to)+": "+f);e.innerHTML=f;c.appendChild(e);bc(d,e,Ec(d,a));e.onmousemove=function(l){sd(l,d)};if(b.manualEditingEnabled){var k=Sa(a);e.oncontextmenu=function(l){cc(l,
d,k)}}b.manualEditingEnabled&&(e.onclick=function(){oa(d)});b.dragAndDropForEventsEnabled&&b.manualEditingEnabled&&(e.setAttribute("draggable",!0),e.ondragstart=function(){x=d})}else e=c.getElementsByClassName("plus-x-events"),e=0<e.length?e[0]:null,null===e?(e=g("div","plus-x-events"),e.setAttribute("events","1"),e.innerHTML="+1 "+b.moreText,c.appendChild(e)):(c=parseInt(e.getAttribute("events"))+1,e.setAttribute("events",c.toString()),e.innerHTML="+"+c+" "+b.moreText)}}function $b(a){var d=new Date(u.getFullYear(),
u.getMonth(),1);var c=new Date(u);var e=new Date(u),f=null,k=0;d=Fc(d);c.setMonth(c.getMonth()+1);e.setMonth(e.getMonth()-1);a.getMonth()===c.getMonth()&&a.getFullYear()===c.getFullYear()?(c=d+Db(u.getFullYear(),u.getMonth()),k=a.getDate()+c):a.getMonth()===e.getMonth()&&a.getFullYear()===e.getFullYear()?k=d-ob(a,u)+1:a.getMonth()===u.getMonth()&&a.getFullYear()===u.getFullYear()&&(c=d,k=a.getDate()+c);0<k&&(f=Ha("calendar-day-"+k));return f}function ne(){for(var a=0;6>a;a++)for(var d=0;7>d;d++){var c=
Ha("calendar-day-"+(7*a+(d+1)));td(c,b.manualEditingEnabled?"event":"event-no-hover");td(c,"plus-x-events")}}function td(a,d){for(var c=a.getElementsByClassName(d);c[0];)c[0].parentNode.removeChild(c[0])}function bc(a,d,c){h(c)&&c<new Date&&(d.className+=" expired");O(a.color)?(d.style.backgroundColor=a.color,O(a.colorText)&&(d.style.color=a.colorText),O(a.colorBorder)&&(d.style.borderLeftColor=a.colorBorder)):a.isAllDay&&(d.className+=" all-day")}function Ec(a,d){var c=da(a.repeatEvery),e=new Date(a.to);
0<c&&(c=new Date(d),c.setHours(e.getHours(),e.getMinutes()),e=c);return e}function Sd(){Ca=g("div","full-day-view");A.appendChild(Ca);var a=g("div","title-bar");Ca.appendChild(a);b.fullScreenModeEnabled&&(a.ondblclick=function(){Y()});qb=g("div","title");a.appendChild(qb);var d=g("div","ib-close");d.ondblclick=t;a.appendChild(d);p(d,b.closeTooltipText);d.onclick=function(){Gc(Ca);W=null};b.manualEditingEnabled&&(d=g("div","ib-plus"),d.onclick=Vb,d.ondblclick=t,a.appendChild(d),p(d,b.addEventTooltipText));
d=g("div","ib-arrow-right-full");d.onclick=pe;d.ondblclick=t;a.appendChild(d);p(d,b.nextDayTooltipText);d=g("div","ib-arrow-left-full");d.onclick=qe;d.ondblclick=t;a.appendChild(d);p(d,b.previousDayTooltipText);b.exportEventsEnabled&&(Ta=g("div","ib-arrow-down-full-line"),Ta.ondblclick=t,a.appendChild(Ta),p(Ta,b.exportEventsTooltipText),Ta.onclick=function(){Wb(Hc)});b.fullScreenModeEnabled&&(aa=g("div","ib-arrow-expand-left-right"),aa.ondblclick=t,a.appendChild(aa),p(aa,b.enableFullScreenTooltipText),
aa.onclick=function(){Y()});rb=g("div","contents custom-scroll-bars");Ca.appendChild(rb)}function sb(a,d){d=h(d)?d:!1;qb.innerText="";rb.innerHTML="";W=new Date(a);Hc=[];d&&(rb.scrollTop=0);Ic(Ca);Da(qb,a,!1,!0,!0);var c=ud(a),e=[];if(null!==c){var f=g("span","holiday");f.innerText=" ("+c+")";qb.appendChild(f)}mb(function(k){for(var l=ob(k.from,k.to)+1,m=new Date(k.from),n=0;n<l;n++){if(m.getFullYear()===a.getFullYear()&&m.getMonth()===a.getMonth()&&m.getDate()===a.getDate()){e.push(k);break}m.setDate(m.getDate()+
1)}l=da(k.repeatEvery);0<l&&(1===l?dc(k,e,a,function(q){q.setDate(q.getDate()+1)}):2===l?dc(k,e,a,function(q){q.setDate(q.getDate()+7)}):3===l?dc(k,e,a,function(q){q.setMonth(q.getMonth()+1)}):4===l&&dc(k,e,a,function(q){q.setFullYear(q.getFullYear()+1)}))});e=Aa(e);c=e.length;for(f=0;f<c;f++)re(e[f],a);b.exportEventsEnabled&&(Ta.style.display=0===e.length?"none":"inline-block")}function dc(a,d,c,e){for(var f=new Date(a.from),k=V(a.repeatEveryExcludeDays),l=V(a.seriesIgnoreDates);f<c;){e(f);var m=
Sa(f);if(-1===k.indexOf(f.getDay())&&-1===l.indexOf(m)&&f.getFullYear()===c.getFullYear()&&f.getMonth()===c.getMonth()&&f.getDate()===c.getDate()){d.push(a);break}}}function re(a,d){var c=g("div",b.manualEditingEnabled?"event":"event-no-hover");rb.appendChild(c);if(b.manualEditingEnabled){var e=Sa(d);c.oncontextmenu=function(k){cc(k,a,e)}}bc(a,c,Ec(a,d));var f=g("div","title");f.innerHTML=a.title;c.appendChild(f);f=g("div","date");c.appendChild(f);a.from.getDate()===a.to.getDate()?f.innerHTML=a.isAllDay?
b.allDayText:pb(a.from,a.to):ec(f,a.from,a.to);tb(a.repeatEvery)&&0<a.repeatEvery&&(f=g("div","repeats"),f.innerHTML=b.repeatsText.replace(":","")+" "+Ua(a.repeatEvery),c.appendChild(f));O(a.location)&&(f=g("div","location"),f.innerHTML=a.location,c.appendChild(f));O(a.description)&&(f=g("div","description"),f.innerHTML=a.description,c.appendChild(f));b.manualEditingEnabled&&(c.onclick=function(){oa(a)});Hc.push(a)}function qe(){W.setDate(W.getDate()-1);sb(W,!0)}function pe(){W.setDate(W.getDate()+
1);sb(W,!0)}function Qd(){Ea=g("div","list-all-events-view");A.appendChild(Ea);var a=g("div","title-bar");Ea.appendChild(a);b.fullScreenModeEnabled&&(a.ondblclick=function(){Y()});var d=g("div","title");d.innerHTML=b.allEventsText;a.appendChild(d);d=g("div","ib-close");d.ondblclick=t;a.appendChild(d);p(d,b.closeTooltipText);d.onclick=function(){Gc(Ea)};b.manualEditingEnabled&&(d=g("div","ib-plus"),d.onclick=Vb,d.ondblclick=t,a.appendChild(d),p(d,b.addEventTooltipText));b.exportEventsEnabled&&(ub=
g("div","ib-arrow-down-full-line"),ub.ondblclick=t,a.appendChild(ub),p(ub,b.exportEventsTooltipText),ub.onclick=function(){Wb()});b.fullScreenModeEnabled&&(ba=g("div","ib-arrow-expand-left-right"),ba.ondblclick=t,a.appendChild(ba),p(ba,b.enableFullScreenTooltipText),ba.onclick=function(){Y()});vb=g("div","contents custom-scroll-bars");Ea.appendChild(vb)}function gd(a){a=h(a)?a:!1;Ic(Ea);vb.innerHTML="";a&&(vb.scrollTop=0);a=Aa(lb());for(var d=a.length,c=0;c<d;c++){var e=a[c],f=e.from,k="month-"+f.getMonth()+
"-"+f.getFullYear(),l=Ha(k);if(null===l){var m=g("div","month");vb.appendChild(m);l=g("div","header");l.innerHTML=b.monthNames[f.getMonth()]+" "+f.getFullYear();m.appendChild(l);l=g("div","events");l.id=k;m.appendChild(l)}se(e,l)}}function se(a,d){var c=g("div",b.manualEditingEnabled?"event":"event-no-hover");d.appendChild(c);b.manualEditingEnabled&&(c.oncontextmenu=function(f){cc(f,a)});bc(a,c);var e=g("div","title");e.innerHTML=a.title;c.appendChild(e);e=g("div","date");c.appendChild(e);a.from.getDate()===
a.to.getDate()?a.isAllDay?fc(e,a.from,null," - "+b.allDayText):fc(e,a.from,null," - "+pb(a.from,a.to)):ec(e,a.from,a.to);tb(a.repeatEvery)&&0<a.repeatEvery&&(e=g("div","repeats"),e.innerHTML=b.repeatsText.replace(":","")+" "+Ua(a.repeatEvery),c.appendChild(e));O(a.location)&&(e=g("div","location"),e.innerHTML=a.location,c.appendChild(e));O(a.description)&&(e=g("div","description"),e.innerHTML=a.description,c.appendChild(e));b.manualEditingEnabled&&(c.onclick=function(){oa(a)})}function Rd(){Fa=g("div",
"list-all-week-events-view");A.appendChild(Fa);var a=g("div","title-bar");Fa.appendChild(a);b.fullScreenModeEnabled&&(a.ondblclick=function(){Y()});X=g("div","title");a.appendChild(X);var d=g("div","ib-close");d.ondblclick=t;a.appendChild(d);p(d,b.closeTooltipText);d.onclick=function(){Gc(Fa)};b.manualEditingEnabled&&(d=g("div","ib-plus"),d.onclick=Vb,d.ondblclick=t,a.appendChild(d),p(d,b.addEventTooltipText));d=g("div","ib-arrow-right-full");d.onclick=te;d.ondblclick=t;a.appendChild(d);p(d,b.nextWeekTooltipText);
d=g("div","ib-arrow-left-full");d.onclick=ue;d.ondblclick=t;a.appendChild(d);p(d,b.previousWeekTooltipText);b.exportEventsEnabled&&(Va=g("div","ib-arrow-down-full-line"),Va.ondblclick=t,a.appendChild(Va),p(Va,b.exportEventsTooltipText),Va.onclick=function(){Wb(wb)});b.fullScreenModeEnabled&&(ca=g("div","ib-arrow-expand-left-right"),ca.ondblclick=t,a.appendChild(ca),p(ca,b.enableFullScreenTooltipText),ca.onclick=function(){Y()});xb=g("div","contents custom-scroll-bars");Fa.appendChild(xb)}function nb(a,
d){d=h(d)?d:!1;Ic(Fa);xb.innerHTML="";Wa={};Jc={};wb=[];pa=null===a?new Date:new Date(a);d&&(xb.scrollTop=0);var c=ve(a),e=c[0];c=c[1];we(e,c);for(var f=Aa(lb()),k=f.length,l=0;l<k;l++){for(var m=f[l],n=ob(m.from,m.to)+1,q=new Date(m.from),Ga=!1,Xa=0;Xa<n;Xa++)q>=e&&q<=c&&(Ga=vd(q),wd(m,Ga,q),Ga=!0),q.setDate(q.getDate()+1);Ga&&wb.push(m);n=da(m.repeatEvery);q=!1;0<n&&(1===n?q=gc(m,e,c,function(P){P.setDate(P.getDate()+1)}):2===n?q=gc(m,e,c,function(P){P.setDate(P.getDate()+7)}):3===n?q=gc(m,e,c,
function(P){P.setMonth(P.getMonth()+1)}):4===n&&(q=gc(m,e,c,function(P){P.setFullYear(P.getFullYear()+1)})));q&&!Ga&&wb.push(m)}for(var xd in Wa)Wa.hasOwnProperty(xd)&&xb.appendChild(Wa[xd]);b.exportEventsEnabled&&(Va.style.display=0===wb.length?"none":"inline-block")}function gc(a,d,c,e){for(var f=new Date(a.from),k=V(a.repeatEveryExcludeDays),l=V(a.seriesIgnoreDates),m=!1;f<c;){e(f);var n=Sa(f);-1===k.indexOf(f.getDay())&&-1===l.indexOf(n)&&f>=d&&f<=c&&(m=vd(f),wd(a,m,f),m=!0)}return m}function we(a,
d){X.innerHTML="";if(a.getFullYear()===d.getFullYear()){Da(X,a,!1,!1);var c=g("span");c.innerHTML=" - ";X.appendChild(c);Da(X,d,!1,!1);c=g("span");c.innerHTML=", "+a.getFullYear();X.appendChild(c)}else Da(X,a,!1,!0),c=g("span"),c.innerHTML=" - ",X.appendChild(c),Da(X,d,!1,!0)}function wd(a,d,c){var e=g("div",b.manualEditingEnabled?"event":"event-no-hover");d.appendChild(e);if(b.manualEditingEnabled){var f=Sa(c);e.oncontextmenu=function(k){cc(k,a,f)}}bc(a,e,Ec(a,c));d=g("div","title");d.innerHTML=
a.title;e.appendChild(d);d=g("div","date");e.appendChild(d);a.from.getDate()===a.to.getDate()?d.innerHTML=a.isAllDay?b.allDayText:pb(a.from,a.to):ec(d,a.from,a.to);tb(a.repeatEvery)&&0<a.repeatEvery&&(d=g("div","repeats"),d.innerHTML=b.repeatsText.replace(":","")+" "+Ua(a.repeatEvery),e.appendChild(d));O(a.location)&&(d=g("div","location"),d.innerHTML=a.location,e.appendChild(d));O(a.description)&&(d=g("div","description"),d.innerHTML=a.description,e.appendChild(d));b.manualEditingEnabled&&(e.onclick=
function(){oa(a)})}function vd(a){var d=Fc(a),c=a.getFullYear()+a.getMonth()+d;if(Wa.hasOwnProperty(c))a=Jc[c];else{var e=g("div","day");Wa[c]=e;var f=g("div","header");e.appendChild(f);fc(f,a,b.dayNames[d]+", ");a=g("div","events");e.appendChild(a);Jc[c]=a}return a}function Fc(a){return 0>a.getDay()-1?6:a.getDay()-1}function ve(a){a=h(a)?a:new Date;var d=0===a.getDay()?7:a.getDay();d=a.getDate()-d+1;var c=d+6,e=new Date(a);a=new Date(a);e.setDate(d);e.setHours(0,0,0,0);a.setDate(c);a.setHours(23,
59,59,99);return[e,a]}function ue(){pa.setDate(pa.getDate()-7);nb(pa,!0)}function te(){pa.setDate(pa.getDate()+7);nb(pa,!0)}function pb(a,d){return Kc(a)+" "+b.toTimeText+" "+Kc(d)}function Kc(a){return H(a.getHours())+":"+H(a.getMinutes())}function ec(a,d,c){a.innerHTML="";var e=g("span");e.innerText=b.startsOnText+" ";a.appendChild(e);Da(a,d);d=g("span");d.innerText=" "+b.andFinishesOnText+" ";a.appendChild(d);Da(a,c)}function Da(a,d,c,e,f){c=h(c)?c:!0;e=h(e)?e:!0;if(f=h(f)?f:!1){f=Fc(d);var k=
g("span");k.innerText=b.dayNames[f]+", ";a.appendChild(k)}fc(a,d);f=g("span");f.innerText=" "+b.monthNames[d.getMonth()];a.appendChild(f);e&&(e=g("span"),e.innerText=" "+d.getFullYear(),a.appendChild(e));c&&(c=g("span"),c.innerText=" "+Kc(d),a.appendChild(c))}function fc(a,d,c,e){if(h(c)){var f=g("span");f.innerText=c;a.appendChild(f)}c=g("span");c.innerText=d.getDate();a.appendChild(c);b.showDayNumberOrdinals&&(c=g("sup"),c.innerText=yd(d.getDate()),a.appendChild(c));h(e)&&(d=g("span"),d.innerText=
e,a.appendChild(d))}function oc(a,d,c,e,f){var k=new Date;k=a===k.getDate()&&e===k.getFullYear()&&c===k.getMonth();var l=Ha("calendar-day-"+d);d=g("span");var m=new Date(e,c,a);l.innerHTML="";d.className=f?"day-muted":"";d.className+=k?" today":"";d.innerText=a;if(6===m.getDay()||0===m.getDay()&&"cell"===l.className)l.className="cell weekend-day";l.oncontextmenu=function(q){hc=new Date(m);ta();t(q);Lc(q,G)};b.showDayNumberOrdinals&&(f=g("sup"),f.innerText=yd(a),d.appendChild(f));l.appendChild(d);
f=g("div","expand-day");l.appendChild(f);p(f,b.expandDayTooltipText);k=ud(m);if(null!==k){var n=g("span","holiday");n.innerText=k;d.appendChild(n)}f.onclick=function(){sb(m,!0)};b.manualEditingEnabled&&(l.ondblclick=function(){oa(null,m)},b.manualEditingEnabled&&(l.ondragover=function(q){t(q);zd(l)},l.ondragenter=function(q){t(q);zd(l)},l.ondragleave=function(q){t(q);Ad(l)},l.ondrop=function(q){t(q);if(null!==x){q=ob(x.from,x.to);var Ga=new Date(e,c,a,x.from.getHours(),x.from.getMinutes()),Xa=new Date(e,
c,a,x.to.getHours(),x.to.getMinutes());0<q&&Xa.setDate(Xa.getDate()+q);yb.updateEvent(x.id,{from:Ga,to:Xa,title:x.title,description:x.description,location:x.location,isAllDay:x.isAllDay,color:x.color,colorText:x.colorText,colorBorder:x.colorBorder,repeatEvery:x.repeatEvery,repeatEveryExcludeDays:x.repeatEveryExcludeDays})}Ad(l)}))}function zd(a){-1===a.className.indexOf(" drag-over")&&(a.className+=" drag-over")}function Ad(a){-1<a.className.indexOf(" drag-over")&&(a.className=a.className.replace(" drag-over",
""))}function Db(a,d){return(new Date(a,d+1,0)).getDate()}function yd(a){var d=b.thText;if(31===a||21===a||1===a)d=b.stText;else if(22===a||2===a)d=b.ndText;else if(23===a||3===a)d=b.rdText;return d}function ud(a){for(var d=null,c=[],e=b.holidays.length,f=0;f<e;f++){var k=b.holidays[f];da(k.day)===a.getDate()&&da(k.month)===a.getMonth()+1&&(k=v(k.title,null),null!==k&&c.push(k))}0<c.length&&(d=c.join(", "));return d}function ie(){null!==G&&B(r.body,G);G=g("div","calendar-drop-down-menu");r.body.appendChild(G);
if(b.manualEditingEnabled){var a=g("div","item");a.innerHTML=b.addEventTitle;G.appendChild(a);a.onclick=function(){oa(null,hc)};a=g("div","separator");G.appendChild(a)}a=g("div","item");a.innerHTML=b.expandDayTooltipText;G.appendChild(a);a.onclick=function(){sb(hc,!0)};a=g("div","separator");G.appendChild(a);a=g("div","item");a.innerHTML=b.listWeekEventsTooltipText;G.appendChild(a);a.onclick=function(){nb(hc,!0)}}function je(){null!==N&&B(r.body,N);if(b.manualEditingEnabled){N=g("div","calendar-drop-down-menu");
r.body.appendChild(N);var a=g("div","item");a.innerHTML=b.removeEventText;N.appendChild(a);a.onclick=function(){Ya(r.body,Q);var d=function(){B(r.body,Q)},c=0<da(qa.repeatEvery)&&null!==zb;Bd(b.confirmEventRemoveTitle,b.confirmEventRemoveMessage,function(){d();h(qa.id)&&(Sb.checked||null===zb?yb.removeEvent(qa.id,!0):(Mc(qa.seriesIgnoreDates)?qa.seriesIgnoreDates.push(zb):qa.seriesIgnoreDates=[zb],fa()),ic())},d,c)};a=g("div","separator");N.appendChild(a);a=g("div","item");a.innerHTML=b.editEventTitle;
N.appendChild(a);a.onclick=function(){oa(qa)}}}function cc(a,d,c){qa=d;zb=h(c)?c:null;ta();t(a);Lc(a,N)}function Bc(){return null!==G&&"block"===G.style.display}function Cc(){return null!==N&&"block"===N.style.display}function wa(a,d){try{a.type=d}catch(c){a.type="text"}}function Vb(){oa(null,W)}function Ia(){Ja.disabled=xa.checked}function Gb(){var a=!1;bb.checked&&(E.value=J.value,R.value="00:00",S.value="23:59",a=!0);E.disabled=a;R.disabled=a;S.disabled=a;a=jc(J);var d=jc(E);d>a||d<a?(a=!0,xa.checked=
!0):a=!1;xa.disabled=a;Hb.disabled=a;Ib.disabled=a;Jb.disabled=a;Kb.disabled=a;Ja.disabled=a;Ia()}function oa(a,d){Ya(r.body,Q);if(h(a)){Ka.value=b.updateText;La.style.display="block";Fb.innerHTML=b.editEventTitle;D=a;J.value=kc(a.from,J.type);R.value=lc(a.from);E.value=kc(a.to,E.type);S.value=lc(a.to);bb.checked=a.isAllDay;va.value=v(a.title);db.value=v(a.description);cb.value=v(a.location);Ma.value=v(a.color,"#484848");Na.value=v(a.colorText,"#F5F5F5");Oa.value=v(a.colorBorder,"#282828");var c=
da(a.repeatEvery);0===c?xa.checked=!0:1===c?Hb.checked=!0:2===c?Ib.checked=!0:3===c?Jb.checked=!0:4===c&&(Kb.checked=!0);c=V(a.repeatEveryExcludeDays);Lb.checked=-1<c.indexOf(1);Mb.checked=-1<c.indexOf(2);Nb.checked=-1<c.indexOf(3);Ob.checked=-1<c.indexOf(4);Pb.checked=-1<c.indexOf(5);Qb.checked=-1<c.indexOf(6);Rb.checked=-1<c.indexOf(0)}else{c=new Date;var e=h(d)?d:c,f=new Date;e.getDate()===f.getDate()&&e.getFullYear()===f.getFullYear()&&e.getMonth()===f.getMonth()&&(e.setHours(c.getHours()),e.setMinutes(c.getMinutes()));
Ka.value=b.addText;La.style.display="none";Fb.innerHTML=b.addEventTitle;D={};J.value=kc(e,J.type);R.value=lc(e);E.value=kc(e,E.type);S.value=lc(e);bb.checked=!1;va.value="";db.value="";cb.value="";Ma.value="#484848";Na.value="#F5F5F5";Oa.value="#282828";xa.checked=!0;Lb.checked=!1;Mb.checked=!1;Nb.checked=!1;Ob.checked=!1;Pb.checked=!1;Qb.checked=!1;Rb.checked=!1}Gb();ua.style.display="block";eb.style.display="none";va.focus()}function Xd(){var a=jc(J),d=jc(E),c=R.value.split(":"),e=S.value.split(":"),
f=Nc(va.value),k=Nc(db.value),l=Nc(cb.value);2>c.length?mc(b.fromTimeErrorMessage,R):2>e.length?mc(b.toTimeErrorMessage,S):""===f?mc(b.titleErrorMessage,va):(Cd(a,R.value),Cd(d,S.value),d<a?mc(b.toSmallerThanFromErrorMessage,E):(qc(),c=h(D.id),a={from:a,to:d,title:f,description:k,location:l,isAllDay:bb.checked,color:D.color,colorText:D.colorText,colorBorder:D.colorBorder,repeatEveryExcludeDays:D.repeatEveryExcludeDays},xa.checked?a.repeatEvery=0:Hb.checked?a.repeatEvery=1:Ib.checked?a.repeatEvery=
2:Jb.checked?a.repeatEvery=3:Kb.checked&&(a.repeatEvery=4),c||(a.organizerName=b.organizerName,a.organizerEmailAddress=b.organizerEmailAddress),c?yb.updateEvent(D.id,a,!1):yb.addEvent(a,!1),fa(),ic()))}function Cd(a,d){var c=0,e=0,f=d.split(":");if(2===f.length){var k=parseInt(f[0]);f=parseInt(f[1]);!isNaN(k)&&2>=k.toString().length&&(c=k);!isNaN(f)&&2>=f.toString().length&&(e=f)}a.setHours(c);a.setMinutes(e)}function jc(a){var d=new Date;if("date"===a.type)d=new Date(a.value);else if(a=a.value.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/))a=
new Date(a[3],a[2]-1,a[1]),a instanceof Date&&!isNaN(a)&&(d=a);return d}function qc(){ua.style.display="none";B(r.body,Q)}function Yd(){ha.style.display="block";var a=function(){ha.style.display="none"};Bd(b.confirmEventRemoveTitle,b.confirmEventRemoveMessage,function(){a();qc();h(D.id)&&(yb.removeEvent(D.id,!0),ic())},a)}function kc(a,d){var c=("0"+a.getDate()).slice(-2),e=("0"+(a.getMonth()+1)).slice(-2);return"date"===d?a.getFullYear()+"-"+e+"-"+c:c+"/"+e+"/"+a.getFullYear()}function Sa(a){var d=
("0"+a.getDate()).slice(-2),c=("0"+a.getMonth()).slice(-2);return d+"/"+c+"/"+a.getFullYear()}function lc(a){return H(a.getHours())+":"+H(a.getMinutes())}function H(a){a=a.toString();return 1===a.length?"0"+a:a}function mc(a,d){eb.innerHTML=a;eb.style.display="block";d.focus()}function Nc(a){return a.replace(/^\s+|\s+$/g,"")}function ic(){Ab(Ca)&&sb(W);Ab(Ea)&&gd();Ab(Fa)&&nb(pa)}function Zd(){Sc();D.color=Ma.value;D.colorText=Na.value;D.colorBorder=Oa.value}function Sc(){ia.style.display="none";
ha.style.display="none"}function Vd(){ia.style.display="block";ha.style.display="block"}function $d(){Tc();var a=[];Lb.checked&&a.push(1);Mb.checked&&a.push(2);Nb.checked&&a.push(3);Ob.checked&&a.push(4);Pb.checked&&a.push(5);Qb.checked&&a.push(6);Rb.checked&&a.push(0);D.repeatEveryExcludeDays=a}function Tc(){ja.style.display="none";ha.style.display="none"}function Wd(){ja.style.display="block";ha.style.display="block"}function Bd(a,d,c,e,f){f=h(f)?f:!1;ka.style.display="block";rc.innerHTML=a;sc.innerHTML=
d;fb.onclick=Dd;gb.onclick=Dd;fb.addEventListener("click",c);f?(tc.style.display="block",Sb.checked=!1):(tc.style.display="none",Sb.checked=!0);Ac(e)&&gb.addEventListener("click",e)}function Dd(){ka.style.display="none"}function Wb(a){Ya(r.body,Q);la.style.display="block";Za=a;uc.checked=!0}function Yc(){B(r.body,Q);la.style.display="none"}function ae(){Yc();uc.checked?$a(Za,"csv"):Uc.checked?$a(Za,"xml"):Vc.checked?$a(Za,"json"):Wc.checked?$a(Za,"text"):Xc.checked&&$a(Za,"ical")}function be(a){Bb||
(Bb=!0,Ed=a.pageX-y.offsetLeft,Fd=a.pageY-y.offsetTop)}function he(a){Bb&&(y.style.left=a.pageX-Ed+"px",y.style.top=a.pageY-Fd+"px")}function ce(){Bb&&(Bb=!1,Gd=!0)}function ya(){Pa.disabled=!0;za.disabled=""===U.value;ea=[];ra=0}function fd(){"block"!==y.style.display&&(ea=[],y.style.display="block",U.value="",md(),ya());U.focus()}function md(){Gd||(y.style.left=Ba.innerWidth/2-y.offsetWidth/2+"px",y.style.top=Ba.innerHeight/2-y.offsetHeight/2+"px")}function de(){y.style.display="none"}function ee(){"none"!==
K.style.display?(K.style.display="none",ma.className="ib-square-hollow",p(ma,b.restoreTooltipText)):(K.style.display="block",ma.className="ib-minus",p(ma,b.minimizedTooltipText))}function ge(){0<ra&&(ra--,Hd(),I(ea[ra].from))}function fe(a){13!==a.keyCode||za.disabled||cd()}function cd(){if(0===ea.length){var a=Zc.checked,d=a?U.value:U.value.toLowerCase(),c={};mb(function(e){var f=v(e.title),k=v(e.location),l=v(e.description),m=!1;a||(f=f.toLowerCase(),l=l.toLowerCase(),k=k.toLowerCase());$c.checked&&
-1<f.indexOf(d)?m=!0:ad.checked&&-1<k.indexOf(d)?m=!0:bd.checked&&-1<l.indexOf(d)&&(m=!0);m&&(f=e.from.getMonth()+"-"+e.from.getFullYear(),c.hasOwnProperty(f)||(ea.push(e),c[f]=!0))})}else ra++;Hd();0<ea.length&&I(ea[ra].from)}function Hd(){Pa.disabled=0===ra;za.disabled=ra===ea.length-1||0===ea.length}function sd(a,d,c){t(a);null!==sa&&(clearTimeout(sa),sa=null);wc();"block"!==w.style.display&&(sa=setTimeout(function(){r.body.contains(Q)||Yb()||Bc()||Cc()||(c=h(c)?c:"",w.className=""===c?"calendar-tooltip-event":
"calendar-tooltip",""!==c?w.innerHTML=c:(w.innerHTML="",w.appendChild(vc),w.appendChild(Tb),vc.innerHTML=d.title,tb(d.repeatEvery)&&0<d.repeatEvery?(hb.innerHTML=b.repeatsText.replace(":","")+" "+Ua(d.repeatEvery),Ya(w,hb)):(hb.innerHTML="",B(w,hb)),O(d.location)?(jb.innerHTML=d.location,Ya(w,jb)):(jb.innerHTML="",B(w,jb)),O(d.description)?(ib.innerHTML=d.description,Ya(w,ib)):(ib.innerHTML="",B(w,ib)),d.from.getDate()===d.to.getDate()?Tb.innerHTML=d.isAllDay?b.allDayText:pb(d.from,d.to):ec(Tb,d.from,
d.to)),Lc(a,w))},b.eventTooltipDelay))}function wc(){null!==sa&&(clearTimeout(sa),sa=null);Id()&&(w.style.display="none")}function Id(){return null!==sa||null!==w&&"block"===w.style.display}function p(a,d){a.onmousemove=function(c){sd(c,null,d)}}function rd(){null===Cb&&0<b.autoRefreshTimerDelay&&(Cb=setInterval(function(){Ub()},b.autoRefreshTimerDelay))}function qd(){null!==Cb&&0<b.autoRefreshTimerDelay&&(clearTimeout(Cb),Cb=null)}function Ub(){nd()&&(ic(),fa())}function nd(){return!Id()&&!r.body.contains(Q)&&
!Yb()&&!Bc()&&!Cc()}function Ic(a){Ab(a)||(a.className+=" overlay-shown")}function Gc(a){Ab(a)&&(a.className=a.className.replace(" overlay-shown",""))}function Ab(a){return-1<a.className.indexOf("overlay-shown")}function g(a,d,c){a=a.toLowerCase();var e="text"===a;Oc.hasOwnProperty(a)||(Oc[a]=e?r.createTextNode(""):r.createElement(a));a=Oc[a].cloneNode(!1);h(d)&&(a.className=d);h(c)&&(a.type=c);return a}function Ha(a){ab.hasOwnProperty(a)&&null!==ab[a]||(ab[a]=r.getElementById(a));r.body.contains(ab[a])||
(ab[a]=r.getElementById(a));return ab[a]}function Ya(a,d){try{a.contains(d)||a.appendChild(d)}catch(c){console.warn(c.message)}}function B(a,d){try{a.contains(d)&&a.removeChild(d)}catch(c){console.warn(c.message)}}function t(a){a.preventDefault();a.cancelBubble=!0}function Lc(a,d){var c=a.pageX,e=a.pageY;d.style.display="block";c+d.offsetWidth>Ba.innerWidth?c-=d.offsetWidth:c++;e+d.offsetHeight>Ba.innerHeight?e-=d.offsetHeight:e++;d.style.left=c+"px";d.style.top=e+"px"}function T(a,d,c,e){var f=g("div",
"radioButtonContainer");a.appendChild(f);a=g("label","radioButton");f.appendChild(a);f=g("input",null,"radio");f.name=c;a.appendChild(f);h(e)&&(f.onchange=e);c=g("span","check-mark");a.appendChild(c);c=g("span","text");c.innerText=d;a.appendChild(c);return f}function F(a,d,c){var e=g("div");a.appendChild(e);a=g("label","checkbox");a.innerText=d;e.appendChild(a);d=g("input",null,"checkbox");a.appendChild(d);h(c)&&(d.onchange=c);c=g("span","check-mark");a.appendChild(c);return[d,a]}function h(a){return void 0!==
a&&null!==a&&""!==a}function Ac(a){return h(a)&&"function"===typeof a}function Jd(a){return h(a)&&"string"===typeof a}function tb(a){return h(a)&&"number"===typeof a}function Mc(a){return h(a)&&"object"===typeof a&&a instanceof Array}function O(a){return Jd(a)&&""!==a}function $a(a,d){d=h(d)?d.toLowerCase():"csv";var c="",e=[];e=h(a)?e.concat(a):lb();e=Aa(e);e=Aa(e,!1);if("csv"===d){var f=[b.idText,b.fromText,b.toText,b.isAllDayText,b.titleText,b.descriptionText,b.locationText,b.backgroundColorText,
b.textColorText,b.borderColorText,b.repeatsText,b.repeatDaysToExcludeText,b.seriesIgnoreDatesText,b.createdText,b.organizerNameText,b.organizerEmailAddressText];c=f.length;for(var k=[],l=[],m=0;m<c;m++)k.push(z(f[m]));l.push(k.join(","));f=e.length;for(c=0;c<f;c++){k=l;m=e[c];var n=[];n.push(z(v(m.id)));n.push(z(nc(m.from)));n.push(z(nc(m.to)));n.push(z(m.isAllDay?b.yesText:b.noText));n.push(z(v(m.title)));n.push(z(v(m.description)));n.push(z(v(m.location)));n.push(z(v(m.color)));n.push(z(v(m.colorText)));
n.push(z(v(m.colorBorder)));n.push(z(Ua(m.repeatEvery)));n.push(z(Kd(m.repeatEveryExcludeDays)));n.push(z(V(m.seriesIgnoreDates).join(",")));n.push(z(nc(m.created)));n.push(z(v(m.organizerName)));n.push(z(v(m.organizerEmailAddress)));k.push(n.join(","))}c=l.join("\n")}else if("xml"===d){f=[];f.push('<?xml version="1.0" ?>');f.push("<Events>");c=e.length;for(k=0;k<c;k++){m=e[k];f.push("<Event>");for(l in m)m.hasOwnProperty(l)&&(n=Ld(l),f.push("<"+n+">"+Pc(l,m[l])+"</"+n+">"));f.push("</Event>")}f.push("</Events>");
c=f.join("\n")}else if("json"===d){l=[];l.push("{");l.push('"events:": [');c=e.length;for(k=0;k<c;k++){m=e[k];l.push("{");for(f in m)m.hasOwnProperty(f)&&l.push('"'+f+'":"'+Pc(f,m[f])+'",');m=l[l.length-1];l[l.length-1]=m.substring(0,m.length-1);l.push("},")}l[l.length-1]="}";l.push("]");l.push("}");c=l.join("\n")}else if("text"===d){l=[];f=e.length;for(c=0;c<f;c++){m=e[c];for(k in m)m.hasOwnProperty(k)&&l.push(Ld(k)+": "+Pc(k,m[k]));l.push("")}l.pop();c=l.join("\n")}else if("ical"===d){l=[];l.push("BEGIN:VCALENDAR");
l.push("VERSION:2.0");l.push("PRODID:-//hacksw/handcal//NONSGML v1.0//EN");f=e.length;for(c=0;c<f;c++)k=e[c],l.push("BEGIN:VEVENT"),l.push("UID:"+v(k.id)),l.push("DTSTAMP:"+Qc(k.created)),l.push("ORGANIZER;CN="+v(k.organizerName)+":MAILTO:"+v(k.organizerEmailAddress)),l.push("DTSTART:"+Qc(k.from)),l.push("DTEND:"+Qc(k.to)),l.push("SUMMARY:"+v(k.title)),l.push("END:VEVENT");l.push("END:VCALENDAR");c=l.join("\n")}""!==c&&(e=g("a"),l="text",f=k=d,"text"===d?(k="plain",f="txt"):"ical"===d?(k="calendar",
f="ics"):"json"===d&&(l="application"),e.style.display="none",e.setAttribute("target","_blank"),e.setAttribute("href","data:"+l+"/"+k+";charset=utf-8,"+encodeURIComponent(c)),l=e.setAttribute,k=new Date,c=H(k.getDate())+"-"+H(k.getMonth())+"-"+k.getFullYear(),k=H(k.getHours())+"-"+H(k.getMinutes()),l.call(e,"download",b.exportStartFilename+c+"_"+k+"."+f),r.body.appendChild(e),e.click(),r.body.removeChild(e),na("onEventsExported"))}function nc(a){var d=H(a.getDate())+"/"+H(a.getMonth())+"/"+a.getFullYear();
a=H(a.getHours())+":"+H(a.getMinutes());return d+" "+a}function v(a,d){d=h(d)?d:"";return Jd(a)?a:d}function da(a,d){d=h(d)?d:0;return tb(a)?a:d}function ed(a,d){d=h(d)?d:0;return h(a)&&"boolean"===typeof a?a?1:0:d}function V(a,d){d=h(d)?d:[];return Mc(a)?a:d}function Ua(a){var d=b.repeatsNever;a=da(a);1===a?d=b.repeatsEveryDayText:2===a?d=b.repeatsEveryWeekText:3===a?d=b.repeatsEveryMonthText:4===a&&(d=b.repeatsEveryYearText);return d}function Ld(a){return a.charAt(0).toUpperCase()+a.slice(1)}function Pc(a,
d){var c=v(d);"boolean"===typeof d?c=d?b.yesText:b.noText:"object"===typeof d&&d instanceof Date?c=nc(d):"object"===typeof d&&d instanceof Array?c="repeatEveryExcludeDays"===a?Kd(d):V(d).join(","):"number"===typeof d&&(c="repeatEvery"===a?Ua(d):d.toString());return c}function Qc(a){var d=[];d.push(a.getFullYear());d.push(a.getMonth());d.push(a.getDate());d.push("T");d.push(a.getHours());d.push(a.getMinutes());d.push("00");d.push("Z");return d.join("")}function Kd(a){var d=[];if(Mc(a))for(var c=a.length,
e=0;e<c;e++){var f=a[e]-1;-1===f&&(f=6);d.push(b.dayNames[f])}return V(d).join(",")}function z(a){a=a.replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ");a=a.replace(/"/g,'""');return'"'+a+'"'}function xc(){var a=new Date(u);a.setMonth(a.getMonth()-1);I(a);na("onPreviousMonth")}function zc(){var a=new Date(u);a.setMonth(a.getMonth()+1);I(a);na("onNextMonth")}function od(){var a=new Date(u);a.setFullYear(a.getFullYear()-1);I(a);na("onPreviousYear")}function pd(){var a=new Date(u);a.setFullYear(a.getFullYear()+
1);I(a);na("onNextYear")}function yc(){var a=new Date;if(u.getMonth()!==a.getMonth()||u.getFullYear()!==a.getFullYear())I(),na("onToday")}function Md(a){h(a)&&"object"===typeof a||(a={});return a}var b={},yb=this,u=null,pc=null,Oc={},ab={},r=null,Ba=null,Rc=null,Eb=!1,ld=!1,L={},Cb=null,x=null,kd=null,Ra=!1,A=null,C=null,kb=null,M=null,Xb=null,Qa=null,Z=null,Q=null,ua=null,ha=null,Fb=null,J=null,R=null,E=null,S=null,bb=null,va=null,db=null,cb=null,xa=null,Hb=null,Ib=null,Jb=null,Kb=null,Ja=null,eb=
null,D={},Ka=null,La=null,ia=null,Ma=null,Na=null,Oa=null,ja=null,Lb=null,Mb=null,Nb=null,Ob=null,Pb=null,Qb=null,Rb=null,Ca=null,qb=null,rb=null,W=null,Hc=[],Ta=null,aa=null,Ea=null,ub=null,ba=null,vb=null,Fa=null,X=null,Va=null,ca=null,xb=null,Wa={},Jc={},wb=[],pa=null,ka=null,rc=null,sc=null,Sb=null,tc=null,fb=null,gb=null,la=null,uc=null,Uc=null,Vc=null,Wc=null,Xc=null,Za=null,w=null,vc=null,Tb=null,hb=null,ib=null,jb=null,sa=null,G=null,hc=null,N=null,qa=null,zb=null,y=null,ma=null,K=null,U=
null,Zc=null,$c=null,ad=null,bd=null,Pa=null,za=null,Bb=!1,Gd=!1,Ed=0,Fd=0,ea=[],ra=0;this.turnOnFullScreen=function(){jd()};this.turnOffFullScreen=function(){id()};this.startTheAutoRefreshTimer=function(){rd()};this.stopTheAutoRefreshTimer=function(){qd()};this.moveToPreviousMonth=function(){xc()};this.moveToNextMonth=function(){zc()};this.moveToPreviousYear=function(){od()};this.moveToNextYear=function(){pd()};this.moveToToday=function(){yc()};this.getCurrentDisplayDate=function(){return new Date(u)};
this.setCurrentDisplayDate=function(a){I(new Date(a));na("onSetDate")};this.exportAllEvents=function(a){b.exportEventsEnabled&&(a=h(a)?a:"csv",$a(null,a))};this.refresh=function(){Ub()};this.addEvents=function(a,d,c){d=h(d)?d:!0;c=h(c)?c:!0;for(var e=a.length,f=0;f<e;f++)this.addEvent(a[f],!1,!1);c&&Zb("onEventAdded",a);d&&fa()};this.addEvent=function(a,d,c){var e=!1;if(a.from<=a.to){var f=a.from;f=f.getFullYear()+"-"+f.getMonth()+"-"+f.getDate();var k=hd();L.hasOwnProperty(f)||(L[f]={});L[f].hasOwnProperty(k)||
(d=h(d)?d:!0,c=h(c)?c:!0,h(a.id)?k=a.id:a.id=k,h(a.created)||(a.created=new Date),L[f][k]=dd(a),e=!0,c&&Zb("onEventAdded",a),d&&fa())}return e};this.updateEvent=function(a,d,c,e){if(a=this.removeEvent(a,!1,!1))c=h(c)?c:!0,e=h(e)?e:!0,d.id=hd(),(a=this.addEvent(d,c,!1))&&e&&Zb("onEventUpdated",d);return a};this.removeEvent=function(a,d,c){var e=!1;mb(function(f,k,l){if(l===a)return d=h(d)?d:!0,c=h(c)?c:!0,delete L[k][l],e=!0,c&&Zb("onEventRemoved",f),d&&fa(),!0});return e};this.clearEvents=function(a){a=
h(a)?a:!0;L={};na("onEventsCleared");a&&fa()};this.getEvents=function(){return Aa(lb())};this.getEvent=function(a){var d=null;mb(function(c,e,f){if(f===a)return d=c,!0});return d};this.setOptions=function(a){a=Md(a);for(var d in a)a.hasOwnProperty(d)&&(b[d]=a[d]);Eb&&(Eb=!1,I(u,!0))};(function(a,d){r=a;Ba=d;Rc=Nd;b=Md(Od);h(b.previousMonthTooltipText)||(b.previousMonthTooltipText="Previous Month");h(b.nextMonthTooltipText)||(b.nextMonthTooltipText="Next Month");h(b.previousDayTooltipText)||(b.previousDayTooltipText=
"Previous Day");h(b.nextDayTooltipText)||(b.nextDayTooltipText="Next Day");h(b.previousWeekTooltipText)||(b.previousWeekTooltipText="Previous Week");h(b.nextWeekTooltipText)||(b.nextWeekTooltipText="Next Week");h(b.addEventTooltipText)||(b.addEventTooltipText="Add Event");h(b.closeTooltipText)||(b.closeTooltipText="Close");h(b.exportEventsTooltipText)||(b.exportEventsTooltipText="Export Events");h(b.todayTooltipText)||(b.todayTooltipText="Today");h(b.refreshTooltipText)||(b.refreshTooltipText="Refresh");
h(b.searchTooltipText)||(b.searchTooltipText="Search");h(b.expandDayTooltipText)||(b.expandDayTooltipText="Expand Day");h(b.listAllEventsTooltipText)||(b.listAllEventsTooltipText="View All Events");h(b.listWeekEventsTooltipText)||(b.listWeekEventsTooltipText="View Current Week Events");h(b.dayHeaderNames)||(b.dayHeaderNames="Mon Tue Wed Thu Fri Sat Sun".split(" "));h(b.dayNames)||(b.dayNames="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "));h(b.fromText)||(b.fromText="From:");
h(b.toText)||(b.toText="To:");h(b.isAllDayText)||(b.isAllDayText="Is All-Day");h(b.titleText)||(b.titleText="Title:");h(b.descriptionText)||(b.descriptionText="Description:");h(b.locationText)||(b.locationText="Location:");h(b.addText)||(b.addText="Add");h(b.updateText)||(b.updateText="Update");h(b.cancelText)||(b.cancelText="Cancel");h(b.removeEventText)||(b.removeEventText="Remove");h(b.addEventTitle)||(b.addEventTitle="Add Event");h(b.editEventTitle)||(b.editEventTitle="Edit Event");h(b.monthNames)||
(b.monthNames="January February March April May June July August September October November December".split(" "));h(b.showDayNumberOrdinals)||(b.showDayNumberOrdinals=!0);h(b.dragAndDropForEventsEnabled)||(b.dragAndDropForEventsEnabled=!0);h(b.exportStartFilename)||(b.exportStartFilename="exported_events_");h(b.fromTimeErrorMessage)||(b.fromTimeErrorMessage="Please select a valid 'From' time.");h(b.toTimeErrorMessage)||(b.toTimeErrorMessage="Please select a valid 'To' time.");h(b.toSmallerThanFromErrorMessage)||
(b.toSmallerThanFromErrorMessage="Please select a 'To' date that is larger than the 'From' date.");h(b.titleErrorMessage)||(b.titleErrorMessage="Please enter a value in the 'Title' field (no empty space).");h(b.stText)||(b.stText="st");h(b.ndText)||(b.ndText="nd");h(b.rdText)||(b.rdText="rd");h(b.thText)||(b.thText="th");h(b.maximumEventsPerDayDisplay)||(b.maximumEventsPerDayDisplay=3);h(b.yesText)||(b.yesText="Yes");h(b.noText)||(b.noText="No");h(b.extraSelectableYearsAhead)||(b.extraSelectableYearsAhead=
51);h(b.allDayText)||(b.allDayText="All-Day");h(b.allEventsText)||(b.allEventsText="All Events");h(b.exportEventsEnabled)||(b.exportEventsEnabled=!0);h(b.manualEditingEnabled)||(b.manualEditingEnabled=!0);h(b.showTimesInMainCalendarEvents)||(b.showTimesInMainCalendarEvents=!1);h(b.startsOnText)||(b.startsOnText="Starts on the");h(b.andFinishesOnText)||(b.andFinishesOnText="and finishes on the");h(b.toTimeText)||(b.toTimeText="to");h(b.autoRefreshTimerDelay)||(b.autoRefreshTimerDelay=5E3);h(b.confirmEventRemoveTitle)||
(b.confirmEventRemoveTitle="Confirm Event Removal");h(b.confirmEventRemoveMessage)||(b.confirmEventRemoveMessage="Removing this event cannot be undone.  Do you want to continue?");h(b.okText)||(b.okText="OK");h(b.selectExportTypeTitle)||(b.selectExportTypeTitle="Select Export Type");h(b.fullScreenModeEnabled)||(b.fullScreenModeEnabled=!0);h(b.eventTooltipDelay)||(b.eventTooltipDelay=1E3);h(b.selectColorsText)||(b.selectColorsText="Select Colors");h(b.backgroundColorText)||(b.backgroundColorText="Background Color:");
h(b.textColorText)||(b.textColorText="Text Color:");h(b.borderColorText)||(b.borderColorText="Border Color:");h(b.searchEventsTitle)||(b.searchEventsTitle="Search Events");h(b.forText)||(b.forText="For:");h(b.previousText)||(b.previousText="Previous");h(b.nextText)||(b.nextText="Next");h(b.matchCaseText)||(b.matchCaseText="Match Case");h(b.minimumDayHeight)||(b.minimumDayHeight=0);h(b.repeatsText)||(b.repeatsText="Repeats:");h(b.repeatDaysToExcludeText)||(b.repeatDaysToExcludeText="Repeat Days To Exclude:");
h(b.daysToExcludeText)||(b.daysToExcludeText="Days To Exclude:");h(b.seriesIgnoreDatesText)||(b.seriesIgnoreDatesText="Series Ignore Dates:");h(b.repeatsNever)||(b.repeatsNever="Never");h(b.repeatsEveryDayText)||(b.repeatsEveryDayText="Every Day");h(b.repeatsEveryWeekText)||(b.repeatsEveryWeekText="Every Week");h(b.repeatsEveryMonthText)||(b.repeatsEveryMonthText="Every Month");h(b.repeatsEveryYearText)||(b.repeatsEveryYearText="Every Year");h(b.repeatOptionsTitle)||(b.repeatOptionsTitle="Repeat Options");
h(b.moreText)||(b.moreText="More");h(b.includeText)||(b.includeText="Include:");h(b.holidays)||(b.holidays=[{day:24,month:12,title:"Christmas Eve"},{day:25,month:12,title:"Christmas Day"},{day:26,month:12,title:"Boxing Day"},{day:31,month:12,title:"New Year's Eve"},{day:1,month:1,title:"New Year's Day"}]);h(b.minimizedTooltipText)||(b.minimizedTooltipText="Minimize");h(b.restoreTooltipText)||(b.restoreTooltipText="Restore");h(b.removeAllEventsInSeriesText)||(b.removeAllEventsInSeriesText="Remove All Events In Series");
h(b.createdText)||(b.createdText="Created:");h(b.organizerName)||(b.organizerName="");h(b.organizerEmailAddress)||(b.organizerEmailAddress="");h(b.organizerNameText)||(b.organizerNameText="Organizer:");h(b.organizerEmailAddressText)||(b.organizerEmailAddressText="Organizer Email:");h(b.enableFullScreenTooltipText)||(b.enableFullScreenTooltipText="Turn On Full-Screen Mode");h(b.disableFullScreenTooltipText)||(b.disableFullScreenTooltipText="Turn Off Full-Screen Mode");h(b.idText)||(b.idText="ID:");
I(Pd,!0)})(document,window)};