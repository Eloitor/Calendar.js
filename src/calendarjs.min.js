function calendarJs(Wd,Xd,Yd){function J(a,c){t=h(a)?a:new Date;c=h(c)?c:!1;t.setDate(1);t.setHours(0,0,0,0);var b=(new Date(t.getFullYear(),t.getMonth(),1)).getDay(),e=Kb(t.getFullYear(),t.getMonth());0===b&&(b=7);ya();if(!Lb){A=Ma(Yc);A.className="calendar";A.innerHTML="";Zd();$d();ae();be();var f=g("div","row header-days"),k=d.dayHeaderNames.length;A.appendChild(f);for(var l=0;l<k;l++){var m=d.dayHeaderNames[l],n=g("div","cell");n.innerHTML=m;f.appendChild(n)}for(f=0;6>f;f++)for(k=g("div","row"),
A.appendChild(k),l=0;7>l;l++)m=7*f+(l+1),n=g("div","cell"),n.id="calendar-day-"+m,k.appendChild(n),0<d.minimumDayHeight&&(n.style.height=d.minimumDayHeight+"px");ce();Lb=!0}m=b;if(1<m)for(f=new Date(t),f.setMonth(f.getMonth()-1),k=Kb(f.getFullYear(),f.getMonth()),l=1,m=k-m+1;m<k;m++)uc(m+1,l,f.getMonth(),f.getFullYear(),!0),l++;for(k=f=0;k<e;k++)f=b+k,uc(k+1,f,t.getMonth(),t.getFullYear(),!1);if(42>f){b=1;e=new Date(t);e.setMonth(e.getMonth()+1);for(f+=1;43>f;f++)uc(b,f,e.getMonth(),e.getFullYear(),
!0),b++;b=Kb(e.getFullYear(),e.getMonth());b=Math.round(b/2);vc=new Date(e.getFullYear(),e.getMonth(),b)}else vc=null;ia();c&&(null===R&&(R=g("div","disabled-background")),null!==za&&B(r.body,za),za=g("div","calendar-dialog event-editor"),r.body.appendChild(za),b=g("div","view"),za.appendChild(b),ja=g("div","disabled-area"),b.appendChild(ja),Mb=g("div","title-bar"),b.appendChild(Mb),e=g("div","contents"),b.appendChild(e),b=g("p"),b.innerText=d.titleText,e.appendChild(b),b=g("div","input-title-container"),
e.appendChild(b),Aa=g("input",null,"text"),b.appendChild(Aa),f=g("input","select-colors","button"),f.value="...",f.onclick=de,b.appendChild(f),b=g("p"),b.innerText=d.fromText.replace(":","")+"/"+d.toText,e.appendChild(b),b=g("div","split"),e.appendChild(b),L=g("input"),L.onchange=Nb,b.appendChild(L),ka(L,"date"),S=g("input"),b.appendChild(S),ka(S,"time"),b=g("div","split"),e.appendChild(b),G=g("input"),G.onchange=Nb,b.appendChild(G),ka(G,"date"),T=g("input"),b.appendChild(T),ka(T,"time"),fb=H(e,d.isAllDayText,
Nb)[0],b=g("p"),b.innerText=d.repeatsText,e.appendChild(b),b=g("div","radioButtonsContainer"),e.appendChild(b),Ba=U(b,d.repeatsNever,"RepeatType",Na),Ob=U(b,d.repeatsEveryDayText,"RepeatType",Na),Pb=U(b,d.repeatsEveryWeekText,"RepeatType",Na),Qb=U(b,d.repeatsEveryMonthText,"RepeatType",Na),Rb=U(b,d.repeatsEveryYearText,"RepeatType",Na),Oa=g("input","repeat-options","button"),Oa.value="...",Oa.onclick=ee,b.appendChild(Oa),b=g("p"),b.innerText=d.locationText,e.appendChild(b),gb=g("input",null,"text"),
e.appendChild(gb),b=g("p"),b.innerText=d.descriptionText,e.appendChild(b),hb=g("textarea","custom-scroll-bars"),e.appendChild(hb),ib=g("p","error"),e.appendChild(ib),b=g("div","split"),e.appendChild(b),Pa=g("input","ok","button"),Pa.value=d.addText,Pa.onclick=fe,b.appendChild(Pa),f=g("input","cancel","button"),f.value=d.cancelText,f.onclick=wc,b.appendChild(f),Qa=g("input","remove","button"),Qa.value=d.removeEventText,Qa.onclick=ge,e.appendChild(Qa),null!==la&&B(r.body,la),la=g("div","calendar-dialog event-editor-colors"),
r.body.appendChild(la),e=g("div","title-bar"),e.innerHTML=d.selectColorsText,la.appendChild(e),e=g("div","contents"),la.appendChild(e),b=g("p"),b.innerText=d.backgroundColorText,e.appendChild(b),Ra=g("input"),e.appendChild(Ra),ka(Ra,"color"),b=g("p"),b.innerText=d.textColorText,e.appendChild(b),Sa=g("input"),e.appendChild(Sa),ka(Sa,"color"),b=g("p"),b.innerText=d.borderColorText,e.appendChild(b),Ta=g("input"),e.appendChild(Ta),ka(Ta,"color"),b=g("div","split"),e.appendChild(b),e=g("input","ok","button"),
e.value=d.okText,e.onclick=he,b.appendChild(e),e=g("input","cancel","button"),e.value=d.cancelText,e.onclick=Zc,b.appendChild(e),null!==ma&&B(r.body,ma),ma=g("div","calendar-dialog event-editor-repeat-options"),r.body.appendChild(ma),e=g("div","title-bar"),e.innerHTML=d.repeatOptionsTitle,ma.appendChild(e),e=g("div","contents"),ma.appendChild(e),b=g("p"),b.innerText=d.daysToExcludeText,e.appendChild(b),Sb=H(e,d.dayNames[0])[0],Tb=H(e,d.dayNames[1])[0],Ub=H(e,d.dayNames[2])[0],Vb=H(e,d.dayNames[3])[0],
Wb=H(e,d.dayNames[4])[0],Xb=H(e,d.dayNames[5])[0],Yb=H(e,d.dayNames[6])[0],b=g("p"),b.innerText=d.repeatEndsText,e.appendChild(b),Ca=g("input"),e.appendChild(Ca),ka(Ca,"date"),b=g("div","split"),e.appendChild(b),e=g("input","ok","button"),e.value=d.okText,e.onclick=ie,b.appendChild(e),e=g("input","cancel","button"),e.value=d.cancelText,e.onclick=$c,b.appendChild(e),null!==na&&B(r.body,na),na=g("div","calendar-dialog confirmation"),r.body.appendChild(na),xc=g("div","title-bar"),na.appendChild(xc),
e=g("div","contents"),na.appendChild(e),yc=g("div","message"),e.appendChild(yc),b=H(e,d.removeAllEventsInSeriesText),Zb=b[0],zc=b[1],b=g("div","split"),e.appendChild(b),jb=g("input","yes","button"),jb.value=d.yesText,b.appendChild(jb),kb=g("input","no","button"),kb.value=d.noText,b.appendChild(kb),null!==oa&&B(r.body,oa),oa=g("div","calendar-dialog select-export-type"),r.body.appendChild(oa),e=g("div","title-bar"),e.innerHTML=d.selectExportTypeTitle,oa.appendChild(e),b=g("div","contents"),oa.appendChild(b),
e=g("div","radioButtonsContainer"),b.appendChild(e),Ac=U(e,"CSV","ExportType"),ad=U(e,"XML","ExportType"),bd=U(e,"JSON","ExportType"),cd=U(e,"TEXT","ExportType"),dd=U(e,"iCAL","ExportType"),e=g("div","split"),b.appendChild(e),b=g("input","ok","button"),b.value=d.okText,b.onclick=je,e.appendChild(b),b=g("input","cancel","button"),b.value=d.cancelText,b.onclick=ed,e.appendChild(b),null!==z&&B(r.body,z),z=g("div","calendar-dialog search"),r.body.appendChild(z),e=g("div","title-bar"),e.innerHTML=d.searchEventsTitle,
e.onmousedown=ke,e.onmouseup=le,z.appendChild(e),b=g("div","ib-close"),b.onclick=me,e.appendChild(b),p(b,d.closeTooltipText),pa=g("div","ib-minus"),pa.onclick=fd,e.appendChild(pa),p(pa,d.minimizedTooltipText),K=g("div","contents"),z.appendChild(K),e=g("p"),e.innerText=d.forText,K.appendChild(e),V=g("input",null,"text"),V.oninput=Da,V.onpropertychange=Da,V.onkeypress=ne,K.appendChild(V),gd=H(K,d.matchCaseText,Da)[0],e=g("p"),e.innerText=d.includeText,K.appendChild(e),e=g("div","checkboxContainer"),
K.appendChild(e),hd=H(e,d.titleText.replace(":",""),Da)[0],id=H(e,d.locationText.replace(":",""),Da)[0],jd=H(e,d.descriptionText.replace(":",""),Da)[0],e=g("div","split"),K.appendChild(e),Ua=g("input","previous","button"),Ua.value=d.previousText,Ua.onclick=oe,e.appendChild(Ua),Ea=g("input","next","button"),Ea.value=d.nextText,Ea.onclick=kd,e.appendChild(Ea),r.body.addEventListener("mousemove",pe),null===w&&(w=g("div"),r.body.appendChild(w),Bc=g("div","title"),$b=g("div","date"),lb=g("div","repeats"),
mb=g("div","description"),nb=g("div","location"),document.body.addEventListener("mousemove",Cc)),qe(),re());ob.innerHTML=d.monthNames[t.getMonth()]+", "+t.getFullYear()+" \u25be"}function pb(){var a=[];qb(function(c){a.push(c)});return a}function qb(a){for(var c in M)if(M.hasOwnProperty(c))for(var b in M[c])if(M[c].hasOwnProperty(b)){var e=ld(M[c][b]);if(a(e,c,b))return}}function Fa(a,c){c=h(c)?c:!0;a=a.sort(function(b,e){return b.from-e.from});c&&(a=a.sort(function(b,e){return md(e.isAllDay)-md(b.isAllDay)}));
return a}function be(){C=g("div","header-date");A.appendChild(C);d.fullScreenModeEnabled&&(C.ondblclick=aa);var a=g("div","ib-arrow-left-full");a.onclick=Dc;a.ondblclick=q;C.appendChild(a);p(a,d.previousMonthTooltipText);a=g("div","ib-pin");a.onclick=Ec;a.ondblclick=q;C.appendChild(a);p(a,d.todayTooltipText);a=g("div","ib-refresh");a.onclick=rb;a.ondblclick=q;C.appendChild(a);p(a,d.refreshTooltipText);a=g("div","ib-search");a.onclick=nd;a.ondblclick=q;C.appendChild(a);p(a,d.searchTooltipText);a=g("div",
"ib-arrow-right-full");a.onclick=Fc;a.ondblclick=q;C.appendChild(a);p(a,d.nextMonthTooltipText);d.manualEditingEnabled&&(a=g("div","ib-plus"),a.onclick=ac,a.ondblclick=q,C.appendChild(a),p(a,d.addEventTooltipText));d.exportEventsEnabled&&(Va=g("div","ib-arrow-down-full-line"),Va.ondblclick=q,C.appendChild(Va),p(Va,d.exportEventsTooltipText),Va.onclick=function(){bc()});a=g("div","ib-eye");a.ondblclick=q;C.appendChild(a);a.onclick=function(){od(!0)};p(a,d.listAllEventsTooltipText);a=g("div","ib-hamburger");
a.ondblclick=q;C.appendChild(a);a.onclick=function(){sb(null,!0)};p(a,d.listWeekEventsTooltipText);d.fullScreenModeEnabled&&(ba=g("div","ib-arrow-expand-left-right"),ba.ondblclick=q,ba.onclick=aa,C.appendChild(ba),p(ba,d.enableFullScreenTooltipText));a=g("div","title-container");C.appendChild(a);ob=g("span");ob.ondblclick=q;a.appendChild(ob);se(a)}function se(a){var c=new Date(1900,1,1),b=(new Date).getFullYear()-c.getFullYear()+d.extraSelectableYearsAhead;N=g("div","years-drop-down");a.appendChild(N);
cc=g("div","contents custom-scroll-bars");N.appendChild(cc);for(a=0;a<b;a++)te(c.getFullYear()),c.setFullYear(c.getFullYear()+1);ob.onclick=ue}function te(a){var c=g("div");c.innerText=a.toString();c.id="year-selected-"+a.toString();cc.appendChild(c);c.onclick=function(){t.setFullYear(a);J(t);dc()&&(N.style.display="none")}}function ld(a){a.isAllDay&&(a.from=new Date(a.from.getFullYear(),a.from.getMonth(),a.from.getDate(),0,0),a.to=new Date(a.from.getFullYear(),a.from.getMonth(),a.from.getDate(),
23,59));return a}function ue(a){if("block"!==N.style.display){ya();q(a);a=N.getElementsByClassName("current-year-selected");if(1<=a.length)for(var c=a.length,b=0;b<c;b++)a[b].removeAttribute("class");a=Ma("year-selected-"+t.getFullYear());null!==a&&(a.className="current-year-selected");N.style.display="block";cc.scrollTop=a.offsetTop-N.offsetHeight/2}}function dc(){return null!==N&&"block"===N.style.display}function aa(){Wa?pd():qd()}function qd(){!Wa&&d.fullScreenModeEnabled&&(rd=A.style.cssText,
Wa=!0,ba.className="ib-arrow-contract-left-right",ca.className="ib-arrow-contract-left-right",da.className="ib-arrow-contract-left-right",ea.className="ib-arrow-contract-left-right",p(ba,d.disableFullScreenTooltipText),p(ca,d.disableFullScreenTooltipText),p(da,d.disableFullScreenTooltipText),p(ea,d.disableFullScreenTooltipText),A.className+=" full-screen-view",A.removeAttribute("style"))}function pd(){Wa&&d.fullScreenModeEnabled&&(Wa=!1,ba.className="ib-arrow-expand-left-right",ca.className="ib-arrow-expand-left-right",
da.className="ib-arrow-expand-left-right",ea.className="ib-arrow-expand-left-right",p(ba,d.enableFullScreenTooltipText),p(ca,d.enableFullScreenTooltipText),p(da,d.enableFullScreenTooltipText),p(ea,d.enableFullScreenTooltipText),A.className=A.className.replace(" full-screen-view",""),A.style.cssText=rd)}function ce(){sd||(r.body.addEventListener("click",ya),r.body.addEventListener("contextmenu",ya),Ga.addEventListener("resize",ya),Ga.addEventListener("resize",td),r.addEventListener("keydown",function(a){Wa&&
ud()&&(37===a.keyCode&&(a.ctrlKey||a.metaKey)?(a.preventDefault(),vd()):39===a.keyCode&&(a.ctrlKey||a.metaKey)?(a.preventDefault(),wd()):70===a.keyCode&&(a.ctrlKey||a.metaKey)?(a.preventDefault(),nd()):27===a.keyCode?aa():37===a.keyCode?Dc():39===a.keyCode?Fc():40===a.keyCode?Ec():116===a.keyCode&&rb())}),sd=!0)}function ya(){Gc()&&(I.style.display="none");Hc()&&(O.style.display="none");dc()&&(N.style.display="none");Cc()}function ec(a,c){return a.getDate()===c.getDate()&&a.getMonth()===c.getMonth()&&
a.getFullYear()===c.getFullYear()}function Ic(a,c){var b=new Date(a.getFullYear(),a.getMonth(),a.getDate());b.setHours(0,0,0,0);var e=new Date(c.getFullYear(),c.getMonth(),c.getDate());e.setHours(0,0,0,0);return b<=e}function tb(a,c){var b=null;if(h(a)){b=("0"+a.getDate()).slice(-2);var e=("0"+(a.getMonth()+1)).slice(-2);b="date"===c?a.getFullYear()+"-"+e+"-"+b:b+"/"+e+"/"+a.getFullYear()}return b}function Xa(a){var c=("0"+a.getDate()).slice(-2),b=("0"+a.getMonth()).slice(-2);return c+"/"+b+"/"+a.getFullYear()}
function fc(a){return D(a.getHours())+":"+D(a.getMinutes())}function Jc(a){return 0>a.getDay()-1?6:a.getDay()-1}function ve(a){a=h(a)?a:new Date;var c=0===a.getDay()?7:a.getDay();c=a.getDate()-c+1;var b=c+6,e=new Date(a);a=new Date(a);e.setDate(c);e.setHours(0,0,0,0);a.setDate(b);a.setHours(23,59,59,99);return[e,a]}function Kb(a,c){return(new Date(a,c+1,0)).getDate()}function xd(a){var c=d.thText;if(31===a||21===a||1===a)c=d.stText;else if(22===a||2===a)c=d.ndText;else if(23===a||3===a)c=d.rdText;
return c}function yd(a){var c=a.getHours();a=a.getMinutes();return 60*c+a}function ub(a,c){var b=new Date(a.getFullYear(),a.getMonth(),a.getDate()),e=new Date(c.getFullYear(),c.getMonth(),c.getDate());return Math.ceil(Math.abs(e-b)/864E5)}function ia(){we();zd();for(var a=Fa(pb()),c=a.length,b=0;b<c;b++){var e=a[b];null!==gc(e.from)&&xe(e);var f=W(e.repeatEvery);0<f&&(1===f?hc(e,function(k){k.setDate(k.getDate()+1)}):2===f?hc(e,function(k){k.setDate(k.getDate()+7)}):3===f?hc(e,function(k){k.setMonth(k.getMonth()+
1)}):4===f&&hc(e,function(k){k.setFullYear(k.getFullYear()+1)}))}d.exportEventsEnabled&&(Va.style.display=0===c?"none":"inline-block");Ad()}function hc(a,c){for(var b=new Date(a.from),e=X(a.repeatEveryExcludeDays),f=X(a.seriesIgnoreDates);b<vc;){c(b);var k=Xa(b),l=!(!h(a.repeatEnds)||Ic(b,a.repeatEnds));-1!==e.indexOf(b.getDay())||-1!==f.indexOf(k)||l||null!==gc(b)&&Kc(b,a)}}function xe(a){Kc(a.from,a);if(a.from.getDate()!==a.to.getDate()){var c=ub(a.from,a.to);if(0<c)for(var b=new Date(a.from),e=
0;e<c;e++)b.setDate(b.getDate()+1),null!==gc(b)&&Kc(b,a)}}function Kc(a,c){var b=gc(a);if(null!==b){var e=d.manualEditingEnabled?"event":"event-no-hover";if(b.getElementsByClassName(e).length<d.maximumEventsPerDayDisplay||0>=d.maximumEventsPerDayDisplay){e=g("div",e);var f=c.title;d.showTimesInMainCalendarEvents&&!c.isAllDay&&c.from.getDate()===c.to.getDate()&&(f=vb(c.from,c.to)+": "+f);e.innerHTML=f;b.appendChild(e);Bd(e,c);ic(e,c,Lc(c,a));e.onmousemove=function(l){Cd(l,c)};if(d.manualEditingEnabled){var k=
Xa(a);e.oncontextmenu=function(l){jc(l,c,k)}}d.manualEditingEnabled&&(e.onclick=function(){qa(c)})}else ye(b,a)}}function ye(a,c){var b=a.getElementsByClassName("plus-x-events");b=0<b.length?b[0]:null;if(null===b){var e=new Date(c);b=g("div","plus-x-events");b.setAttribute("events","1");b.innerHTML="+1 "+d.moreText;b.ondblclick=q;a.appendChild(b);b.onclick=function(){Ha(e,!0)}}else{var f=parseInt(b.getAttribute("events"))+1;b.setAttribute("events",f.toString());b.innerHTML="+"+f+" "+d.moreText}}function gc(a){var c=
new Date(t.getFullYear(),t.getMonth(),1);var b=new Date(t);var e=new Date(t),f=null,k=0;c=Jc(c);b.setMonth(b.getMonth()+1);e.setMonth(e.getMonth()-1);a.getMonth()===b.getMonth()&&a.getFullYear()===b.getFullYear()?(b=c+Kb(t.getFullYear(),t.getMonth()),k=a.getDate()+b):a.getMonth()===e.getMonth()&&a.getFullYear()===e.getFullYear()?k=c-ub(a,t)+1:a.getMonth()===t.getMonth()&&a.getFullYear()===t.getFullYear()&&(b=c,k=a.getDate()+b);0<k&&(f=Ma("calendar-day-"+k));return f}function we(){for(var a=0;6>a;a++)for(var c=
0;7>c;c++){var b=Ma("calendar-day-"+(7*a+(c+1)));kc(b,d.manualEditingEnabled?"event":"event-no-hover");kc(b,"plus-x-events")}}function kc(a,c){for(var b=a.getElementsByClassName(c);b[0];)b[0].parentNode.removeChild(b[0])}function ic(a,c,b){h(b)&&b<new Date&&(a.className+=" expired");P(c.color)?(a.style.backgroundColor=c.color,P(c.colorText)&&(a.style.color=c.colorText),P(c.colorBorder)&&(a.style.borderLeftColor=c.colorBorder)):c.isAllDay&&(a.className+=" all-day")}function Lc(a,c){var b=W(a.repeatEvery),
e=new Date(a.to);0<b&&(b=new Date(c),b.setHours(e.getHours(),e.getMinutes()),e=b);return e}function ae(){Ia=g("div","full-day-view");A.appendChild(Ia);var a=g("div","title-bar");Ia.appendChild(a);d.fullScreenModeEnabled&&(a.ondblclick=aa);wb=g("div","title");a.appendChild(wb);var c=g("div","ib-close");c.ondblclick=q;a.appendChild(c);p(c,d.closeTooltipText);c.onclick=function(){lc(Ia);Y=null};d.manualEditingEnabled&&(c=g("div","ib-plus"),c.onclick=ac,c.ondblclick=q,a.appendChild(c),p(c,d.addEventTooltipText));
c=g("div","ib-arrow-right-full");c.onclick=ze;c.ondblclick=q;a.appendChild(c);p(c,d.nextDayTooltipText);c=g("div","ib-arrow-left-full");c.onclick=Ae;c.ondblclick=q;a.appendChild(c);p(c,d.previousDayTooltipText);d.exportEventsEnabled&&(Ya=g("div","ib-arrow-down-full-line"),Ya.ondblclick=q,a.appendChild(Ya),p(Ya,d.exportEventsTooltipText),Ya.onclick=function(){bc(Mc)});d.fullScreenModeEnabled&&(ca=g("div","ib-arrow-expand-left-right"),ca.ondblclick=q,ca.onclick=aa,a.appendChild(ca),p(ca,d.enableFullScreenTooltipText));
fa=g("div","contents custom-scroll-bars");Ia.appendChild(fa);Ja=g("div","content-events-all-day");fa.appendChild(Ja);a=g("div","all-day-text");a.innerHTML=d.allDayText;Ja.appendChild(a);xb=g("div","contents-events");fa.appendChild(xb);for(a=0;24>a;a++){c=g("div","hour");xb.appendChild(c);var b=g("div","hour-text");b.innerHTML=D(a)+":00";c.appendChild(b);b=g("div","hour-text");b.innerHTML=D(a)+":30";c.appendChild(b)}}function Ha(a,c){c=h(c)?c:!1;wb.innerText="";Y=new Date(a);Mc=[];Ja.style.display=
"block";kc(fa,d.manualEditingEnabled?"event":"event-no-hover");Nc(Ia);Ka(wb,a,!1,!0,!0);var b=Dd(a),e=[];if(null!==b){var f=g("span","holiday");f.innerText=" ("+b+")";wb.appendChild(f)}qb(function(m){for(var n=ub(m.from,m.to)+1,v=new Date(m.from),ra=0;ra<n;ra++){if(ec(v,a)){e.push(m);break}v.setDate(v.getDate()+1)}n=W(m.repeatEvery);0<n&&(1===n?mc(m,e,a,function(E){E.setDate(E.getDate()+1)}):2===n?mc(m,e,a,function(E){E.setDate(E.getDate()+7)}):3===n?mc(m,e,a,function(E){E.setMonth(E.getMonth()+1)}):
4===n&&mc(m,e,a,function(E){E.setFullYear(E.getFullYear()+1)}))});e=Fa(e);b=e.length;f=null;for(var k=0;k<b;k++){var l=Be(e[k],a);null===f&&(f=l)}c&&(fa.scrollTop=f-fa.offsetHeight/2);1>=Ja.offsetHeight&&(Ja.style.display="none");d.exportEventsEnabled&&(Ya.style.display=0===e.length?"none":"inline-block")}function mc(a,c,b,e){for(var f=new Date(a.from),k=X(a.repeatEveryExcludeDays),l=X(a.seriesIgnoreDates);f<b;){e(f);var m=Xa(f),n=!(!h(a.repeatEnds)||Ic(f,a.repeatEnds));if(-1===k.indexOf(f.getDay())&&
-1===l.indexOf(m)&&!n&&ec(f,b)){c.push(a);break}}}function Be(a,c){var b=g("div",d.manualEditingEnabled?"event":"event-no-hover");a.isAllDay?Ja.appendChild(b):xb.appendChild(b);if(d.manualEditingEnabled){var e=Xa(c);b.oncontextmenu=function(k){jc(k,a,e)}}ic(b,a,Lc(a,c));var f=g("div","title");f.innerHTML=a.title;b.appendChild(f);f=g("div","date");b.appendChild(f);a.from.getDate()===a.to.getDate()?f.innerHTML=a.isAllDay?d.allDayText:vb(a.from,a.to):nc(f,a.from,a.to);yb(a.repeatEvery)&&0<a.repeatEvery&&
(f=g("div","repeats"),f.innerHTML=d.repeatsText.replace(":","")+" "+Za(a.repeatEvery),b.appendChild(f));P(a.location)&&(f=g("div","location"),f.innerHTML=a.location,b.appendChild(f));P(a.description)&&(f=g("div","description"),f.innerHTML=a.description,b.appendChild(f));d.manualEditingEnabled&&(b.onclick=function(){qa(a)});f=0;a.isAllDay||(f=Ce(c,b,a));return f}function Ce(a,c,b){var e=xb.offsetHeight,f=e/1440,k=d.spacing,l=null;Mc.push(b);if(!b.isAllDay){l=W(b.repeatEvery);if(ec(b.from,a)||0<l)k=
f*yd(b.from);l=ec(b.to,a)?f*yd(b.to)-k:e;l-=2*d.spacing}c.style.top=k+"px";null!==l&&(c.style.height=l+"px");c.offsetTop+c.offsetHeight>e-d.spacing&&(c.style.height=e-c.offsetTop-3*d.spacing+"px");a=k+fa.offsetHeight/2;a<=fa.offsetHeight&&(a=0);return a}function Ae(){Y.setDate(Y.getDate()-1);Ha(Y,!0)}function ze(){Y.setDate(Y.getDate()+1);Ha(Y,!0)}function Zd(){sa=g("div","list-all-events-view");A.appendChild(sa);var a=g("div","title-bar");sa.appendChild(a);d.fullScreenModeEnabled&&(a.ondblclick=
aa);var c=g("div","title");c.innerHTML=d.allEventsText;a.appendChild(c);c=g("div","ib-close");c.ondblclick=q;a.appendChild(c);p(c,d.closeTooltipText);c.onclick=function(){lc(sa)};d.manualEditingEnabled&&(c=g("div","ib-plus"),c.onclick=ac,c.ondblclick=q,a.appendChild(c),p(c,d.addEventTooltipText));d.exportEventsEnabled&&(zb=g("div","ib-arrow-down-full-line"),zb.ondblclick=q,a.appendChild(zb),p(zb,d.exportEventsTooltipText),zb.onclick=function(){bc()});d.fullScreenModeEnabled&&(da=g("div","ib-arrow-expand-left-right"),
da.ondblclick=q,da.onclick=aa,a.appendChild(da),p(da,d.enableFullScreenTooltipText));Ab=g("div","contents custom-scroll-bars");sa.appendChild(Ab)}function od(a){a=h(a)?a:!1;Nc(sa);Ab.innerHTML="";a&&(Ab.scrollTop=0);a=Fa(pb());for(var c=a.length,b=0;b<c;b++){var e=a[b],f=De(e.from);Ee(e,f)}}function Ee(a,c){var b=g("div",d.manualEditingEnabled?"event":"event-no-hover");c.appendChild(b);d.manualEditingEnabled&&(b.oncontextmenu=function(f){jc(f,a)});ic(b,a);var e=g("div","title");e.innerHTML=a.title;
b.appendChild(e);e=g("div","date");b.appendChild(e);a.from.getDate()===a.to.getDate()?a.isAllDay?oc(e,a.from,null," - "+d.allDayText):oc(e,a.from,null," - "+vb(a.from,a.to)):nc(e,a.from,a.to);yb(a.repeatEvery)&&0<a.repeatEvery&&(e=g("div","repeats"),e.innerHTML=d.repeatsText.replace(":","")+" "+Za(a.repeatEvery),b.appendChild(e));P(a.location)&&(e=g("div","location"),e.innerHTML=a.location,b.appendChild(e));P(a.description)&&(e=g("div","description"),e.innerHTML=a.description,b.appendChild(e));d.manualEditingEnabled&&
(b.onclick=function(){qa(a)})}function De(a){var c="month-"+a.getMonth()+"-"+a.getFullYear(),b=Ma(c),e=new Date(a);if(null===b){var f=g("div","month");Ab.appendChild(f);b=g("div","header");b.innerHTML=d.monthNames[a.getMonth()]+" "+a.getFullYear();f.appendChild(b);a=g("div","ib-arrow-expand-left-right");a.ondblclick=q;b.appendChild(a);a.onclick=function(){lc(sa);J(e)};p(a,d.expandMonthTooltipText);b=g("div","events");b.id=c;f.appendChild(b)}return b}function $d(){La=g("div","list-all-week-events-view");
A.appendChild(La);var a=g("div","title-bar");La.appendChild(a);d.fullScreenModeEnabled&&(a.ondblclick=aa);Z=g("div","title");a.appendChild(Z);var c=g("div","ib-close");c.ondblclick=q;a.appendChild(c);p(c,d.closeTooltipText);c.onclick=function(){lc(La)};d.manualEditingEnabled&&(c=g("div","ib-plus"),c.onclick=ac,c.ondblclick=q,a.appendChild(c),p(c,d.addEventTooltipText));c=g("div","ib-arrow-right-full");c.onclick=Fe;c.ondblclick=q;a.appendChild(c);p(c,d.nextWeekTooltipText);c=g("div","ib-arrow-left-full");
c.onclick=Ge;c.ondblclick=q;a.appendChild(c);p(c,d.previousWeekTooltipText);d.exportEventsEnabled&&($a=g("div","ib-arrow-down-full-line"),$a.ondblclick=q,a.appendChild($a),p($a,d.exportEventsTooltipText),$a.onclick=function(){bc(Bb)});d.fullScreenModeEnabled&&(ea=g("div","ib-arrow-expand-left-right"),ea.ondblclick=q,ea.onclick=aa,a.appendChild(ea),p(ea,d.enableFullScreenTooltipText));Cb=g("div","contents custom-scroll-bars");La.appendChild(Cb)}function sb(a,c){c=h(c)?c:!1;Nc(La);Cb.innerHTML="";ab=
{};Oc={};Bb=[];ta=null===a?new Date:new Date(a);c&&(Cb.scrollTop=0);var b=ve(a),e=b[0];b=b[1];He(e,b);Ie(e,b);for(var f=Fa(pb()),k=f.length,l=0;l<k;l++){for(var m=f[l],n=ub(m.from,m.to)+1,v=new Date(m.from),ra=!1,E=0;E<n;E++)v>=e&&v<=b&&(ra=Pc(v),Ed(m,ra,v),ra=!0),v.setDate(v.getDate()+1);ra&&Bb.push(m);n=W(m.repeatEvery);v=!1;0<n&&(1===n?v=pc(m,e,b,function(Q){Q.setDate(Q.getDate()+1)}):2===n?v=pc(m,e,b,function(Q){Q.setDate(Q.getDate()+7)}):3===n?v=pc(m,e,b,function(Q){Q.setMonth(Q.getMonth()+1)}):
4===n&&(v=pc(m,e,b,function(Q){Q.setFullYear(Q.getFullYear()+1)})));v&&!ra&&Bb.push(m)}for(var Fd in ab)ab.hasOwnProperty(Fd)&&Cb.appendChild(ab[Fd]);d.exportEventsEnabled&&($a.style.display=0===Bb.length?"none":"inline-block")}function pc(a,c,b,e){for(var f=new Date(a.from),k=X(a.repeatEveryExcludeDays),l=X(a.seriesIgnoreDates),m=!1;f<b;){e(f);var n=Xa(f),v=!(!h(a.repeatEnds)||Ic(f,a.repeatEnds));-1===k.indexOf(f.getDay())&&-1===l.indexOf(n)&&!v&&f>=c&&f<=b&&(m=Pc(f),Ed(a,m,f),m=!0)}return m}function Ie(a,
c){Z.innerHTML="";if(a.getFullYear()===c.getFullYear()){Ka(Z,a,!1,!1);var b=g("span");b.innerHTML=" - ";Z.appendChild(b);Ka(Z,c,!1,!1);b=g("span");b.innerHTML=", "+a.getFullYear();Z.appendChild(b)}else Ka(Z,a,!1,!0),b=g("span"),b.innerHTML=" - ",Z.appendChild(b),Ka(Z,c,!1,!0)}function Ed(a,c,b){kc(c,"no-events-text");var e=g("div",d.manualEditingEnabled?"event":"event-no-hover");c.appendChild(e);if(d.manualEditingEnabled){var f=Xa(b);e.oncontextmenu=function(k){jc(k,a,f)}}Bd(e,a);ic(e,a,Lc(a,b));
c=g("div","title");c.innerHTML=a.title;e.appendChild(c);c=g("div","date");e.appendChild(c);a.from.getDate()===a.to.getDate()?c.innerHTML=a.isAllDay?d.allDayText:vb(a.from,a.to):nc(c,a.from,a.to);yb(a.repeatEvery)&&0<a.repeatEvery&&(c=g("div","repeats"),c.innerHTML=d.repeatsText.replace(":","")+" "+Za(a.repeatEvery),e.appendChild(c));P(a.location)&&(c=g("div","location"),c.innerHTML=a.location,e.appendChild(c));P(a.description)&&(c=g("div","description"),c.innerHTML=a.description,e.appendChild(c));
d.manualEditingEnabled&&(e.onclick=function(){qa(a)})}function He(a,c){var b=new Date(a);do Pc(b),b.setDate(b.getDate()+1);while(b<c)}function Pc(a){var c=Jc(a),b=a.getFullYear()+a.getMonth()+c,e=null,f=new Date(a);if(ab.hasOwnProperty(b))e=Oc[b];else{var k=g("div","day");ab[b]=k;Gd(k,f.getFullYear(),f.getMonth(),f.getDate());e=g("div","header");k.appendChild(e);oc(e,a,d.dayNames[c]+", ");a=g("div","ib-arrow-expand-left-right");a.ondblclick=q;e.appendChild(a);a.onclick=function(){Ha(f,!0)};p(a,d.expandDayTooltipText);
e=g("div","events");k.appendChild(e);k=g("div","no-events-text");k.innerHTML=d.noEventsAvailableText;e.appendChild(k);Oc[b]=e}return e}function Ge(){ta.setDate(ta.getDate()-7);sb(ta,!0)}function Fe(){ta.setDate(ta.getDate()+7);sb(ta,!0)}function vb(a,c){return Qc(a)+" "+d.toTimeText+" "+Qc(c)}function Qc(a){return D(a.getHours())+":"+D(a.getMinutes())}function nc(a,c,b){a.innerHTML="";var e=g("span");e.innerText=d.startsOnText+" ";a.appendChild(e);Ka(a,c);c=g("span");c.innerText=" "+d.andFinishesOnText+
" ";a.appendChild(c);Ka(a,b)}function Ka(a,c,b,e,f){b=h(b)?b:!0;e=h(e)?e:!0;if(f=h(f)?f:!1){f=Jc(c);var k=g("span");k.innerText=d.dayNames[f]+", ";a.appendChild(k)}oc(a,c);f=g("span");f.innerText=" "+d.monthNames[c.getMonth()];a.appendChild(f);e&&(e=g("span"),e.innerText=" "+c.getFullYear(),a.appendChild(e));b&&(b=g("span"),b.innerText=" "+Qc(c),a.appendChild(b))}function oc(a,c,b,e){if(h(b)){var f=g("span");f.innerText=b;a.appendChild(f)}b=g("span");b.innerText=c.getDate();a.appendChild(b);d.showDayNumberOrdinals&&
(b=g("sup"),b.innerText=xd(c.getDate()),a.appendChild(b));h(e)&&(c=g("span"),c.innerText=e,a.appendChild(c))}function uc(a,c,b,e,f){var k=new Date,l=a===k.getDate()&&e===k.getFullYear()&&b===k.getMonth();c=Ma("calendar-day-"+c);k=g("span");var m=new Date(e,b,a);c.innerHTML="";k.className=f?"day-muted":"";k.className+=l?" today":"";k.innerText=a;if(6===m.getDay()||0===m.getDay()&&"cell"===c.className)c.className="cell weekend-day";c.oncontextmenu=function(v){qc=new Date(m);ya();q(v);Rc(v,I)};d.showDayNumberOrdinals&&
(f=g("sup"),f.innerText=xd(a),k.appendChild(f));c.appendChild(k);f=g("div","ib-arrow-top-right");c.appendChild(f);p(f,d.expandDayTooltipText);l=Dd(m);if(null!==l){var n=g("span","holiday");n.innerText=l;k.appendChild(n)}f.onclick=function(){Ha(m,!0)};d.manualEditingEnabled&&(c.ondblclick=function(){qa(null,m)},Gd(c,e,b,a))}function Dd(a){for(var c=null,b=[],e=d.holidays.length,f=0;f<e;f++){var k=d.holidays[f];W(k.day)===a.getDate()&&W(k.month)===a.getMonth()+1&&(k=u(k.title,null),null!==k&&b.push(k))}0<
b.length&&(c=b.join(", "));return c}function Bd(a,c){d.dragAndDropForEventsEnabled&&d.manualEditingEnabled&&(a.setAttribute("draggable",!0),a.ondragstart=function(){x=c})}function Gd(a,c,b,e){d.dragAndDropForEventsEnabled&&d.manualEditingEnabled&&(a.ondragover=function(f){q(f);Hd(a)},a.ondragenter=function(f){q(f);Hd(a)},a.ondragleave=function(f){q(f);Id(a)},a.ondrop=function(f){q(f);if(null!==x){f=ub(x.from,x.to);var k=new Date(c,b,e,x.from.getHours(),x.from.getMinutes()),l=new Date(c,b,e,x.to.getHours(),
x.to.getMinutes());0<f&&l.setDate(l.getDate()+f);Db.updateEvent(x.id,{from:k,to:l,title:x.title,description:x.description,location:x.location,isAllDay:x.isAllDay,color:x.color,colorText:x.colorText,colorBorder:x.colorBorder,repeatEvery:x.repeatEvery,repeatEveryExcludeDays:x.repeatEveryExcludeDays});rb()}Id(a)})}function Hd(a){-1===a.className.indexOf(" drag-over")&&(a.className+=" drag-over")}function Id(a){-1<a.className.indexOf(" drag-over")&&(a.className=a.className.replace(" drag-over",""))}function qe(){null!==
I&&B(r.body,I);I=g("div","calendar-drop-down-menu");r.body.appendChild(I);if(d.manualEditingEnabled){var a=g("div","item");a.innerHTML=d.addEventTitle;I.appendChild(a);a.onclick=function(){qa(null,qc)};a=g("div","separator");I.appendChild(a)}a=g("div","item");a.innerHTML=d.expandDayTooltipText;I.appendChild(a);a.onclick=function(){Ha(qc,!0)};a=g("div","separator");I.appendChild(a);a=g("div","item");a.innerHTML=d.viewWeekEventsText;I.appendChild(a);a.onclick=function(){sb(qc,!0)}}function re(){null!==
O&&B(r.body,O);if(d.manualEditingEnabled){O=g("div","calendar-drop-down-menu");r.body.appendChild(O);var a=g("div","item");a.innerHTML=d.removeEventText;O.appendChild(a);a.onclick=function(){bb(r.body,R);var c=function(){B(r.body,R)},b=0<W(ua.repeatEvery)&&null!==Eb;Jd(d.confirmEventRemoveTitle,d.confirmEventRemoveMessage,function(){c();h(ua.id)&&(Zb.checked||null===Eb?Db.removeEvent(ua.id,!0):(Sc(ua.seriesIgnoreDates)?ua.seriesIgnoreDates.push(Eb):ua.seriesIgnoreDates=[Eb],ia()),rc())},c,b)};a=g("div",
"separator");O.appendChild(a);a=g("div","item");a.innerHTML=d.editEventTitle;O.appendChild(a);a.onclick=function(){qa(ua)}}}function jc(a,c,b){ua=c;Eb=h(b)?b:null;ya();q(a);Rc(a,O)}function Gc(){return null!==I&&"block"===I.style.display}function Hc(){return null!==O&&"block"===O.style.display}function ac(){qa(null,Y)}function Na(){Oa.disabled=Ba.checked}function Nb(){var a=!1;fb.checked&&(G.value=L.value,S.value="00:00",T.value="23:59",a=!0);G.disabled=a;S.disabled=a;T.disabled=a;a=Fb(L);var c=Fb(G);
c>a||c<a?(a=!0,Ba.checked=!0):a=!1;Ba.disabled=a;Ob.disabled=a;Pb.disabled=a;Qb.disabled=a;Rb.disabled=a;Oa.disabled=a;Na()}function qa(a,c){bb(r.body,R);if(h(a)){Pa.value=d.updateText;Qa.style.display="block";Mb.innerHTML=d.editEventTitle;F=a;L.value=tb(a.from,L.type);S.value=fc(a.from);G.value=tb(a.to,G.type);T.value=fc(a.to);fb.checked=a.isAllDay;Aa.value=u(a.title);hb.value=u(a.description);gb.value=u(a.location);Ra.value=u(a.color,"#484848");Sa.value=u(a.colorText,"#F5F5F5");Ta.value=u(a.colorBorder,
"#282828");var b=W(a.repeatEvery);0===b?Ba.checked=!0:1===b?Ob.checked=!0:2===b?Pb.checked=!0:3===b?Qb.checked=!0:4===b&&(Rb.checked=!0);b=X(a.repeatEveryExcludeDays);Sb.checked=-1<b.indexOf(1);Tb.checked=-1<b.indexOf(2);Ub.checked=-1<b.indexOf(3);Vb.checked=-1<b.indexOf(4);Wb.checked=-1<b.indexOf(5);Xb.checked=-1<b.indexOf(6);Yb.checked=-1<b.indexOf(0);Ca.value=tb(a.repeatEnds,Ca.type)}else{b=new Date;var e=h(c)?c:b,f=new Date;e.getDate()===f.getDate()&&e.getFullYear()===f.getFullYear()&&e.getMonth()===
f.getMonth()&&(e.setHours(b.getHours()),e.setMinutes(b.getMinutes()));Pa.value=d.addText;Qa.style.display="none";Mb.innerHTML=d.addEventTitle;F={};L.value=tb(e,L.type);S.value=fc(e);G.value=tb(e,G.type);T.value=fc(e);fb.checked=!1;Aa.value="";hb.value="";gb.value="";Ra.value="#484848";Sa.value="#F5F5F5";Ta.value="#282828";Ba.checked=!0;Sb.checked=!1;Tb.checked=!1;Ub.checked=!1;Vb.checked=!1;Wb.checked=!1;Xb.checked=!1;Yb.checked=!1;Ca.value=null}Nb();za.style.display="block";ib.style.display="none";
Aa.focus()}function fe(){var a=Fb(L),c=Fb(G),b=S.value.split(":"),e=T.value.split(":"),f=Tc(Aa.value),k=Tc(hb.value),l=Tc(gb.value),m=Fb(Ca,null);2>b.length?sc(d.fromTimeErrorMessage,S):2>e.length?sc(d.toTimeErrorMessage,T):""===f?sc(d.titleErrorMessage,Aa):(Kd(a,S.value),Kd(c,T.value),c<a?sc(d.toSmallerThanFromErrorMessage,G):(wc(),b=h(F.id),a={from:a,to:c,title:f,description:k,location:l,isAllDay:fb.checked,color:F.color,colorText:F.colorText,colorBorder:F.colorBorder,repeatEveryExcludeDays:F.repeatEveryExcludeDays,
repeatEnds:m},Ba.checked?a.repeatEvery=0:Ob.checked?a.repeatEvery=1:Pb.checked?a.repeatEvery=2:Qb.checked?a.repeatEvery=3:Rb.checked&&(a.repeatEvery=4),b||(a.organizerName=d.organizerName,a.organizerEmailAddress=d.organizerEmailAddress),b?Db.updateEvent(F.id,a,!1):Db.addEvent(a,!1),ia(),rc()))}function Kd(a,c){var b=0,e=0,f=c.split(":");if(2===f.length){var k=parseInt(f[0]);f=parseInt(f[1]);!isNaN(k)&&2>=k.toString().length&&(b=k);!isNaN(f)&&2>=f.toString().length&&(e=f)}a.setHours(b);a.setMinutes(e)}
function Fb(a,c){var b=void 0!==c?c:new Date;if(""!==a.value)if("date"===a.type)b=new Date(a.value);else{var e=a.value.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/);e&&(e=new Date(e[3],e[2]-1,e[1]),e instanceof Date&&!isNaN(e)&&(b=e))}return b}function wc(){za.style.display="none";B(r.body,R)}function ge(){ja.style.display="block";var a=function(){ja.style.display="none"};Jd(d.confirmEventRemoveTitle,d.confirmEventRemoveMessage,function(){a();wc();h(F.id)&&(Db.removeEvent(F.id,!0),rc())},a)}function sc(a,
c){ib.innerHTML=a;ib.style.display="block";c.focus()}function rc(){Gb(Ia)&&Ha(Y);Gb(sa)&&od();Gb(La)&&sb(ta)}function he(){Zc();F.color=Ra.value;F.colorText=Sa.value;F.colorBorder=Ta.value}function Zc(){la.style.display="none";ja.style.display="none"}function de(){la.style.display="block";ja.style.display="block"}function ie(){$c();var a=[];Sb.checked&&a.push(1);Tb.checked&&a.push(2);Ub.checked&&a.push(3);Vb.checked&&a.push(4);Wb.checked&&a.push(5);Xb.checked&&a.push(6);Yb.checked&&a.push(0);F.repeatEveryExcludeDays=
a}function $c(){ma.style.display="none";ja.style.display="none"}function ee(){ma.style.display="block";ja.style.display="block"}function Jd(a,c,b,e,f){f=h(f)?f:!1;na.style.display="block";xc.innerHTML=a;yc.innerHTML=c;jb.onclick=Ld;kb.onclick=Ld;jb.addEventListener("click",b);f?(zc.style.display="block",Zb.checked=!1):(zc.style.display="none",Zb.checked=!0);Uc(e)&&kb.addEventListener("click",e)}function Ld(){na.style.display="none"}function bc(a){bb(r.body,R);oa.style.display="block";cb=a;Ac.checked=
!0}function ed(){B(r.body,R);oa.style.display="none"}function je(){ed();Ac.checked?db(cb,"csv"):ad.checked?db(cb,"xml"):bd.checked?db(cb,"json"):cd.checked?db(cb,"text"):dd.checked&&db(cb,"ical")}function ke(a){Hb||(Hb=!0,Md=a.pageX-z.offsetLeft,Nd=a.pageY-z.offsetTop)}function pe(a){Hb&&(z.style.left=a.pageX-Md+"px",z.style.top=a.pageY-Nd+"px")}function le(){Hb&&(Hb=!1,Od=!0)}function Da(){Ua.disabled=!0;Ea.disabled=""===V.value;ha=[];va=0}function nd(){"block"!==z.style.display&&(ha=[],z.style.display=
"block",V.value="",td(),Da());"block"!==K.style.display&&fd();V.focus()}function td(){Od||(z.style.left=Ga.innerWidth/2-z.offsetWidth/2+"px",z.style.top=Ga.innerHeight/2-z.offsetHeight/2+"px")}function me(){z.style.display="none"}function fd(){"block"===K.style.display?(K.style.display="none",pa.className="ib-square-hollow",p(pa,d.restoreTooltipText)):(K.style.display="block",pa.className="ib-minus",p(pa,d.minimizedTooltipText))}function oe(){0<va&&(va--,Pd(),J(ha[va].from))}function ne(a){13!==a.keyCode||
Ea.disabled||kd()}function kd(){if(0===ha.length){var a=gd.checked,c=a?V.value:V.value.toLowerCase(),b={};qb(function(e){var f=u(e.title),k=u(e.location),l=u(e.description),m=!1;a||(f=f.toLowerCase(),l=l.toLowerCase(),k=k.toLowerCase());hd.checked&&-1<f.indexOf(c)?m=!0:id.checked&&-1<k.indexOf(c)?m=!0:jd.checked&&-1<l.indexOf(c)&&(m=!0);m&&(f=e.from.getMonth()+"-"+e.from.getFullYear(),b.hasOwnProperty(f)||(ha.push(e),b[f]=!0))})}else va++;Pd();0<ha.length&&J(ha[va].from)}function Pd(){Ua.disabled=
0===va;Ea.disabled=va===ha.length-1||0===ha.length}function Cd(a,c,b){q(a);null!==wa&&(clearTimeout(wa),wa=null);Cc();"block"!==w.style.display&&(wa=setTimeout(function(){r.body.contains(R)||dc()||Gc()||Hc()||(b=h(b)?b:"",w.className=""===b?"calendar-tooltip-event":"calendar-tooltip",""!==b?w.innerHTML=b:(w.innerHTML="",w.appendChild(Bc),w.appendChild($b),Bc.innerHTML=c.title,yb(c.repeatEvery)&&0<c.repeatEvery?(lb.innerHTML=d.repeatsText.replace(":","")+" "+Za(c.repeatEvery),bb(w,lb)):(lb.innerHTML=
"",B(w,lb)),P(c.location)?(nb.innerHTML=c.location,bb(w,nb)):(nb.innerHTML="",B(w,nb)),P(c.description)?(mb.innerHTML=c.description,bb(w,mb)):(mb.innerHTML="",B(w,mb)),c.from.getDate()===c.to.getDate()?$b.innerHTML=c.isAllDay?d.allDayText:vb(c.from,c.to):nc($b,c.from,c.to)),Rc(a,w))},d.eventTooltipDelay))}function Cc(){null!==wa&&(clearTimeout(wa),wa=null);Qd()&&(w.style.display="none")}function Qd(){return null!==wa||null!==w&&"block"===w.style.display}function p(a,c){a.onmousemove=function(b){Cd(b,
null,c)}}function Ad(){null===Ib&&0<d.autoRefreshTimerDelay&&(Ib=setInterval(function(){rb()},d.autoRefreshTimerDelay))}function zd(){null!==Ib&&0<d.autoRefreshTimerDelay&&(clearTimeout(Ib),Ib=null)}function rb(){ud()&&(rc(),ia())}function ud(){return!Qd()&&!r.body.contains(R)&&!dc()&&!Gc()&&!Hc()}function Nc(a){Gb(a)||(a.className+=" overlay-shown")}function lc(a){Gb(a)&&(a.className=a.className.replace(" overlay-shown",""))}function Gb(a){return-1<a.className.indexOf("overlay-shown")}function g(a,
c,b){a=a.toLowerCase();var e="text"===a;Vc.hasOwnProperty(a)||(Vc[a]=e?r.createTextNode(""):r.createElement(a));a=Vc[a].cloneNode(!1);h(c)&&(a.className=c);h(b)&&(a.type=b);return a}function Ma(a){eb.hasOwnProperty(a)&&null!==eb[a]||(eb[a]=r.getElementById(a));r.body.contains(eb[a])||(eb[a]=r.getElementById(a));return eb[a]}function bb(a,c){try{a.contains(c)||a.appendChild(c)}catch(b){console.warn(b.message)}}function B(a,c){try{a.contains(c)&&a.removeChild(c)}catch(b){console.warn(b.message)}}function q(a){a.preventDefault();
a.cancelBubble=!0}function Rc(a,c){var b=a.pageX,e=a.pageY;c.style.display="block";b+c.offsetWidth>Ga.innerWidth?b-=c.offsetWidth:b++;e+c.offsetHeight>Ga.innerHeight?e-=c.offsetHeight:e++;c.style.left=b+"px";c.style.top=e+"px"}function ka(a,c){try{a.type=c}catch(b){a.type="text"}}function U(a,c,b,e){var f=g("div","radioButtonContainer");a.appendChild(f);a=g("label","radioButton");f.appendChild(a);f=g("input",null,"radio");f.name=b;a.appendChild(f);h(e)&&(f.onchange=e);b=g("span","check-mark");a.appendChild(b);
b=g("span","text");b.innerText=c;a.appendChild(b);return f}function H(a,c,b){var e=g("div");a.appendChild(e);a=g("label","checkbox");a.innerText=c;e.appendChild(a);c=g("input",null,"checkbox");a.appendChild(c);h(b)&&(c.onchange=b);b=g("span","check-mark");a.appendChild(b);return[c,a]}function D(a){a=a.toString();return 1===a.length?"0"+a:a}function Tc(a){return a.replace(/^\s+|\s+$/g,"")}function Rd(){for(var a=[],c=0;32>c;c++){8!==c&&12!==c&&16!==c&&20!==c||a.push("-");var b=Math.floor(16*Math.random()).toString(16);
a.push(b)}return a.join("")}function h(a){return void 0!==a&&null!==a&&""!==a}function Uc(a){return h(a)&&"function"===typeof a}function Sd(a){return h(a)&&"string"===typeof a}function yb(a){return h(a)&&"number"===typeof a}function Sc(a){return h(a)&&"object"===typeof a&&a instanceof Array}function P(a){return Sd(a)&&""!==a}function db(a,c){c=h(c)?c.toLowerCase():"csv";var b="",e=[];e=h(a)?e.concat(a):pb();e=Fa(e);e=Fa(e,!1);if("csv"===c){var f=[d.idText,d.fromText,d.toText,d.isAllDayText,d.titleText,
d.descriptionText,d.locationText,d.backgroundColorText,d.textColorText,d.borderColorText,d.repeatsText,d.repeatEndsText,d.repeatDaysToExcludeText,d.seriesIgnoreDatesText,d.createdText,d.organizerNameText,d.organizerEmailAddressText];b=f.length;for(var k=[],l=[],m=0;m<b;m++)k.push(y(f[m]));l.push(k.join(","));f=e.length;for(b=0;b<f;b++){k=l;m=e[b];var n=[];n.push(y(u(m.id)));n.push(y(Jb(m.from)));n.push(y(Jb(m.to)));n.push(y(m.isAllDay?d.yesText:d.noText));n.push(y(u(m.title)));n.push(y(u(m.description)));
n.push(y(u(m.location)));n.push(y(u(m.color)));n.push(y(u(m.colorText)));n.push(y(u(m.colorBorder)));n.push(y(Za(m.repeatEvery)));n.push(y(Jb(m.repeatEnds)));n.push(y(Td(m.repeatEveryExcludeDays)));n.push(y(X(m.seriesIgnoreDates).join(",")));n.push(y(Jb(m.created)));n.push(y(u(m.organizerName)));n.push(y(u(m.organizerEmailAddress)));k.push(n.join(","))}b=l.join("\n")}else if("xml"===c){f=[];f.push('<?xml version="1.0" ?>');f.push("<Events>");b=e.length;for(k=0;k<b;k++){m=e[k];f.push("<Event>");for(l in m)m.hasOwnProperty(l)&&
null!==m[l]&&(n=Ud(l),f.push("<"+n+">"+Wc(l,m[l])+"</"+n+">"));f.push("</Event>")}f.push("</Events>");b=f.join("\n")}else if("json"===c){l=[];l.push("{");l.push('"events:": [');b=e.length;for(k=0;k<b;k++){m=e[k];l.push("{");for(f in m)m.hasOwnProperty(f)&&null!==m[f]&&l.push('"'+f+'":"'+Wc(f,m[f])+'",');m=l[l.length-1];l[l.length-1]=m.substring(0,m.length-1);l.push("},")}l[l.length-1]="}";l.push("]");l.push("}");b=l.join("\n")}else if("text"===c){l=[];f=e.length;for(b=0;b<f;b++){m=e[b];for(k in m)m.hasOwnProperty(k)&&
null!==m[k]&&l.push(Ud(k)+": "+Wc(k,m[k]));l.push("")}l.pop();b=l.join("\n")}else if("ical"===c){l=[];l.push("BEGIN:VCALENDAR");l.push("VERSION:2.0");l.push("PRODID:-//hacksw/handcal//NONSGML v1.0//EN");f=e.length;for(b=0;b<f;b++)k=e[b],l.push("BEGIN:VEVENT"),l.push("UID:"+u(k.id)),l.push("DTSTAMP:"+Xc(k.created)),l.push("ORGANIZER;CN="+u(k.organizerName)+":MAILTO:"+u(k.organizerEmailAddress)),l.push("DTSTART:"+Xc(k.from)),l.push("DTEND:"+Xc(k.to)),l.push("SUMMARY:"+u(k.title)),l.push("END:VEVENT");
l.push("END:VCALENDAR");b=l.join("\n")}""!==b&&(e=g("a"),l="text",f=k=c,"text"===c?(k="plain",f="txt"):"ical"===c?(k="calendar",f="ics"):"json"===c&&(l="application"),e.style.display="none",e.setAttribute("target","_blank"),e.setAttribute("href","data:"+l+"/"+k+";charset=utf-8,"+encodeURIComponent(b)),l=e.setAttribute,k=new Date,b=D(k.getDate())+"-"+D(k.getMonth())+"-"+k.getFullYear(),k=D(k.getHours())+"-"+D(k.getMinutes()),l.call(e,"download",d.exportStartFilename+b+"_"+k+"."+f),r.body.appendChild(e),
e.click(),r.body.removeChild(e),xa("onEventsExported"))}function Jb(a){var c=d.repeatsNever;h(a)&&(c=D(a.getDate())+"/"+D(a.getMonth())+"/"+a.getFullYear(),a=D(a.getHours())+":"+D(a.getMinutes()),c=c+" "+a);return c}function u(a,c){c=h(c)?c:"";return Sd(a)?a:c}function W(a,c){c=h(c)?c:0;return yb(a)?a:c}function md(a,c){c=h(c)?c:0;return h(a)&&"boolean"===typeof a?a?1:0:c}function X(a,c){c=h(c)?c:[];return Sc(a)?a:c}function Za(a){var c=d.repeatsNever;a=W(a);1===a?c=d.repeatsEveryDayText:2===a?c=
d.repeatsEveryWeekText:3===a?c=d.repeatsEveryMonthText:4===a&&(c=d.repeatsEveryYearText);return c}function Ud(a){return a.charAt(0).toUpperCase()+a.slice(1)}function Wc(a,c){var b=u(c);"boolean"===typeof c?b=c?d.yesText:d.noText:"object"===typeof c&&c instanceof Date?b=Jb(c):"object"===typeof c&&c instanceof Array?b="repeatEveryExcludeDays"===a?Td(c):X(c).join(","):"number"===typeof c&&(b="repeatEvery"===a?Za(c):c.toString());return b}function Xc(a){var c=[];c.push(a.getFullYear());c.push(a.getMonth());
c.push(a.getDate());c.push("T");c.push(a.getHours());c.push(a.getMinutes());c.push("00");c.push("Z");return c.join("")}function Td(a){var c=[];if(Sc(a))for(var b=a.length,e=0;e<b;e++){var f=a[e]-1;-1===f&&(f=6);c.push(d.dayNames[f])}return X(c).join(",")}function y(a){a=a.replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ");a=a.replace(/"/g,'""');return'"'+a+'"'}function Dc(){var a=new Date(t);a.setMonth(a.getMonth()-1);J(a);xa("onPreviousMonth")}function Fc(){var a=new Date(t);a.setMonth(a.getMonth()+
1);J(a);xa("onNextMonth")}function vd(){var a=new Date(t);a.setFullYear(a.getFullYear()-1);J(a);xa("onPreviousYear")}function wd(){var a=new Date(t);a.setFullYear(a.getFullYear()+1);J(a);xa("onNextYear")}function Ec(){var a=new Date;if(t.getMonth()!==a.getMonth()||t.getFullYear()!==a.getFullYear())J(),xa("onToday")}function Vd(a){h(a)&&"object"===typeof a||(a={});return a}function xa(a){if(null!==d&&Uc(d[a]))d[a]()}function tc(a,c){if(null!==d&&Uc(d[a]))d[a](c)}var d={},Db=this,t=null,vc=null,Vc=
{},eb={},r=null,Ga=null,Yc=null,Lb=!1,sd=!1,M={},Ib=null,x=null,rd=null,Wa=!1,A=null,C=null,ob=null,N=null,cc=null,Va=null,ba=null,R=null,za=null,ja=null,Mb=null,L=null,S=null,G=null,T=null,fb=null,Aa=null,hb=null,gb=null,Ba=null,Ob=null,Pb=null,Qb=null,Rb=null,Oa=null,ib=null,F={},Pa=null,Qa=null,la=null,Ra=null,Sa=null,Ta=null,ma=null,Sb=null,Tb=null,Ub=null,Vb=null,Wb=null,Xb=null,Yb=null,Ca=null,Ia=null,wb=null,fa=null,Ja=null,xb=null,Y=null,Mc=[],Ya=null,ca=null,sa=null,zb=null,da=null,Ab=null,
La=null,Z=null,$a=null,ea=null,Cb=null,ab={},Oc={},Bb=[],ta=null,na=null,xc=null,yc=null,Zb=null,zc=null,jb=null,kb=null,oa=null,Ac=null,ad=null,bd=null,cd=null,dd=null,cb=null,w=null,Bc=null,$b=null,lb=null,mb=null,nb=null,wa=null,I=null,qc=null,O=null,ua=null,Eb=null,z=null,pa=null,K=null,V=null,gd=null,hd=null,id=null,jd=null,Ua=null,Ea=null,Hb=!1,Od=!1,Md=0,Nd=0,ha=[],va=0;this.turnOnFullScreen=function(){qd()};this.turnOffFullScreen=function(){pd()};this.startTheAutoRefreshTimer=function(){Ad()};
this.stopTheAutoRefreshTimer=function(){zd()};this.moveToPreviousMonth=function(){Dc()};this.moveToNextMonth=function(){Fc()};this.moveToPreviousYear=function(){vd()};this.moveToNextYear=function(){wd()};this.moveToToday=function(){Ec()};this.getCurrentDisplayDate=function(){return new Date(t)};this.setCurrentDisplayDate=function(a){J(new Date(a));xa("onSetDate")};this.exportAllEvents=function(a){d.exportEventsEnabled&&(a=h(a)?a:"csv",db(null,a))};this.refresh=function(){rb()};this.addEvents=function(a,
c,b){c=h(c)?c:!0;b=h(b)?b:!0;for(var e=a.length,f=0;f<e;f++)this.addEvent(a[f],!1,!1);b&&tc("onEventAdded",a);c&&ia()};this.addEvent=function(a,c,b){var e=!1;if(a.from<=a.to){var f=a.from;f=f.getFullYear()+"-"+f.getMonth()+"-"+f.getDate();var k=Rd();M.hasOwnProperty(f)||(M[f]={});M[f].hasOwnProperty(k)||(c=h(c)?c:!0,b=h(b)?b:!0,h(a.id)?k=a.id:a.id=k,h(a.created)||(a.created=new Date),M[f][k]=ld(a),e=!0,b&&tc("onEventAdded",a),c&&ia())}return e};this.updateEvent=function(a,c,b,e){if(a=this.removeEvent(a,
!1,!1))b=h(b)?b:!0,e=h(e)?e:!0,c.id=Rd(),(a=this.addEvent(c,b,!1))&&e&&tc("onEventUpdated",c);return a};this.removeEvent=function(a,c,b){var e=!1;qb(function(f,k,l){if(l===a)return c=h(c)?c:!0,b=h(b)?b:!0,delete M[k][l],e=!0,b&&tc("onEventRemoved",f),c&&ia(),!0});return e};this.clearEvents=function(a){a=h(a)?a:!0;M={};xa("onEventsCleared");a&&ia()};this.getEvents=function(){return Fa(pb())};this.getEvent=function(a){var c=null;qb(function(b,e,f){if(f===a)return c=b,!0});return c};this.setOptions=
function(a){a=Vd(a);for(var c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);Lb&&(Lb=!1,J(t,!0))};(function(a,c){r=a;Ga=c;Yc=Wd;d=Vd(Xd);h(d.previousMonthTooltipText)||(d.previousMonthTooltipText="Previous Month");h(d.nextMonthTooltipText)||(d.nextMonthTooltipText="Next Month");h(d.previousDayTooltipText)||(d.previousDayTooltipText="Previous Day");h(d.nextDayTooltipText)||(d.nextDayTooltipText="Next Day");h(d.previousWeekTooltipText)||(d.previousWeekTooltipText="Previous Week");h(d.nextWeekTooltipText)||(d.nextWeekTooltipText=
"Next Week");h(d.addEventTooltipText)||(d.addEventTooltipText="Add Event");h(d.closeTooltipText)||(d.closeTooltipText="Close");h(d.exportEventsTooltipText)||(d.exportEventsTooltipText="Export Events");h(d.todayTooltipText)||(d.todayTooltipText="Today");h(d.refreshTooltipText)||(d.refreshTooltipText="Refresh");h(d.searchTooltipText)||(d.searchTooltipText="Search");h(d.expandDayTooltipText)||(d.expandDayTooltipText="Expand Day");h(d.listAllEventsTooltipText)||(d.listAllEventsTooltipText="View All Events");
h(d.listWeekEventsTooltipText)||(d.listWeekEventsTooltipText="View Current Week Events");h(d.dayHeaderNames)||(d.dayHeaderNames="Mon Tue Wed Thu Fri Sat Sun".split(" "));h(d.dayNames)||(d.dayNames="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "));h(d.fromText)||(d.fromText="From:");h(d.toText)||(d.toText="To:");h(d.isAllDayText)||(d.isAllDayText="Is All-Day");h(d.titleText)||(d.titleText="Title:");h(d.descriptionText)||(d.descriptionText="Description:");h(d.locationText)||(d.locationText=
"Location:");h(d.addText)||(d.addText="Add");h(d.updateText)||(d.updateText="Update");h(d.cancelText)||(d.cancelText="Cancel");h(d.removeEventText)||(d.removeEventText="Remove");h(d.addEventTitle)||(d.addEventTitle="Add Event");h(d.editEventTitle)||(d.editEventTitle="Edit Event");h(d.monthNames)||(d.monthNames="January February March April May June July August September October November December".split(" "));h(d.showDayNumberOrdinals)||(d.showDayNumberOrdinals=!0);h(d.dragAndDropForEventsEnabled)||
(d.dragAndDropForEventsEnabled=!0);h(d.exportStartFilename)||(d.exportStartFilename="exported_events_");h(d.fromTimeErrorMessage)||(d.fromTimeErrorMessage="Please select a valid 'From' time.");h(d.toTimeErrorMessage)||(d.toTimeErrorMessage="Please select a valid 'To' time.");h(d.toSmallerThanFromErrorMessage)||(d.toSmallerThanFromErrorMessage="Please select a 'To' date that is larger than the 'From' date.");h(d.titleErrorMessage)||(d.titleErrorMessage="Please enter a value in the 'Title' field (no empty space).");
h(d.stText)||(d.stText="st");h(d.ndText)||(d.ndText="nd");h(d.rdText)||(d.rdText="rd");h(d.thText)||(d.thText="th");h(d.maximumEventsPerDayDisplay)||(d.maximumEventsPerDayDisplay=3);h(d.yesText)||(d.yesText="Yes");h(d.noText)||(d.noText="No");h(d.extraSelectableYearsAhead)||(d.extraSelectableYearsAhead=51);h(d.allDayText)||(d.allDayText="All-Day");h(d.allEventsText)||(d.allEventsText="All Events");h(d.exportEventsEnabled)||(d.exportEventsEnabled=!0);h(d.manualEditingEnabled)||(d.manualEditingEnabled=
!0);h(d.showTimesInMainCalendarEvents)||(d.showTimesInMainCalendarEvents=!1);h(d.startsOnText)||(d.startsOnText="Starts on the");h(d.andFinishesOnText)||(d.andFinishesOnText="and finishes on the");h(d.toTimeText)||(d.toTimeText="to");h(d.autoRefreshTimerDelay)||(d.autoRefreshTimerDelay=5E3);h(d.confirmEventRemoveTitle)||(d.confirmEventRemoveTitle="Confirm Event Removal");h(d.confirmEventRemoveMessage)||(d.confirmEventRemoveMessage="Removing this event cannot be undone.  Do you want to continue?");
h(d.okText)||(d.okText="OK");h(d.selectExportTypeTitle)||(d.selectExportTypeTitle="Select Export Type");h(d.fullScreenModeEnabled)||(d.fullScreenModeEnabled=!0);h(d.eventTooltipDelay)||(d.eventTooltipDelay=1E3);h(d.selectColorsText)||(d.selectColorsText="Select Colors");h(d.backgroundColorText)||(d.backgroundColorText="Background Color:");h(d.textColorText)||(d.textColorText="Text Color:");h(d.borderColorText)||(d.borderColorText="Border Color:");h(d.searchEventsTitle)||(d.searchEventsTitle="Search Events");
h(d.forText)||(d.forText="For:");h(d.previousText)||(d.previousText="Previous");h(d.nextText)||(d.nextText="Next");h(d.matchCaseText)||(d.matchCaseText="Match Case");h(d.minimumDayHeight)||(d.minimumDayHeight=0);h(d.repeatsText)||(d.repeatsText="Repeats:");h(d.repeatDaysToExcludeText)||(d.repeatDaysToExcludeText="Repeat Days To Exclude:");h(d.daysToExcludeText)||(d.daysToExcludeText="Days To Exclude:");h(d.seriesIgnoreDatesText)||(d.seriesIgnoreDatesText="Series Ignore Dates:");h(d.repeatsNever)||
(d.repeatsNever="Never");h(d.repeatsEveryDayText)||(d.repeatsEveryDayText="Every Day");h(d.repeatsEveryWeekText)||(d.repeatsEveryWeekText="Every Week");h(d.repeatsEveryMonthText)||(d.repeatsEveryMonthText="Every Month");h(d.repeatsEveryYearText)||(d.repeatsEveryYearText="Every Year");h(d.repeatOptionsTitle)||(d.repeatOptionsTitle="Repeat Options");h(d.moreText)||(d.moreText="More");h(d.includeText)||(d.includeText="Include:");h(d.holidays)||(d.holidays=[{day:24,month:12,title:"Christmas Eve"},{day:25,
month:12,title:"Christmas Day"},{day:26,month:12,title:"Boxing Day"},{day:31,month:12,title:"New Year's Eve"},{day:1,month:1,title:"New Year's Day"}]);h(d.minimizedTooltipText)||(d.minimizedTooltipText="Minimize");h(d.restoreTooltipText)||(d.restoreTooltipText="Restore");h(d.removeAllEventsInSeriesText)||(d.removeAllEventsInSeriesText="Remove All Events In Series");h(d.createdText)||(d.createdText="Created:");h(d.organizerName)||(d.organizerName="");h(d.organizerEmailAddress)||(d.organizerEmailAddress=
"");h(d.organizerNameText)||(d.organizerNameText="Organizer:");h(d.organizerEmailAddressText)||(d.organizerEmailAddressText="Organizer Email:");h(d.enableFullScreenTooltipText)||(d.enableFullScreenTooltipText="Turn On Full-Screen Mode");h(d.disableFullScreenTooltipText)||(d.disableFullScreenTooltipText="Turn Off Full-Screen Mode");h(d.idText)||(d.idText="ID:");h(d.spacing)||(d.spacing=10);h(d.expandMonthTooltipText)||(d.expandMonthTooltipText="Expand Month");h(d.repeatEndsText)||(d.repeatEndsText=
"Repeat Ends:");h(d.noEventsAvailableText)||(d.noEventsAvailableText="No events available");h(d.viewWeekEventsText)||(d.viewWeekEventsText="View Week Events");J(Yd,!0)})(document,window)};