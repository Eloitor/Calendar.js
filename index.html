<html>
    <head>
        <meta charset="utf-8" />
        <title>Calendar.js v0.6.0</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="src/calendarjs.css" />
        <script src="src/calendarjs.js"></script>
    </head>

    <body>
        <button onclick="calendarInstance.moveToPreviousMonth();">Previous Month</button>
        <button onclick="calendarInstance.moveToNextMonth();">Next Month</button>
        <button onclick="removeEvent();">Remove Event</button>
        <button onclick="calendarInstance.clearEvents();">Clear Events</button>
        <button onclick="setOptions();">Set Options</button>
        <br />
        <br />
        <div id="myCalendar" style="max-width: 800px;">
            <p>Some data that should be cleared.</p>
        </div>
        <br />
        <br />
        <a href="index_minified_files.html" target="_self">Minimized Version</a>
        <br />
        <br />
        <button onclick="calendarInstance.exportAllEvents( 'csv' );">Export All Events (csv)</button>
        <button onclick="calendarInstance.exportAllEvents( 'xml' );">Export All Events (xml)</button>
        <button onclick="calendarInstance.exportAllEvents( 'json' );">Export All Events (json)</button>
        <button onclick="calendarInstance.exportAllEvents( 'text' );">Export All Events (text)</button>
    </body>

    <script>
        var calendarInstance = new calendarJs( "myCalendar", { 
                exportEventsEnabled: true, 
                manualEditingEnabled: true, 
                showTimesInMainCalendarEvents: false,
                minimumDayHeight: 0,
                manualEditingEnabled: true,
                holidays: getHolidays()
            } ),
            previousDay = new Date(),
            today9 = new Date(),
            today11 = new Date(),
            tomorrow = new Date(),
            firstDayInNextMonth = new Date(),
            lastDayInNextMonth = new Date(),
            today = new Date(),
            today3HoursAhead = new Date();

        previousDay.setDate( previousDay.getDate() - 1 );
        today11.setHours( 11 );
        tomorrow.setDate( today11.getDate() + 1 );
        today9.setHours( 9 );

        firstDayInNextMonth.setDate( 1 );
        firstDayInNextMonth.setDate( firstDayInNextMonth.getDate() + daysInMonth( firstDayInNextMonth.getFullYear(), firstDayInNextMonth.getMonth() ) );

        lastDayInNextMonth.setDate( 1 );
        lastDayInNextMonth.setMonth( lastDayInNextMonth.getMonth() + 1 );
        lastDayInNextMonth.setDate( lastDayInNextMonth.getDate() + daysInMonth( lastDayInNextMonth.getFullYear(), lastDayInNextMonth.getMonth() ) - 1 );

        today.setHours( 21, 59, 0, 0 );
        today.setDate( today.getDate() + 3 );
        today3HoursAhead.setHours( 23, 59, 0, 0 );
        today3HoursAhead.setDate( today3HoursAhead.getDate() + 3 );

        var events = [
            {
                from: previousDay,
                to: previousDay,
                title: "Previous Day",
                description: "This is a another description of the event that has been added, so it can be shown in the pop-up dialog.",
                location: "Teams Meeting",
                isAllDay: true,
                color: "#FF0000",
                colorText: "#FFFF00",
                colorBorder: "#00FF00",
                repeatEvery: 4
            },
            {
                from: today11,
                to: tomorrow,
                title: "Title 1",
                description: "This is a another description of the event that has been added, so it can be shown in the pop-up dialog.",
                location: "Teams Meeting",
                isAllDay: false
            },
            {
                from: tomorrow,
                to: today11,
                title: "Title Bad (should not show)",
                description: "This is a another description of the event that has been added, so it can be shown in the pop-up dialog.",
                location: "Teams Meeting",
                isAllDay: false
            },
            {
                from: today9,
                to: today9,
                title: "Title 2",
                description: "This is a another description of the event that has been added, so it can be shown in the pop-up dialog.",
                location: "Teams Meeting",
                isAllDay: true
            },
            {
                from: firstDayInNextMonth,
                to: firstDayInNextMonth,
                title: "First Day",
                description: "This is a another description of the event that has been added, so it can be shown in the pop-up dialog.",
                location: "Teams Meeting",
                isAllDay: true,
                color: "#00FF00",
                colorText: "#FF0000",
                repeatEvery: 3
            },
            {
                from: lastDayInNextMonth,
                to: lastDayInNextMonth,
                title: "Last Day",
                description: "This is a another description of the event that has been added, so it can be shown in the pop-up dialog.",
                location: "Teams Meeting",
                isAllDay: true,
                color: "#0000FF",
                repeatEvery: 2
            },
            {
                from: today,
                to: today3HoursAhead,
                title: "Regular Event",
                description: "This is a another description of the event that has been added, so it can be shown in the pop-up dialog.",
                repeatEvery: 1,
                repeatEveryExcludeDays: [ 6, 0 ]
            }
        ];
        
        calendarInstance.addEvents( events );

        function removeEvent() {
            calendarInstance.removeEvent( new Date(), "Test Title 2" );
        }

        function daysInMonth( year, month ) {
            return new Date( year, month + 1, 0 ).getDate();
        }

        function setOptions() {
            calendarInstance.setOptions( {
                minimumDayHeight: 70,
                manualEditingEnabled: false,
                exportEventsEnabled: false,
                showDayNumberOrdinals: false
            } );
        }

        function getHolidays() {
            return [
                {
                    day: 24,
                    month: 12,
                    title: "Christmas Eve"
                },
                {
                    day: 25,
                    month: 12,
                    title: "Christmas Day"
                },
                {
                    day: 26,
                    month: 12,
                    title: "Boxing Day"
                }
            ];
        }
    </script>
</html>